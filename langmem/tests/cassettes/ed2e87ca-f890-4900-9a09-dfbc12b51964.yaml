interactions:
- request:
    body: '{"messages":[{"content":"You are tasked with summarizing the following
      conversation.","role":"system"},{"content":"Summarize the conversation below:\n\n<conversation_2a6397cb-9dcd-4553-8dcc-0a323e3a0fcf>\n<function
      get_conversation at 0x107dffec0>\n</conversation_2a6397cb-9dcd-4553-8dcc-0a323e3a0fcf>","role":"user"}],"model":"gpt-4","stream":false,"tool_choice":"required","tools":[{"type":"function","function":{"name":"SummarizeThread","description":"Summarize
      the thread.","parameters":{"description":"Summarize the thread.","properties":{"title":{"title":"Title","type":"string"},"summary":{"title":"Summary","type":"string"}},"required":["title","summary"],"title":"SummarizeThread","type":"object"}}}]}'
    headers: {}
    method: POST
    uri: https://api.openai.com/v1/chat/completions
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAAwAAAP//jFTLbtswELz7KxY8W4FtJY6tnto0h6ItEqA5uK0KgSZXEhO+QFJuHMP/
        XlByJCVNgeogEDvcmX3yMAEggpMMCKtpYMrK5P3OP35Z6v3n7Z3dbGb8vrkWq3VVPqqrD4pMo4fZ
        3iMLz15nzCgrMQijO5g5pAEj6/wyXaUX63Q+bwFlOMroVtmQnCez5Tw9edRGMPQkg58TAIBD+4+x
        aY6PJIPZ9Nmi0HtaIcn6SwDEGRkthHovfKA6kOkAMqMD6hiubqQcAcEYWTAq5SDcfYfReSgQlbLY
        3Dyw+8o9hevb8vvuh71as5vmdvt1pNdR720bUNlo1hdmhPf27JUYANFUtb7fGqWoE094Vzuk/BUF
        AKGuahTqEMMnh1znJIggMScZ5OTK6B06T6MKfPqYwYIu0/Ul2yZrznhyfnGRJivOWDKj6SLFlM5K
        VuZkGml8q7zviO5qBDYmO9UThAdtAlhndoIjh98i1EJDqBEC9Q/A0TMnbPR5F60OS+NwChRO/MCo
        jgxbhNI4hRwoY42jAeX+LCe5PpIXKR8nb51/jTrqsGw8ladWn+zHfnakqawzW/9qFEgptPB14ZD6
        tiXEB2M77ajTKpDmxdgR64yyoQjmAXUknJ8vOj4yrMOALpcnMJhA5WBfzFbTN/gKjoGKdi77VWCU
        1cgH12ElaMOFGQGTUdZ/R/MWd5e50NX/0A8AY2gD8sI65IK9zHi45jC+Fv+61le5DZh4dDvBsAgC
        XewEx5I2sttn4vc+oCpKoSt01ol+qSfHyR8AAAD//wMAfyUeWssEAAA=
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90acd47f5a214237-EWR
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:35:15 GMT
      Server:
      - cloudflare
      Set-Cookie:
      - __cf_bm=ItBRIQ7xnxub7b_sdDABWHtevjvaTffGwxez.zCUWCo-1738359315-1.0.1.1-9Cb.iOho1rV6TL7Rg1DmWT7L6E1kvSucEeO72rJJNCYCqAfPIgdt2tj6GHCBYwEP2adpCO993.syZCtCQUbXlA;
        path=/; expires=Fri, 31-Jan-25 22:05:15 GMT; domain=.api.openai.com; HttpOnly;
        Secure; SameSite=None
      - _cfuvid=G4qecFt0LR3bPvUsIOdHXK4nRfKa5iH5wU5Q9Xe1vu4-1738359315186-0.0.1.1-604800000;
        path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None
      Transfer-Encoding:
      - chunked
      X-Content-Type-Options:
      - nosniff
      access-control-expose-headers:
      - X-Request-ID
      alt-svc:
      - h3=":443"; ma=86400
      openai-organization:
      - langchain
      openai-processing-ms:
      - '3867'
      openai-version:
      - '2020-10-01'
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      x-ratelimit-limit-requests:
      - '10000'
      x-ratelimit-limit-tokens:
      - '1000000'
      x-ratelimit-remaining-requests:
      - '9999'
      x-ratelimit-remaining-tokens:
      - '999921'
      x-ratelimit-reset-requests:
      - 6ms
      x-ratelimit-reset-tokens:
      - 4ms
      x-request-id:
      - req_7bcc17325386ecf01b04da5a590c5bc1
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are tasked
      with extracting or upserting memories for all entities, concepts, etc.\n\nExtract
      all important facts or entities. If an existing MEMORY is incorrect or outdated,
      update it based on the new information.\n\n\nEnrich, prune, and organize memories
      based on any new information. If an existing memory is incorrect or outdated,
      update it based on the new information. All operations must be done in single
      parallel call.\n\n<session_f7bd6c16-b745-465a-a8b3-27c0468defaf>\n================================
      Human Message =================================\n\nI prefer dark mode in all
      my apps\n\n================================== Ai Message ==================================\n\nI''ll
      remember that preference\n</session_f7bd6c16-b745-465a-a8b3-27c0468defaf>"}],"model":"claude-3-5-sonnet-latest","system":"You
      are a memory subroutine for an AI.\n\n","tool_choice":{"type":"any"},"tools":[{"name":"Memory","description":"Call
      this tool once for each new memory you want to record. Use multi-tool calling
      to record multiple new memories.","input_schema":{"description":"Call this tool
      once for each new memory you want to record. Use multi-tool calling to record
      multiple new memories.","properties":{"content":{"description":"The memory as
      a well-written, standalone episode/fact/note/preference/etc. Refer to the user''s
      instructions for more information the prefered memory organization.","title":"Content","type":"string"}},"required":["content"],"title":"Memory","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2SQQUsDMRCF/8oy5yxst7WFHFWqBysKaqEiIWanbWg2iZlE2i773yUrxRaP8968
        bx7TgW6AQ0sbUY3u9HJ7fJytlKX5arZor9N8vfTAIB485i0kkhsEBsGZLEgiTVHaCAxa16ABDsrI
        1GA5Lq9KctZiLOuqnoyqugYGytmINgJ/707Q6JwRiTJ1qJLnJKrR8+fkJai01w9vx/tvdbPfLJ9u
        HTCwss25BbYuHHLK+hSBd39weCUMhQ+4xkBFI8OuyO0KbQtpTCG9N1rJqJ0l6PsPBhSdFwElOXvZ
        aDAIvxJahcBtMoZBGp7Au9/LIrodWgI+ndYMlFRbFCrggBeXG9XJDyib/55L8VyZjPv+BwAA//8D
        ANglcg+fAQAA
    headers:
      CF-RAY:
      - 90acd49ba9c432c5-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:35:17 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:35:16Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:35:17Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:35:15Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:35:16Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01YNBVFtq8rmEQFYVXxKwrkV
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are tasked
      with extracting or upserting memories for all entities, concepts, etc.\n\nExtract
      all important facts or entities. If an existing MEMORY is incorrect or outdated,
      update it based on the new information.\n\n\nEnrich, prune, and organize memories
      based on any new information. If an existing memory is incorrect or outdated,
      update it based on the new information. All operations must be done in single
      parallel call.\n\n<session_9fabb85b-44ea-4098-9c2f-651abb86ed87>\n================================
      Human Message =================================\n\nI prefer dark mode in all
      my apps\n\n================================== Ai Message ==================================\n\nI''ll
      remember that preference\n</session_9fabb85b-44ea-4098-9c2f-651abb86ed87>"}],"model":"claude-3-5-sonnet-latest","system":"You
      are a memory subroutine for an AI.\n\n","tool_choice":{"type":"any"},"tools":[{"name":"PreferenceMemory","description":"Store
      the user''s preference","input_schema":{"description":"Store the user''s preference","properties":{"category":{"title":"Category","type":"string"},"preference":{"title":"Preference","type":"string"},"context":{"title":"Context","type":"string"}},"required":["category","preference","context"],"title":"PreferenceMemory","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAAwAAAP//ZFBtS8MwEP4r5T630GZ2znxUHDIdbIqCiISQ3mZdmnS5RCyl/13Ssenw
        4z1vd8/1UFfAoaGtyIvX66Z8nqvLMH9aP84ZKz7d/v4OUvBdi1GFRHKLkIKzOgKSqCYvjYcUGluh
        Bg5Ky1BhNsnKjKwx6DOWs4siZwxSUNZ4NB74W38M9dZqESimjqfEOYi8WF11i3V5uyzZw+Kmmb50
        q5n7IkjByCb6Vg436NAoXGJjXRf9pg0eeA9KetxGjENtPLqNVCjakyGm/E7AoZJuJ2KB44nfHjgE
        QpccdJRESRIlySkx2ViXSK0T2ba6VtLX1hAMw3sK5G0rHEqy5rziSBDuw2GzCVqnEMav8v5QQHi7
        Q0PApxOWgpLqA4VyOMaLc0V+5B3K6j9ng/+LzKbD8AMAAP//AwBM7VXz8AEAAA==
    headers:
      CF-RAY:
      - 90acd4a5ecf332d2-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:35:19 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:35:18Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:35:19Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:35:17Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:35:18Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_012kYtDTgALfQbxfaADLuAZV
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are tasked
      with extracting or upserting memories for all entities, concepts, etc.\n\nExtract
      all important facts or entities. If an existing MEMORY is incorrect or outdated,
      update it based on the new information.\n\n\nEnrich, prune, and organize memories
      based on any new information. If an existing memory is incorrect or outdated,
      update it based on the new information. All operations must be done in single
      parallel call.\n\n<session_7106bc09-4a48-4f94-a505-4ab1169c9a14>\n================================
      Human Message =================================\n\nActually I changed my mind,
      dark mode hurts my eyes\n\n================================== Ai Message ==================================\n\nI''ll
      update your preference\n</session_7106bc09-4a48-4f94-a505-4ab1169c9a14>"}],"model":"claude-3-5-sonnet-latest","system":"You
      are a memory subroutine for an AI.\n\n\n\nGenerate JSONPatches to update the
      existing schema instances. If you need to extract or insert *new* instances
      of the schemas, call the relevant function(s).\n<existing>\n<instance id=ed13a880-e437-4ea8-b175-5f147542b1b9
      schema_type=\"PreferenceMemory\">\n{''category'': ''interface_preferences'',
      ''preference'': ''dark_mode'', ''context'': ''user prefers dark mode interface
      for all applications''}\n</instance>\n</existing>\n","tool_choice":{"type":"any"},"tools":[{"name":"PatchDoc","description":"Respond
      with JSONPatch operations to update the existing JSON document based on the
      provided text and schema.","input_schema":{"properties":{"json_doc_id":{"description":"The
      json_doc_id of the document you are patching.","type":"string"},"planned_edits":{"description":"Think
      step-by-step, reasoning over each required update and the corresponding JSONPatch
      operation to accomplish it. Cite the fields in the JSONSchema you referenced
      in developing this plan. Address each path as a group; don''t switch between
      paths.\n Plan your patches in the following order:1. replace - this keeps collection
      size the same.\n2. remove - BE CAREFUL ABOUT ORDER OF OPERATIONS. Each operation
      is applied sequentially. For arrays, remove the highest indexed value first
      to avoid shifting indices. This ensures subsequent remove operations remain
      valid.\n 3. add (for arrays, use /- to efficiently append to end).","type":"string"},"patches":{"description":"A
      list of JSONPatch operations to be applied to the previous tool call''s response
      arguments. If none are required, return an empty list. This field is REQUIRED.
      Multiple patches in the list are applied sequentially in the order provided,
      with each patch building upon the result of the previous one. Take care to respect
      array bounds. Order patches as follows:\n 1. replace - this keeps collection
      size the same\n 2. remove - BE CAREFUL about order of operations. For arrays,
      remove the highest indexed value first to avoid shifting indices.\n 3. add -
      for arrays, use /- to efficiently append to end.","items":{"description":"A
      JSON Patch document represents an operation to be performed on a JSON document.\n\nNote
      that the op and path are ALWAYS required. Value is required for ALL operations
      except ''remove''.","examples":[{"op":"replace","path":"/path/to/my_array/1","value":"the
      newer value to be patched"},{"op":"replace","path":"/path/to/broken_object","value":{"new":"object"}},{"op":"add","path":"/path/to/my_array/-","value":["some","values"]},{"op":"add","path":"/path/to/my_array/-","value":["newer"]},{"op":"remove","path":"/path/to/my_array/1"}],"properties":{"op":{"description":"The
      operation to be performed. Must be one of ''add'', ''remove'', ''replace''.","enum":["add","remove","replace"],"type":"string"},"path":{"description":"A
      JSON Pointer path that references a location within the target document where
      the operation is performed. Note: patches are applied sequentially. If you remove
      a value, the collection size changes before the next patch is applied.","type":"string"},"value":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"type":"null"}]},"type":"object"},{"type":"null"}],"description":"The
      value to be used within the operation. REQUIRED for ''add'', ''replace'', and
      ''test'' operations. Pay close attention to the json schema to ensure patched
      document will be valid."}},"required":["op","path","value"],"type":"object"},"type":"array"}},"required":["json_doc_id","planned_edits","patches"],"type":"object"}},{"name":"PreferenceMemory","description":"Store
      the user''s preference","input_schema":{"properties":{"category":{"type":"string"},"preference":{"type":"string"},"context":{"type":"string"}},"required":["category","preference","context"],"type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA3SSTW/bMAyG/4rASy52Fjt2k/o2YFt36IqgwNYWa2EoEmOrUSRPorakQf57ISdd
        HQw78uMlH37sQUmoYOObepLdXj18vv9arC++dNuHH9uPze2fZxUgAdp1GLPQe94gJOCsjg7uvfLE
        DUECGytRQwVC8yAxnaZl6q0xSGk+yYtskueQgLCG0BBUP/dvRclaXQcfq/Yo0Q71JCsvXpZ35fxl
        cV18Wyyb++uroruRkIDhm6hbcBLtJyuiznSBoNrDs7emllbUfSWU2ZTP55MUi+ksLZDP02U2K9Ny
        lRWzssiX2fISEug0NwZljVKRhwq+e3Ss5Z4pI5XghJJxJlpuGmTKsM7hCh0agWzl7IZJ7tYsDs/I
        Mq2alnprzG4QZfSFTnJCtrTUDsW/uQ7IuJGsX8qWYq7DlUZBjFrlTz3H7E5pzYJHNnLYaS5wxGyH
        jpOyJoo2VqrVrno02fiMTqGWR8ZRhKwj1igKRj3m0X40+fgvwVEy4Age3cgzEZxDQ8PqEdwh99Yo
        08QtxnOg7y9rO6jgxHoMtVDBh3c1JNCPDxW8o8Ah+a/0BDjQRbITjx+snSlD6FY8EvrBbdrgyDNq
        UTmGO/RweDocnhLwZLv6OMf5L/YBj79Cz1uZoHUCoX//an/8uJrsGo2HKrssZgkILlqshcP+MPV5
        yuQt7pDLf2M20NCTF+Xh8AoAAP//AwCTIevfmwMAAA==
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90acd4b159bb32d2-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:35:25 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '398000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:35:20Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:35:25Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:35:19Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '478000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:35:20Z'
      request-id:
      - req_01N7d7buFWA6ZDr9439PZrQU
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"messages":[{"content":"You are a memory search assistant.","role":"system"},{"content":"What
      do I like to eat?\nSearch for memories relevant to the above context.","role":"user"}],"model":"gpt-4o-mini","stream":false,"tool_choice":{"type":"function","function":{"name":"search_memory"}},"tools":[{"type":"function","function":{"name":"search_memory","description":"Search
      your long-term memories for information relevant to your current context. {instructions}","parameters":{"properties":{"query":{"type":"string"},"limit":{"default":10,"type":"integer"},"offset":{"default":0,"type":"integer"},"filter":{"anyOf":[{"type":"object"},{"type":"null"}],"default":null}},"required":["query"],"type":"object"}}}]}'
    headers: {}
    method: POST
    uri: https://api.openai.com/v1/chat/completions
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAAwAAAP//jFNNj9owEL3nV1hzJhUEWCC3SlXVlcqql1bbLVVknEnw4q+1HRYW8d8r
        J2wSKJWaQ2TNm3lvPo8RIcBzSAmwDfVMGhF/3Ln90+u9/KEfBEu23++/PG/ffi4eHvd3iyEMQoRe
        PyPz71EfmJZGoOdaNTCzSD0G1tFsPB9PF+NkWgNS5yhCWGl8PNGx5IrHyTCZxMNZPJqfozeaM3SQ
        kl8RIYQc63/IU+W4h5QMB+8Wic7REiFtnQgBq0WwAHWOO0+Vh0EHMq08qpC6qoToAV5rkTEqRCfc
        fMfeu2sWFSIb7b9Wbwf+8rQ0n+fL18eClcv9p29VT6+hPpg6oaJSrG1SD2/t6ZUYIaCorGMdUss2
        mUSp7eGKgBCgtqwkKh+Sh+MKXiq0hxWkKyjoTlvukRRa5wMi+BaJ1wSpX8EJLnhO0a33716TLBaV
        o+LcvbP91I5D6NJYvXZX3YWCK+42mUXq6irBeW0a7aBTK0B1MUkwVkvjM6+3qALhaDRt+KDbtj56
        Br32VPTsyd3gBl+Wo6e8HnW7XYyyDeZdaLdltMq57gFRr+q/s7nF3VTOVfk/9B3AGBqPeWYs5pxd
        Vty5WQzH+C+3tst1wuDQ7jjDzHO0YRI5FrQSzYmAOziPMiu4KtEay+s7gcJkswTzGV1PJwyiU/QH
        AAD//wMAsW+aDTUEAAA=
    headers:
      CF-RAY:
      - 90acd4d91fc64268-EWR
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:35:26 GMT
      Server:
      - cloudflare
      Set-Cookie:
      - __cf_bm=QGVvGG1.Bp81naDB5BOtntSdNrZAuk_W0_zHuOgVazs-1738359326-1.0.1.1-MegS2HyHu2WoEWz2h70glx0YdGqWek7TjTBxUuUdMqIQHTMjG2MR4xohpQwmGwQ3jp6kmqiHlAa5XYIDA1tNAg;
        path=/; expires=Fri, 31-Jan-25 22:05:26 GMT; domain=.api.openai.com; HttpOnly;
        Secure; SameSite=None
      - _cfuvid=SPPrPasj.8G8TU1IvfSmi.6zUwUK7ugMMmTuf6aM570-1738359326017-0.0.1.1-604800000;
        path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None
      Transfer-Encoding:
      - chunked
      X-Content-Type-Options:
      - nosniff
      access-control-expose-headers:
      - X-Request-ID
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      openai-organization:
      - langchain
      openai-processing-ms:
      - '346'
      openai-version:
      - '2020-10-01'
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      x-ratelimit-limit-requests:
      - '30000'
      x-ratelimit-limit-tokens:
      - '150000000'
      x-ratelimit-remaining-requests:
      - '29999'
      x-ratelimit-remaining-tokens:
      - '149999954'
      x-ratelimit-reset-requests:
      - 2ms
      x-ratelimit-reset-tokens:
      - 0s
      x-request-id:
      - req_7df8b05de843d6329c8e73deedada4a4
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"Analyze the following
      sessions and decide which prompts \nought to be updated to improve the performance
      on future sessions:\n\n<session_5644d4bfd4724dd2b2814a979c2ab690>\n================================
      Human Message =================================\n\nTell me about renewable energy\n\n==================================
      Ai Message ==================================\n\nHere''s what I found in my
      research...\nTo summarize the key points about renewable energy...{}\n</session_5644d4bfd4724dd2b2814a979c2ab690>\n\nBelow
      are the prompts being optimized:\nresearch: Research the given topic thoroughly\nsummarize:
      Summarize the research findings\n\n\nReturn JSON with \"which\": [...], listing
      the names of prompts that need updates."}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"tool","name":"Classify"},"tools":[{"name":"Classify","description":"Classify
      which prompts merit updating for this conversation.","input_schema":{"description":"Classify
      which prompts merit updating for this conversation.","properties":{"reasoning":{"description":"Reasoning
      for which prompts to update.","title":"Reasoning","type":"string"},"which":{"description":"List
      of prompt names that should be updated. Must be among [''research'', ''summarize'']","items":{"type":"string"},"title":"Which","type":"array"}},"required":["reasoning","which"],"title":"Classify","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA3ST207bQBCGX2U0NwXJWDlRVb6jpQjoTWlzVYKijT2JF+xZszNLMFHevVrn0IS2
        l7vzz+H/ZneFtsAMa1lMe/2Lq6+v5eJ6NlwO735djx/7/vb5VTFBbRuKKhIxC8IEvavihRGxooaj
        pnYFVZhhXplQ0Nnw7PxMHDPp2aA3GPV7gwEmmDtWYsXsfrUrqs5V0yCxajdKPIdpr39JV6+Xo8G3
        /Pzx+8fz4V1hRrdvj5ggmzrmfali93kb87gJitkKl6XNS8zu0ZOQ8XmJCUqoa+PtG+FDgp6MOLa8
        wAw/Oy1BS4KdGAwXsJdD413dqAATFRCawigJzCg3QSib8IT7KfzYpW7EGYw39RrHQiClWwpoaRSW
        pa2o63ZxA0aV6kapAHV/up9M8Jo8fRBYxowbmLvABViGut2r0jSd4GkCVmFubLUpYXINpqraOMWL
        LQgMtyBh1q3Gvhw43PIHM3NBwRPT0swqAmLyizaFcWkFLBc279we0dlY7HAIiHrihZYUYcYZiCX4
        DlpDHizPna+NWsewMFqSj7LIt4n1WLtQGikOUvj5jvk/MZqd4S09MLpf1qbRyQTH7mCBcfonaqFx
        llX+5zlNV+sJnsLSagmxcLujlHZjvH8QWwDdgzj2bnVrv2ojn5Br8CSHrqWbZx4B80ISoBdisPNj
        zqLUQGkKsCKBJMX1+iFBUddMN8/3+NN0AaHnQJwTZhyqKsHQ/dNstfkaU3VPxILZx1EvwdzkJU1z
        Tx216bFiH/dkir9jLujhTf9Tf73+DQAA//8DAH3pH8VDBAAA
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90acd4e01a3432b3-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:35:31 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:35:28Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:35:31Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:35:26Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:35:28Z'
      request-id:
      - req_01BZP1ERieCCjTKNTv9ZZ9DZ
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: "{\"max_tokens\":1024,\"messages\":[{\"role\":\"user\",\"content\":\"You
      are reviewing the performance of an AI assistant in a given interaction. \\n\\n##
      Instructions\\n\\nThe current prompt that was used for the session is provided
      below.\\n\\n<current_prompt>\\nSummarize the research findings\\n</current_prompt>\\n\\nThe
      developer provided the following instructions around when and how to update
      the prompt:\\n\\n<update_instructions>\\n\\n</update_instructions>\\n\\n## Session
      data\\n\\nAnalyze the following sessions (and any associated user feedback)
      (either conversations with a user or other work that was performed by the assistant):\\n\\n<sessions>\\n<session_d9ed74abe9654adf976e605acb62dfdc>\\n================================
      Human Message =================================\\n\\nTell me about renewable
      energy\\n\\n================================== Ai Message ==================================\\n\\nHere's
      what I found in my research...\\nTo summarize the key points about renewable
      energy...{}\\n</session_d9ed74abe9654adf976e605acb62dfdc>\\n</sessions>\\n\\ni##
      Feedback\\n\\nThe following feedback is provided for this session:\\n\\n<feedback>\\n\\n</feedback>\\n\\n##
      Task\\n\\nAnalyze the conversation, including the user\u2019s request and the
      assistant\u2019s response, and evaluate:\\n1. How effectively the assistant
      fulfilled the user\u2019s intent.\\n2. Where the assistant might have deviated
      from user expectations or the desired outcome.\\n3. Specific areas (correctness,
      completeness, style, tone, alignment, etc.) that need improvement.\\n\\nIf the
      prompt seems to do well, then no further action is needed. We ONLY recommend
      updates if there is evidence of failures.\\nWhen failures occur, we want to
      recommend the minimal required changes to fix the problem.\\n\\nFocus on actionable
      changes and be concrete.\\n\\n1. Summarize the key successes and failures in
      the assistant\u2019s response. \\n2. Identify which failure mode(s) best describe
      the issues (examples: style mismatch, unclear or incomplete instructions, flawed
      logic or reasoning, hallucination, etc.).\\n3. Based on these failure modes,
      recommend the most suitable edit strategy. For example, consider::\\n   - Use
      synthetic few-shot examples for style or clarifying decision boundaries.\\n
      \  - Use explicit instruction updates for conditionals, rules, or logic fixes.\\n
      \  - Provide step-by-step reasoning guidelines for multi-step logic problems.\\n4.
      Provide detailed, concrete suggestions for how to update the prompt accordingly.\\n\\nBut
      remember, the final updated prompt should only be changed if there is evidence
      of poor performance, and our recommendations should be minimally invasive.\\nDo
      not recommend generic changes that aren't clearly linked to failure modes.\\n\\nFirst
      think through the conversation and critique the current behavior.\\nIf you believe
      the prompt needs to further adapt to the target context, provide precise recommendations.\\nOtherwise,
      mark `warrants_adjustment` as False and respond with 'No recommendations.'\"}],\"model\":\"claude-3-5-sonnet-latest\",\"tool_choice\":{\"type\":\"any\"},\"tools\":[{\"name\":\"think\",\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"input_schema\":{\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"properties\":{\"thought\":{\"title\":\"Thought\",\"type\":\"string\"}},\"required\":[\"thought\"],\"title\":\"think\",\"type\":\"object\"}},{\"name\":\"critique\",\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"input_schema\":{\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"properties\":{\"criticism\":{\"title\":\"Criticism\",\"type\":\"string\"}},\"required\":[\"criticism\"],\"title\":\"critique\",\"type\":\"object\"}}]}"
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA4xUTW8bNxD9KwNefJFkS1HaYG9CmsJCG6NwlSZFVQgj7miXEHe45gwlK4b/e0Gu
        5Sjtpbddzteb9x75ZFxtKtNJs7mZfrB/HppOvuxum+2nxWrxw3H18PbejIyeespZJIINmZGJwecD
        FHGiyGpGpgs1eVMZ6zHVNH4zfjuWwEw6nt3M5tOb2cyMjA2sxGqqv57OTTUEv0mSuxYo+T9tbqZ/
        HO8f5qvH+9sf5/Fjd7fax+bzXTIjw9iVutbxPhdxn9RUT0bbkJpWTWV+JYWOABn96SuBtgQ28IGi
        oLrAgFwDHdAn1CH6useVQE9xF2KHbKla85qnE/gkFGFZkFewaglSPkDZUw27EMFxqRh6b0NSiMR0
        xK0nIKbYnEYgRHvHDew5HD3VDV3TY++RS9UkD5pNYHHGAfckfWAhWOQlxEm15nGZHc8RJ+DYhq73
        pFR26mPYespAbM5eKohiVIGj0xbW5pYiXQkcW1RYwi4krsExdKfclDDadjKZrA1IahoSzXBdpqQJ
        +VMD9DmPFXaOa8eN5CnvAys6FkAG6no9Qe/RUht8TRHW5ul5bQo6DoBWE3p4cUGuXqjmIsndNSKL
        Kyy+AF4FkNR1GN1Xgj2doA+OVQaU26R544OrSYBD9kOTW/6Mzpd+NXl3yELxCSRtC7HuQP9DrizH
        mwn8QidYiiQa2H9/5nqHzqdIAyMFAER6SCRK9WX3XPQhU3J9IdRZvxz8LYi4PNYG3iW5ABQ8XVvs
        ceu8U0eF6bsAojFZzbNDPNN4xlBn1PNJMYlNMb6Eul5hbX5/pVEHDxW5vwlpAPueMGZPYU0P5Wrg
        sPcye0BDgAM2aXCaR7uXAcBj0fGnQMJXCtKTdbvT4LHXMXqh42X2mb0muTpfOAgMbTjm/Ba59gS1
        i2QVCrkucOHhI55gS2AxSfblv7k7tqQtRaBHpcjov8FwAkxUU22en/8eGdHQbyKhBP7+HSoByYqy
        JVNx8n5kUnn6qqfhwdlo2BOLqabT6XxkLNqWNjZS0X3zfcrNOR4J6//GQtLLk9n83fPzPwAAAP//
        AwAZHrjIlwUAAA==
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90acd4ff9c4f4cb6-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:35:37 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:35:33Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:35:37Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:35:31Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:35:33Z'
      request-id:
      - req_01PAVxrnQBCrCMgXbabPFVcQ
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: "{\"max_tokens\":1024,\"messages\":[{\"role\":\"user\",\"content\":\"You
      are reviewing the performance of an AI assistant in a given interaction. \\n\\n##
      Instructions\\n\\nThe current prompt that was used for the session is provided
      below.\\n\\n<current_prompt>\\nResearch the given topic thoroughly\\n</current_prompt>\\n\\nThe
      developer provided the following instructions around when and how to update
      the prompt:\\n\\n<update_instructions>\\n\\n</update_instructions>\\n\\n## Session
      data\\n\\nAnalyze the following sessions (and any associated user feedback)
      (either conversations with a user or other work that was performed by the assistant):\\n\\n<sessions>\\n<session_cfc25efe763f47db828a02965d6a8ce4>\\n================================
      Human Message =================================\\n\\nTell me about renewable
      energy\\n\\n================================== Ai Message ==================================\\n\\nHere's
      what I found in my research...\\nTo summarize the key points about renewable
      energy...{}\\n</session_cfc25efe763f47db828a02965d6a8ce4>\\n</sessions>\\n\\ni##
      Feedback\\n\\nThe following feedback is provided for this session:\\n\\n<feedback>\\n\\n</feedback>\\n\\n##
      Task\\n\\nAnalyze the conversation, including the user\u2019s request and the
      assistant\u2019s response, and evaluate:\\n1. How effectively the assistant
      fulfilled the user\u2019s intent.\\n2. Where the assistant might have deviated
      from user expectations or the desired outcome.\\n3. Specific areas (correctness,
      completeness, style, tone, alignment, etc.) that need improvement.\\n\\nIf the
      prompt seems to do well, then no further action is needed. We ONLY recommend
      updates if there is evidence of failures.\\nWhen failures occur, we want to
      recommend the minimal required changes to fix the problem.\\n\\nFocus on actionable
      changes and be concrete.\\n\\n1. Summarize the key successes and failures in
      the assistant\u2019s response. \\n2. Identify which failure mode(s) best describe
      the issues (examples: style mismatch, unclear or incomplete instructions, flawed
      logic or reasoning, hallucination, etc.).\\n3. Based on these failure modes,
      recommend the most suitable edit strategy. For example, consider::\\n   - Use
      synthetic few-shot examples for style or clarifying decision boundaries.\\n
      \  - Use explicit instruction updates for conditionals, rules, or logic fixes.\\n
      \  - Provide step-by-step reasoning guidelines for multi-step logic problems.\\n4.
      Provide detailed, concrete suggestions for how to update the prompt accordingly.\\n\\nBut
      remember, the final updated prompt should only be changed if there is evidence
      of poor performance, and our recommendations should be minimally invasive.\\nDo
      not recommend generic changes that aren't clearly linked to failure modes.\\n\\nFirst
      think through the conversation and critique the current behavior.\\nIf you believe
      the prompt needs to further adapt to the target context, provide precise recommendations.\\nOtherwise,
      mark `warrants_adjustment` as False and respond with 'No recommendations.'\"}],\"model\":\"claude-3-5-sonnet-latest\",\"tool_choice\":{\"type\":\"any\"},\"tools\":[{\"name\":\"think\",\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"input_schema\":{\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"properties\":{\"thought\":{\"title\":\"Thought\",\"type\":\"string\"}},\"required\":[\"thought\"],\"title\":\"think\",\"type\":\"object\"}},{\"name\":\"critique\",\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"input_schema\":{\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"properties\":{\"criticism\":{\"title\":\"Criticism\",\"type\":\"string\"}},\"required\":[\"criticism\"],\"title\":\"critique\",\"type\":\"object\"}}]}"
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA4xVWW8bNxD+KwO+pAUk15LtNtVb6rgN4qNt7BR1q0KgyNldwlzOmkNKlg3992K4
        Omw3QPOo5ZzfMXpSzqqJarmeHY7OP5y9vYo3dH39ji7QXp2PTj98flQDlVYdShQy6xrVQEXy8kEz
        O046JDVQLVn0aqKM19ni8Gh4MmQKAdNwfDg+Hh2Ox2qgDIWEIanJ30/boonIzzJL1TKK/M6zw9Ef
        9Gek7rd4057d8vu/fvz9tv18GdVABd2WvMaFO0kKXU5q8qRSQ7lukpqoC0zQIuig/eoRITUIjMyO
        AuhgQTOTcTqhhTk2euEoTqZhGkYHcNMgZMYIEe8zsoS4UFFsdSrZc8oJIgZc6rlHwICxXsEQNMwj
        aQuJOmdKsosu1GCo7SI2GNgtECIy6miaMkUnv0IqhQ+k/bhvv8P0DUtCR4ERuKElA+MCo/ZgokvO
        aA+OOSNPpmEIZ22XVt+5IB09JtznftMnP61h2TjTAOe6Rk4M/V5J5qQIG2o2Nb+VmlcE2qQsHTeP
        FPdLdJEWzqKVyJ+18yjrg0XvFhhBhxW0qIMLdZX9V6AoZd51HerIUmeOoCFh23n9fJmlE5rT67kq
        533hSoA8EiCdoLfBmEFDlYPVrQDuodLO54jSBh/Q5NRrZK7ZGXCBU8ymTEoVTNWn7cISU7sFhg3N
        qaEokvOrqZK+xz2BJscoM3WR2k7wBHxIEVv0K2hdcK32RQBem7ueu1+yszoYBAp7eFtMDVny1EPz
        a05dTtDPJsPjQ4emlw9LwHvsUrORHsqi5es15WgQGh2sF6KfbVfeP22BfSaGOjthMSCr9Xrwv0a9
        7D6enh799MN9frydjz8eX1Rtd573Ri1qvc/43Ku9gh23aqK+gNlXgg6N/oIpKq+XvDM0ESx0nbFA
        ngN3aFzlDAzBEnJ4k8Bi5QLCstHS+EV9ETAXZ15RgWXLUg8+WqCelh49sceOoKLDS8f8GnbJt4Us
        qsCQTF9jUc8VgRC3UV5DS1EoxVoH94hSfKNnqFywLtQ8DScHcCE6AusibkQb9nRzoZ+Lv91OLN+X
        VvdZe5dWIMfG6mj7qM35CMhcIMXo9AYiK5gWtrY35pmRNtfgtTF3x0Z43DvCBc5V5Ywr21As4MrA
        XaQO48tLuTN/LZeiP5hqvf5noDhRN4uomcJLgZYHlhseDKpJyN4PVC5/XpOnXoazRHcYWE1Go9HJ
        QBltGpyZiKX+7GXI4fY9orb/fetFsPtyNH67Xv8LAAD//wMAozz2eFkHAAA=
    headers:
      CF-RAY:
      - 90acd4ff9ba24caf-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:35:40 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:35:33Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:35:40Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:35:31Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:35:33Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_013Nc3bonZqt8RXUqScW276F
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: "{\"max_tokens\":1024,\"messages\":[{\"role\":\"user\",\"content\":\"You
      are reviewing the performance of an AI assistant in a given interaction. \\n\\n##
      Instructions\\n\\nThe current prompt that was used for the session is provided
      below.\\n\\n<current_prompt>\\nSummarize the research findings\\n</current_prompt>\\n\\nThe
      developer provided the following instructions around when and how to update
      the prompt:\\n\\n<update_instructions>\\n\\n</update_instructions>\\n\\n## Session
      data\\n\\nAnalyze the following sessions (and any associated user feedback)
      (either conversations with a user or other work that was performed by the assistant):\\n\\n<sessions>\\n<session_d9ed74abe9654adf976e605acb62dfdc>\\n================================
      Human Message =================================\\n\\nTell me about renewable
      energy\\n\\n================================== Ai Message ==================================\\n\\nHere's
      what I found in my research...\\nTo summarize the key points about renewable
      energy...{}\\n</session_d9ed74abe9654adf976e605acb62dfdc>\\n</sessions>\\n\\ni##
      Feedback\\n\\nThe following feedback is provided for this session:\\n\\n<feedback>\\n\\n</feedback>\\n\\n##
      Task\\n\\nAnalyze the conversation, including the user\u2019s request and the
      assistant\u2019s response, and evaluate:\\n1. How effectively the assistant
      fulfilled the user\u2019s intent.\\n2. Where the assistant might have deviated
      from user expectations or the desired outcome.\\n3. Specific areas (correctness,
      completeness, style, tone, alignment, etc.) that need improvement.\\n\\nIf the
      prompt seems to do well, then no further action is needed. We ONLY recommend
      updates if there is evidence of failures.\\nWhen failures occur, we want to
      recommend the minimal required changes to fix the problem.\\n\\nFocus on actionable
      changes and be concrete.\\n\\n1. Summarize the key successes and failures in
      the assistant\u2019s response. \\n2. Identify which failure mode(s) best describe
      the issues (examples: style mismatch, unclear or incomplete instructions, flawed
      logic or reasoning, hallucination, etc.).\\n3. Based on these failure modes,
      recommend the most suitable edit strategy. For example, consider::\\n   - Use
      synthetic few-shot examples for style or clarifying decision boundaries.\\n
      \  - Use explicit instruction updates for conditionals, rules, or logic fixes.\\n
      \  - Provide step-by-step reasoning guidelines for multi-step logic problems.\\n4.
      Provide detailed, concrete suggestions for how to update the prompt accordingly.\\n\\nBut
      remember, the final updated prompt should only be changed if there is evidence
      of poor performance, and our recommendations should be minimally invasive.\\nDo
      not recommend generic changes that aren't clearly linked to failure modes.\\n\\nFirst
      think through the conversation and critique the current behavior.\\nIf you believe
      the prompt needs to further adapt to the target context, provide precise recommendations.\\nOtherwise,
      mark `warrants_adjustment` as False and respond with 'No recommendations.'\"},{\"role\":\"assistant\",\"content\":[{\"type\":\"tool_use\",\"name\":\"think\",\"input\":{\"thought\":\"Let
      me analyze the conversation and evaluate the assistant's performance:\\n\\n1.
      User Intent: The user asked for information about renewable energy, seeking
      knowledge/explanation.\\n\\n2. Assistant Response Analysis:\\n- The response
      is incomplete and problematic\\n- It starts with \\\"Here's what I found in
      my research...\\\" suggesting it's going to present findings\\n- Contains an
      empty placeholder \\\"{}\\\" and no actual content\\n- Attempts to transition
      with \\\"To summarize key points...\\\" but provides nothing\\n- Fails to deliver
      any substantive information about renewable energy\\n\\n3. Key Issues:\\n- Complete
      failure to provide requested information\\n- Empty/incomplete response\\n- Possible
      confusion about role/capabilities\\n- No structure or content provided\\n\\n4.
      The current prompt \\\"Summarize the research findings\\\" appears inadequate
      as:\\n- It's too vague and lacks context\\n- Doesn't specify what research to
      summarize\\n- Doesn't provide guidance on how to handle direct questions\\n-
      May be causing confusion about whether external research is needed\"},\"id\":\"toolu_01VwRq4TxRH74rMmNTkrgWNu\"}]},{\"role\":\"user\",\"content\":[{\"type\":\"tool_result\",\"content\":\"\",\"tool_use_id\":\"toolu_01VwRq4TxRH74rMmNTkrgWNu\",\"is_error\":false}]}],\"model\":\"claude-3-5-sonnet-latest\",\"tool_choice\":{\"type\":\"any\"},\"tools\":[{\"name\":\"think\",\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"input_schema\":{\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"properties\":{\"thought\":{\"title\":\"Thought\",\"type\":\"string\"}},\"required\":[\"thought\"],\"title\":\"think\",\"type\":\"object\"}},{\"name\":\"critique\",\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"input_schema\":{\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"properties\":{\"criticism\":{\"title\":\"Criticism\",\"type\":\"string\"}},\"required\":[\"criticism\"],\"title\":\"critique\",\"type\":\"object\"}},{\"name\":\"recommend\",\"description\":\"Decides
      whether a prompt should be adjusted.\\nIf warrants_adjustment is True, we incorporate
      recommended changes.\\nIf not, we respond 'No recommendations.'\",\"input_schema\":{\"description\":\"Decides
      whether a prompt should be adjusted.\\nIf warrants_adjustment is True, we incorporate
      recommended changes.\\nIf not, we respond 'No recommendations.'\",\"properties\":{\"warrants_adjustment\":{\"title\":\"Warrants
      Adjustment\",\"type\":\"boolean\"},\"hypotheses\":{\"anyOf\":[{\"type\":\"string\"},{\"type\":\"null\"}],\"title\":\"Hypotheses\"},\"full_recommendations\":{\"anyOf\":[{\"type\":\"string\"},{\"type\":\"null\"}],\"title\":\"Full
      Recommendations\"}},\"required\":[\"warrants_adjustment\"],\"title\":\"recommend\",\"type\":\"object\"}}]}"
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAAwAAAP//bJRvbxs3DMa/CqE3a4GzZzvu/ty7omi7DRgwNCn6Yi4MWqLvBOsoRaRy
        SYN890JnJ062vjtJ5MOHP1F3b7wzrRmk2y6WK/fm+q/f3r79ZC8+f7u4lXWMIp1pjN4lqlEkgh2Z
        xuQY6gaKeFFkNY0ZoqNgWmMDFkezi9mbmURm0tlqsVovF6uVaYyNrMRq2n/vH0U1xrAtUlUnK3Vd
        tovlr/7y3ZdP+w/j59//SXaX4pXY5Z1pDONQ82z26q/LlMepqGnvj3vWy2Bac9UT2JIzsYIfUqCB
        WFF9ZOhRQOiGMgY4pmCAfcBR2g1veDmHK5QD/O0Fg++4JrZQ9VKOQ1LYmMsyDJj9NwLtCTIJYbY9
        7D07z51sDHiBwcuAantyMHrtp1C0WjBAEQKLQvNJ9gljzdqR5w5QDuSgI55MHjiOgVxHcF1Iag/S
        AEcFjSBPViSR9Xtvn/zMazerOby/JVumzj+gDyVT+5+yKUdXLDlABhqS3v3s2cYKTafuUmShYxMp
        oKU+BkcZlG61ASldV01xBzbyvkgthLtYFLwK1FEBZAcWE+588OpJJmcX84pYauLH4h0FzyQvQAe0
        BwESIVaPATyL5mInAMcS7YYBYAZ/xLHC6JFdIHA+k9UzLLiR8yWdgJGcUr/0qM8I71CoSrmMI+xz
        HE5h728TWSV35nH0UvKpvRMvJjkrk/aVUwS05wrBD/44iVIxrOdweVLCAH+KlEcKT5X2MQ+o8CrT
        nnKuwDTCxvxo7saeGDgywUh5AnnjHbnXUEMsKslxDp+P3D6GEMdp7Bg8Y0o5puxRCZSGFKaPSslF
        Ev5JYRrrScezUsbpRoCJnMzNw8PXxojGtM2EEvnlG58OhK4LsSXTcgmhMWX6rbT3x5e81XggFtMu
        f1muG2PR9rS1mSZk25chi8fzTOj+fxaLPt9ZLdYPD98BAAD//wMAjc3+BPMEAAA=
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90acd5290dc732c6-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:35:43 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:35:39Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:35:43Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:35:38Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:35:39Z'
      request-id:
      - req_01TPagN9N5zw85DvBxLuPHQa
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: "{\"max_tokens\":1024,\"messages\":[{\"role\":\"user\",\"content\":\"You
      are reviewing the performance of an AI assistant in a given interaction. \\n\\n##
      Instructions\\n\\nThe current prompt that was used for the session is provided
      below.\\n\\n<current_prompt>\\nResearch the given topic thoroughly\\n</current_prompt>\\n\\nThe
      developer provided the following instructions around when and how to update
      the prompt:\\n\\n<update_instructions>\\n\\n</update_instructions>\\n\\n## Session
      data\\n\\nAnalyze the following sessions (and any associated user feedback)
      (either conversations with a user or other work that was performed by the assistant):\\n\\n<sessions>\\n<session_cfc25efe763f47db828a02965d6a8ce4>\\n================================
      Human Message =================================\\n\\nTell me about renewable
      energy\\n\\n================================== Ai Message ==================================\\n\\nHere's
      what I found in my research...\\nTo summarize the key points about renewable
      energy...{}\\n</session_cfc25efe763f47db828a02965d6a8ce4>\\n</sessions>\\n\\ni##
      Feedback\\n\\nThe following feedback is provided for this session:\\n\\n<feedback>\\n\\n</feedback>\\n\\n##
      Task\\n\\nAnalyze the conversation, including the user\u2019s request and the
      assistant\u2019s response, and evaluate:\\n1. How effectively the assistant
      fulfilled the user\u2019s intent.\\n2. Where the assistant might have deviated
      from user expectations or the desired outcome.\\n3. Specific areas (correctness,
      completeness, style, tone, alignment, etc.) that need improvement.\\n\\nIf the
      prompt seems to do well, then no further action is needed. We ONLY recommend
      updates if there is evidence of failures.\\nWhen failures occur, we want to
      recommend the minimal required changes to fix the problem.\\n\\nFocus on actionable
      changes and be concrete.\\n\\n1. Summarize the key successes and failures in
      the assistant\u2019s response. \\n2. Identify which failure mode(s) best describe
      the issues (examples: style mismatch, unclear or incomplete instructions, flawed
      logic or reasoning, hallucination, etc.).\\n3. Based on these failure modes,
      recommend the most suitable edit strategy. For example, consider::\\n   - Use
      synthetic few-shot examples for style or clarifying decision boundaries.\\n
      \  - Use explicit instruction updates for conditionals, rules, or logic fixes.\\n
      \  - Provide step-by-step reasoning guidelines for multi-step logic problems.\\n4.
      Provide detailed, concrete suggestions for how to update the prompt accordingly.\\n\\nBut
      remember, the final updated prompt should only be changed if there is evidence
      of poor performance, and our recommendations should be minimally invasive.\\nDo
      not recommend generic changes that aren't clearly linked to failure modes.\\n\\nFirst
      think through the conversation and critique the current behavior.\\nIf you believe
      the prompt needs to further adapt to the target context, provide precise recommendations.\\nOtherwise,
      mark `warrants_adjustment` as False and respond with 'No recommendations.'\"},{\"role\":\"assistant\",\"content\":[{\"type\":\"tool_use\",\"name\":\"think\",\"input\":{\"thought\":\"Let
      me analyze the session and associated behavior:\\n\\n1. The user requested information
      about renewable energy - a broad topic requiring comprehensive research and
      presentation.\\n\\n2. The assistant's response shows several critical issues:\\n-
      Empty/incomplete response (shows {} which suggests formatting or content issues)\\n-
      No actual content or research provided\\n- Failed to deliver any meaningful
      information about renewable energy\\n- Appears to be a template response without
      actual content filled in\\n\\n3. This represents a fundamental failure to execute
      the basic instruction of \\\"Research the given topic thoroughly\\\"\\n\\n4.
      The current prompt is extremely minimal and lacks:\\n- Guidance on research
      methodology\\n- Output structure expectations\\n- Depth requirements\\n- Source
      handling instructions\\n- Response formatting guidelines\"},\"id\":\"toolu_01VoXropPrTmEYsDZ9QYmUMr\"},{\"type\":\"tool_use\",\"name\":\"critique\",\"input\":{\"criticism\":\"The
      current prompt \\\"Research the given topic thoroughly\\\" has several critical
      flaws:\\n\\n1. Too vague and unspecific - doesn't define what \\\"thoroughly\\\"
      means\\n2. No guidance on expected output format or structure\\n3. Missing instructions
      on depth of coverage\\n4. No mention of how to organize or present findings\\n5.
      Lacks direction on handling sources or citations\\n6. No quality standards or
      completeness criteria defined\\n\\nThe complete failure to provide actual content
      suggests the prompt is insufficient for guiding proper research and response
      generation.\"},\"id\":\"toolu_01MpJCC3B7quzYb2J4LfmpKu\"}]},{\"role\":\"user\",\"content\":[{\"type\":\"tool_result\",\"content\":\"\",\"tool_use_id\":\"toolu_01VoXropPrTmEYsDZ9QYmUMr\",\"is_error\":false},{\"type\":\"tool_result\",\"content\":\"\",\"tool_use_id\":\"toolu_01MpJCC3B7quzYb2J4LfmpKu\",\"is_error\":false}]}],\"model\":\"claude-3-5-sonnet-latest\",\"tool_choice\":{\"type\":\"any\"},\"tools\":[{\"name\":\"think\",\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"input_schema\":{\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"properties\":{\"thought\":{\"title\":\"Thought\",\"type\":\"string\"}},\"required\":[\"thought\"],\"title\":\"think\",\"type\":\"object\"}},{\"name\":\"critique\",\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"input_schema\":{\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"properties\":{\"criticism\":{\"title\":\"Criticism\",\"type\":\"string\"}},\"required\":[\"criticism\"],\"title\":\"critique\",\"type\":\"object\"}},{\"name\":\"recommend\",\"description\":\"Decides
      whether a prompt should be adjusted.\\nIf warrants_adjustment is True, we incorporate
      recommended changes.\\nIf not, we respond 'No recommendations.'\",\"input_schema\":{\"description\":\"Decides
      whether a prompt should be adjusted.\\nIf warrants_adjustment is True, we incorporate
      recommended changes.\\nIf not, we respond 'No recommendations.'\",\"properties\":{\"warrants_adjustment\":{\"title\":\"Warrants
      Adjustment\",\"type\":\"boolean\"},\"hypotheses\":{\"anyOf\":[{\"type\":\"string\"},{\"type\":\"null\"}],\"title\":\"Hypotheses\"},\"full_recommendations\":{\"anyOf\":[{\"type\":\"string\"},{\"type\":\"null\"}],\"title\":\"Full
      Recommendations\"}},\"required\":[\"warrants_adjustment\"],\"title\":\"recommend\",\"type\":\"object\"}}]}"
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2RVXW8bNxD8Kws+S6rluEirNyd14RROGsQJkqIqhBVvdceYt2S4pGTV8H8vlnf6
        SPN4x7nlzOzu3JNxjVmYXtrVxfyW0oud/HKdU3fz6a8k3ecvd++uzcTkfSRFkQi2ZCYmBa8vUMRJ
        Rs5mYvrQkDcLYz2WhqYvpj9PJTBTnl5eXF7NLy4vzcTYwJk4m8XfT4eiOQS/KqJVKxV9LquL+Yd3
        +bG9/fXuD46Pt+vuSyNyc9uaiWHs9btENvQ9caMfcizZLJ7MDlNCzrLC5muR3Ne7cio0Md0+htyR
        kJiF+dgRxOR6THvYoPMlEagAAUy0WPJ8Bp/YesL0k2Mb+ugpEziWnIrNLrCAJ2wct5ADZOqjx0xT
        7x4IEkkMLCRLvpzBHdoHCBsYvtR72uIaZFuBxWet4RhiCAlGeyCkFtn9i3rTkl/M4K0TUeC3gt7l
        PajpDaZGwGKpJ9Kh92EHIQH1Me/PaVzN4F2AnnIXmuBDuz9x2ISkSMJkO4gpWBJZ8pKvoQ+JTqwb
        Pexjhp3LHVRngB4j2YyDHcgNhJJjybU4ecckIF0ovtEbgt8SVP/BiRSSmZmYTfF+dWzkUMkszBs4
        voMS9b36XFtWOeSwUI5L87kjPtJXEELrtsSQQ3S2guYzeEWtY1jvwTXE2W32inygPaCoAIHcYYZE
        34pLBDZsKWFLE3BsfdEeL5YMAFN4Heo5W4p5UNzQxrGrvEfMW/xaG9nHwMRZtCEWM7UhOTqAXpeU
        tM+SMdNYaEs+RB3YA+gDedriiHKSna3FGsw4Il4R08aNVKwOAHFLtX+XM7g/Ttw+lHScBx3YQRkd
        dF3DOjnagOOcQjMMeJ3rjgYnR9yfw1hSA0LjFlS31M8eHR8MHeH3kazbOAv0iLpBA0+M0TuL554d
        7MiJuKkiN6USDyX7EB6ONNV7JwRSel3d5bAcNyznKuswnFq2pSSwKdygmov+1MDchRRK2/n9CH4z
        2CKQDtYnQj/dheSbo4gR+15v0v6itSVhpgmUOM1h2mBNik1I/bi/41w4zuh0U2CNXpevgUipOua2
        NMI+CcmwXhOtTCJu7Qk8cluwJVV8NYPfa/H/9VU38yi7LujYJeiGqDpQvwuts+hho3mxpryjw8Yc
        EK+K95QhBqcKNSN0XX4U9T6FSAkiJmwTxu6UF0p0tKiO0dm3mnZ40EjcYjvMDzMlkOIyqmK9FKEl
        poQesDSONK92nfNUh03NrCtf/bf7YQnGqGYSmS2NsvjYOQHibnS8JshiyZX81jUHu08peJaTCrsR
        JeSkU+SYz+fJp5jfNAbq3Iy9OPNhCveU5cfkrrXr5EqlnagjFrc9JZAiTmOTCBtcu1pEpVbnqP7h
        np//mRjJIa4SoQT+/q9aD4S+FTXQLLh4PzGl/sgXT8Ovc5XDA2n0zl9eXUyMRdvRyiaqClffQ47n
        SujHs+EfcHxzNX/5/PwfAAAA//8DAGdxrAFlCAAA
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90acd5392ba84cb4-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:35:50 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:35:41Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:35:50Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:35:41Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:35:41Z'
      request-id:
      - req_01QsJgGy8TiNuBgFqxR2MQrL
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: "{\"max_tokens\":1024,\"messages\":[{\"role\":\"user\",\"content\":\"You
      are reviewing the performance of an AI assistant in a given interaction. \\n\\n##
      Instructions\\n\\nThe current prompt that was used for the session is provided
      below.\\n\\n<current_prompt>\\nSummarize the research findings\\n</current_prompt>\\n\\nThe
      developer provided the following instructions around when and how to update
      the prompt:\\n\\n<update_instructions>\\n\\n</update_instructions>\\n\\n## Session
      data\\n\\nAnalyze the following sessions (and any associated user feedback)
      (either conversations with a user or other work that was performed by the assistant):\\n\\n<sessions>\\n<session_d9ed74abe9654adf976e605acb62dfdc>\\n================================
      Human Message =================================\\n\\nTell me about renewable
      energy\\n\\n================================== Ai Message ==================================\\n\\nHere's
      what I found in my research...\\nTo summarize the key points about renewable
      energy...{}\\n</session_d9ed74abe9654adf976e605acb62dfdc>\\n</sessions>\\n\\ni##
      Feedback\\n\\nThe following feedback is provided for this session:\\n\\n<feedback>\\n\\n</feedback>\\n\\n##
      Task\\n\\nAnalyze the conversation, including the user\u2019s request and the
      assistant\u2019s response, and evaluate:\\n1. How effectively the assistant
      fulfilled the user\u2019s intent.\\n2. Where the assistant might have deviated
      from user expectations or the desired outcome.\\n3. Specific areas (correctness,
      completeness, style, tone, alignment, etc.) that need improvement.\\n\\nIf the
      prompt seems to do well, then no further action is needed. We ONLY recommend
      updates if there is evidence of failures.\\nWhen failures occur, we want to
      recommend the minimal required changes to fix the problem.\\n\\nFocus on actionable
      changes and be concrete.\\n\\n1. Summarize the key successes and failures in
      the assistant\u2019s response. \\n2. Identify which failure mode(s) best describe
      the issues (examples: style mismatch, unclear or incomplete instructions, flawed
      logic or reasoning, hallucination, etc.).\\n3. Based on these failure modes,
      recommend the most suitable edit strategy. For example, consider::\\n   - Use
      synthetic few-shot examples for style or clarifying decision boundaries.\\n
      \  - Use explicit instruction updates for conditionals, rules, or logic fixes.\\n
      \  - Provide step-by-step reasoning guidelines for multi-step logic problems.\\n4.
      Provide detailed, concrete suggestions for how to update the prompt accordingly.\\n\\nBut
      remember, the final updated prompt should only be changed if there is evidence
      of poor performance, and our recommendations should be minimally invasive.\\nDo
      not recommend generic changes that aren't clearly linked to failure modes.\\n\\nFirst
      think through the conversation and critique the current behavior.\\nIf you believe
      the prompt needs to further adapt to the target context, provide precise recommendations.\\nOtherwise,
      mark `warrants_adjustment` as False and respond with 'No recommendations.'\"},{\"role\":\"assistant\",\"content\":[{\"type\":\"tool_use\",\"name\":\"think\",\"input\":{\"thought\":\"Let
      me analyze the conversation and evaluate the assistant's performance:\\n\\n1.
      User Intent: The user asked for information about renewable energy, seeking
      knowledge/explanation.\\n\\n2. Assistant Response Analysis:\\n- The response
      is incomplete and problematic\\n- It starts with \\\"Here's what I found in
      my research...\\\" suggesting it's going to present findings\\n- Contains an
      empty placeholder \\\"{}\\\" and no actual content\\n- Attempts to transition
      with \\\"To summarize key points...\\\" but provides nothing\\n- Fails to deliver
      any substantive information about renewable energy\\n\\n3. Key Issues:\\n- Complete
      failure to provide requested information\\n- Empty/incomplete response\\n- Possible
      confusion about role/capabilities\\n- No structure or content provided\\n\\n4.
      The current prompt \\\"Summarize the research findings\\\" appears inadequate
      as:\\n- It's too vague and lacks context\\n- Doesn't specify what research to
      summarize\\n- Doesn't provide guidance on how to handle direct questions\\n-
      May be causing confusion about whether external research is needed\"},\"id\":\"toolu_01VwRq4TxRH74rMmNTkrgWNu\"}]},{\"role\":\"user\",\"content\":[{\"type\":\"tool_result\",\"content\":\"\",\"tool_use_id\":\"toolu_01VwRq4TxRH74rMmNTkrgWNu\",\"is_error\":false}]},{\"role\":\"assistant\",\"content\":[{\"type\":\"tool_use\",\"name\":\"critique\",\"input\":{\"criticism\":\"The
      current implementation has several critical flaws:\\n\\n1. Task Misalignment:
      The prompt \\\"Summarize the research findings\\\" is mismatched with the actual
      use case. The assistant is being asked general knowledge questions, not to summarize
      specific research.\\n\\n2. Execution Failure: The assistant produced an empty/incomplete
      response with placeholder text, suggesting confusion about its role and capabilities.\\n\\n3.
      Missing Guidelines: The prompt lacks essential instructions about:\\n   - How
      to handle direct questions vs research summaries\\n   - What knowledge base
      to draw from\\n   - Expected response structure and completeness\\n   - Whether
      to acknowledge limitations\\n\\n4. Structural Issues: The response format (referring
      to \\\"research findings\\\" when none were provided) indicates the assistant
      is following an inappropriate template that doesn't match the interaction needs.\"},\"id\":\"toolu_017iSCWRfFwU9PpcbpoTsc1y\"}]},{\"role\":\"user\",\"content\":[{\"type\":\"tool_result\",\"content\":\"\",\"tool_use_id\":\"toolu_017iSCWRfFwU9PpcbpoTsc1y\",\"is_error\":false}]}],\"model\":\"claude-3-5-sonnet-latest\",\"tool_choice\":{\"type\":\"any\"},\"tools\":[{\"name\":\"think\",\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"input_schema\":{\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"properties\":{\"thought\":{\"title\":\"Thought\",\"type\":\"string\"}},\"required\":[\"thought\"],\"title\":\"think\",\"type\":\"object\"}},{\"name\":\"critique\",\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"input_schema\":{\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"properties\":{\"criticism\":{\"title\":\"Criticism\",\"type\":\"string\"}},\"required\":[\"criticism\"],\"title\":\"critique\",\"type\":\"object\"}},{\"name\":\"recommend\",\"description\":\"Decides
      whether a prompt should be adjusted.\\nIf warrants_adjustment is True, we incorporate
      recommended changes.\\nIf not, we respond 'No recommendations.'\",\"input_schema\":{\"description\":\"Decides
      whether a prompt should be adjusted.\\nIf warrants_adjustment is True, we incorporate
      recommended changes.\\nIf not, we respond 'No recommendations.'\",\"properties\":{\"warrants_adjustment\":{\"title\":\"Warrants
      Adjustment\",\"type\":\"boolean\"},\"hypotheses\":{\"anyOf\":[{\"type\":\"string\"},{\"type\":\"null\"}],\"title\":\"Hypotheses\"},\"full_recommendations\":{\"anyOf\":[{\"type\":\"string\"},{\"type\":\"null\"}],\"title\":\"Full
      Recommendations\"}},\"required\":[\"warrants_adjustment\"],\"title\":\"recommend\",\"type\":\"object\"}}]}"
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA3RVS28jNwz+K4QuvYyDOA8g9S1Fs0VbFAj22aIuDFrieJRoREWk7HiD/PeFxpNx
        gu4eR6JIfg9ynox3ZmF62axO5+f23X77KT1u3tMdCt1+jur+LqYxuk9Uo0gEN2QakznUAxTxohjV
        NKZnR8EsjA1YHM3OZ5cz4RhJZ2enZxfz07Mz0xjLUSmqWfz79JJUmcOqSM06tFK/y+p0/uXTffvH
        Tfrt8/7m+u7qXXv74FOqzUTs67tMlvueoqsPYypqFk9mhzljVFmhuyui/VBLc6HGdPvE2pGQmIWZ
        n8DHjsCWnCkqpMx9UvACygwRc+YdYHQgiaxvvQVlyCSE2XYgpe8x+6+onuMynh1yTVxAJHICNhBm
        yrAp3lHwkQRwzUWhw+iCjxtwPpNVeCgkNZMs4/khVSZJHIVANBerJdOYUxnWBGtSpQyOWh/JLePF
        jxrA7HU/Vi1SS3oVuI+8C+Q2BGsUgq1MgGoEPSrliGGCaxrTlhBWE98D7EpiLToyJx2X4GpzJTlU
        cqC8WMZlXJp/uABmAjwWxnV43a52qNBRSAJFKAuU6CjXOwdbzJ5LRZ68lRP40lEc+XG1XeUjf0PB
        +Qn8mnEHbeYe9lwy0KMXrbFH4Mq18a13BGhtyajUgOU+Zeooit8S+Nhy7o8Sf5ikGJK+SDTqHPaw
        89otlhEAZnAN6+ypBd5S3nraAbegHR1QjDF/0h4S+6gyOK1HH8FytJRUxpD3FGhbGaJH7FMgAc6A
        KQVvDyLArqNKbUqZU/aoNHjo97Y2CY7jT9VuWwIpbeutr15/BWy0Bh76agDtkaIBZfC9VxzNeXEC
        N1EqA0fwVdjKWyClAQZu2TtIAS11HBxlUHrUZbwcpXsZKAxhDyj3g1MmA9JxyFo/CCzNRHA9sKg0
        MClcsiXoUSl7DLCmqvCUx1UrXPt+nJgJ85bGfM3QrXacuWw68PHFKylgnMj1gQZhFH2s+Q9msfuT
        pakFPnZeJsMfJmGxjDP4JTM6inLo1HKqM7vn6KAupR8ukhncHkw5mur16mg5f2ct1DfXzmWSKkat
        Zjm2RY7aHgU9MFZf3PSpQ/Ffxyd1Wwz5JyEnfWv0XyP+QzCufahL5fui7arElUNvvYY9ZBqGs8ox
        gw+kL8DoMZEdjfUW2kPBIX9V581ARhIxz8//NUaU0yoTCse3v4/hQmrJaMksYgmhMWX4Yy2eDv+I
        lfI91eU1v7r8uTEWbUcrm2loZfU25PTlPhO6/99x0dcn5xdXz8/fAAAA//8DAKjLPEROBwAA
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90acd54b8faf32c6-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:35:51 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:35:45Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:35:51Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:35:44Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:35:45Z'
      request-id:
      - req_01GcTmVnkyGFmP4GvxtEeSg8
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are optimizing
      a prompt to handle its target task more effectively.\n\n<current_prompt>\nResearch
      the given topic thoroughly\n</current_prompt>\n\nWe hypothesize the current
      prompt underperforms for these reasons:\n\n<hypotheses>\nThe primary failure
      modes are:\n1. Unclear/incomplete instructions leading to template-like responses\n2.
      Lack of structure guidance resulting in poor content organization\n3. Missing
      quality standards causing shallow or empty responses\n4. No methodology guidance
      for research process\n\nA more structured prompt with clear expectations and
      output guidelines should resolve these issues.\n</hypotheses>\n\nBased on these
      hypotheses, we recommend the following adjustments:\n\n<recommendations>\nI
      recommend updating the prompt to:\n\n\"When researching a given topic:\n\n1.
      Begin by identifying key aspects that require coverage, including:\n   - Core
      concepts and definitions\n   - Major components or categories\n   - Current
      state and developments\n   - Relevant statistics or data\n   - Benefits and
      challenges\n\n2. Structure your response to include:\n   - A brief introduction
      to the topic\n   - Organized sections covering main aspects\n   - Specific examples
      and applications\n   - Current trends or future outlook\n   - A concise summary\n\n3.
      Ensure your research:\n   - Covers fundamental concepts thoroughly\n   - Includes
      relevant real-world examples\n   - Presents accurate, up-to-date information\n   -
      Maintains a balanced perspective\n   - Uses clear, accessible language\n\n4.
      Format your response with:\n   - Clear section headings\n   - Logical flow between
      topics\n   - Bullet points for key information\n   - Proper paragraph structure\n\nPresent
      the information in a clear, engaging manner suitable for a general audience
      while maintaining accuracy and completeness.\"\n\nThis enhanced prompt:\n- Provides
      clear research methodology\n- Establishes content expectations\n- Defines response
      structure\n- Sets quality standards\n- Ensures comprehensive coverage\n- Maintains
      readability and engagement\n</recommendations>\n\nRespond with the updated prompt.
      Remember to ONLY make changes that are clearly necessary. Aim to be minimally
      invasive:"}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"tool","name":"OptimizedPromptOutput"},"tools":[{"name":"OptimizedPromptOutput","description":"Schema
      for the optimized prompt output.","input_schema":{"description":"Schema for
      the optimized prompt output.","properties":{"analysis":{"description":"First,
      analyze the current results and plan improvements to reconcile them.","title":"Analysis","type":"string"},"improved_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Finally,
      generate the full updated prompt to address the identified issues.   The prompt
      section being optimized contains no input f-string variables. Any brackets {{
      foo }} you emit will be escaped and not used.","title":"Improved Prompt"}},"required":["analysis","improved_prompt"],"title":"OptimizedPromptOutput","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAAwAAAP//bFXbbts4EP2VAZ9lI3F62fqtm26xi+72krRIgc3CGJMjiQ01ZHmxowT5
        98VQsptenuKIo+E5Z84Z3Str1FoNqducnD67enX3Ynj7ttv/ieHL2XD52+3FZVKNymMgqaKUsCPV
        qOidPMCUbMrIWTVq8IacWivtsBhanC2eLpJnprxYnayenJ6sVqpR2nMmzmr97/2hafbebUqSrhWK
        /F82J6evze7Nm0/Pzq+u8OWw/Xz7+dWHj6s/VKMYB3nvXch2sHdk3kc/hPyu5FAEh2X5u75XyOjG
        ZJNaq5fy885yB7kn0CVG4gyhvgjIBiJpPwzEBrP1nNbXfM2nS/jYE/hoO8voDuXX6oISYdR9bdbZ
        HTFkH6yG3PvoS9e78VqBTUC3OdJAboQtRqoXheh31lAC9tAVa5A1NfClpGzbUQAm27FtrUbOQNzL
        +UCcl4JoNSHqx+BzT4kSaB8j6exGsIZYesCAX3yEDoOwWMDfqG/At5ByLDqXiO54rxz/Y1OSa78W
        dDaPINM0GE2Sw7ce4oHrQLn3xjvfjXL0ibUjjEC3gXSeVBOIZxPEo55kQPfIHSVAYyKlBBU62JRK
        JTCESD1xsjtyYwPbkkH74gxsSUATDs4yGchengw+EmjP2iaCfW8dwYCWM1oWGtS2pLOMhFKqmj1Z
        wrm8Q67qmKRPEFZxR9BGP/xi9gu4+AVtaCMOtPfxRirOJycfdRXOX4uN0y1S8eFXkr72ccCcBauM
        gYRbFe7pEt6F4GMubLOlBK2P4CePV2Dr+dbknTWY5T5T2IhPgrfznR9t12dicMhdwW4a8awPTBPr
        LUWhNk5wdEngGSgl8Q+6H2hcs4zTDuJbMocM7K1zYFn7GHwULNNMjxpPg4k0zGNp5RoyNQGohQ1u
        HS0lrXPnzdRZrdVVT3y03SGyj1J2yOZrG1P+ZvvausacZqVmo1DIqZ4aaq1oW526gDc0Vvd5rpCl
        QmOmzkdLteB8XhOGduR8OM71ghztRHaDGet7SQKQstVp0lsCqHt0jibjswH/eLZzli+P1hl9icI5
        eBZb29xXDr9HS+28Wyzn6E2p4h2meuAnKXTIeOR2GUjLEgG6xSG4GQOG4Kz+VnUgmCOxmWGW7Lw/
        GLyGLJVhwDjO4f7J1LPYO4rQih1FJnTp8S7kBfzF2hUjlkC32PvozBFa3SaJALUu4qXmuJ8ttzUt
        jxhXH2/RyfoyECimMOVdCq6izQQHozfSkVKyW0eP8nDNUwSryiJJ9CFa8XBPaCx3qQHnO6vRQev8
        vqm6bItzdAga7HuKUu9CW9wS3otbv8f7416bE3FDFMTSVnZ7h92UjQgIHTHJbsZiLLGmpXp4+K9R
        KfuwiYTJ8/efynqQ6GuRYrXm4lyjSv06r++nb+Am+xvipNYvnq8apVH3tNGRKr7N9xUnh/NIaH4+
        8/Xbenxy9vzs4eF/AAAA//8DALXiA7E5CAAA
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90acd5751e3e32d2-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:35:58 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:35:51Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:35:58Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:35:50Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:35:51Z'
      request-id:
      - req_01UBxdAeJHMaYRPNXsf8reXu
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are optimizing
      a prompt to handle its target task more effectively.\n\n<current_prompt>\nSummarize
      the research findings\n</current_prompt>\n\nWe hypothesize the current prompt
      underperforms for these reasons:\n\n<hypotheses>\n1. The current prompt is too
      narrow and specific to research summarization\n2. The assistant needs clearer
      guidelines about handling direct questions\n3. The response structure needs
      to be better defined\n4. The assistant needs clarity about using its knowledge
      base vs summarizing external research\n</hypotheses>\n\nBased on these hypotheses,
      we recommend the following adjustments:\n\n<recommendations>\nThe prompt should
      be updated to:\n\n\"You are a knowledgeable assistant that helps users understand
      various topics. When responding to questions:\n\n1. Draw from your existing
      knowledge to provide accurate, comprehensive information\n2. Structure your
      responses clearly with:\n   - A brief overview of the topic\n   - Key points
      and main concepts\n   - Relevant examples or applications where appropriate\n3.
      If you don''t have sufficient information about a topic, acknowledge your limitations\n4.
      Ensure responses are complete and avoid placeholder text\n5. When specifically
      asked to summarize research findings, clearly indicate the source material being
      summarized\n\nAim to be informative, clear, and thorough in your explanations
      while maintaining accuracy.\"\n\nThis updated prompt:\n- Broadens the scope
      beyond just research summarization\n- Provides clear guidelines for response
      structure\n- Addresses the confusion about knowledge source\n- Emphasizes the
      need for complete responses\n- Maintains the ability to summarize research when
      explicitly requested\n- Sets clear expectations for response quality and comprehensiveness\n</recommendations>\n\nRespond
      with the updated prompt. Remember to ONLY make changes that are clearly necessary.
      Aim to be minimally invasive:"}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"tool","name":"OptimizedPromptOutput"},"tools":[{"name":"OptimizedPromptOutput","description":"Schema
      for the optimized prompt output.","input_schema":{"description":"Schema for
      the optimized prompt output.","properties":{"analysis":{"description":"First,
      analyze the current results and plan improvements to reconcile them.","title":"Analysis","type":"string"},"improved_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Finally,
      generate the full updated prompt to address the identified issues.   The prompt
      section being optimized contains no input f-string variables. Any brackets {{
      foo }} you emit will be escaped and not used.","title":"Improved Prompt"}},"required":["analysis","improved_prompt"],"title":"OptimizedPromptOutput","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2xV224bNxD9lQEfmhdZ8C0NqrckDZwmQXOxgbSoC2FMjrQDcUmaQ0reGP73Yrha
        OXH6JC05lzNnzgzvDTuzML2sl8cnvz6/3OC3t7zJ8cKdf3k18NurJGZmypBIrUgE12RmJkevByjC
        UjAUMzN9dOTNwliP1dHR2dHzI4khUDk6PT49Pzk+PTUzY2MoFIpZ/HM/BS0x+mUVjdqg6HddHp/8
        9frFhzfv6Pnty/WbFxd89SnUzbs/zcwE7NXvYyrc8zdyn3LsU/lYS6qKg4P+Lu4NBvSDsJiF+UAF
        eoJ28o2gdAS25kyhQGregMHp3xSFHNgOw5pkcR2uw8kcLm1MBH+IVFrA1c++1+ay9j1m3ofOJITZ
        drDi4Dis5doAC3BwRA5KjBAw57jzA6yirZoxhkcv2QfDwjHMwHPPhcO6hT4Q/kwgUbbEW3Kg3Zgr
        2NM5fCFJMQjBZcnVlpr/H3PKccuOBEKEdWWHwZKi6OIOSgSZnBVWiycz2HVsO7CxegeeUEsBDjYG
        xaSxY27fffJUlG3ZUZYG7GwO70PceXJrgstYsyV47TFzGRq8TM8aFCXMtsJh11HpKGuSKgQcCuWA
        HjaHODGDRE8TjQp/4k75oru9x8RsQ3I+h4vKjjwHEvgFPlf0E4qnJHm0G2n07M1XMUOHwXmN73i1
        omauShaIK7itlJmkqYmC1Kx2E4NwO6ZqML527Ee1PFUdoHOZRPRS61bZCSirmToKwlvywwwkqqAl
        kS0t9Sg8G/ueghsZ7HGAG4I+ZmpkNF8oHQYIZHWW8zCHrwQWA6DtmLb72VAP7lUj1FMoAjsuHeAY
        atJsTQ5Li1fapBzBqxzRUWjQQdrU7FqdPXIoyEHpEO6TZ8tlUJeXzgncoLA9aA79QZFq0WSyUlYf
        Oy+jgqZWqNl7ojQmXsXcYwEbg2UhRXbVsQCmlCPaDtD7uBOootJa8V1zYkehaBo3MT4ix21knWGI
        W8pN2nt9znXVjBS55agXszB/xwqYCfARLN747+a20QUd+aQIKAvU4Cjrnc5TYitwM+zHU/NaT5hn
        jwPpgO6Sx9BAyBy+dhT2ElP7aWf9nnEHqxx7GGLN31FX4jT7gNbWrC3kMHLGcdwhn3RiQoENDZAi
        qwAUnnax0UqpyAjMD222GwjVIq/YovfDJOK9/n9ch7PDmI5y23ezx0KZ0R9wafDzOby0j+gxDONC
        HMsHDk/r2418eNpiKErGYQ+Olod9Nmn6JjOtWnu3TDtYRZUHOe2C1JRibsvXUUH2+8m+Q11xKhHS
        XquwUmYsNDcPD//OjJSYlplQYvjxgWsXQreVgiWzCNX7mantTV3cjy/XssQNBTGL347PZsai7Whp
        M7V6lz9aHE/3mdD9fBfbi3g4OTt/8fDwHwAAAP//AwD6s/oC7wcAAA==
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90acd5804ee04cb6-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:36:01 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:35:53Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:36:01Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:35:52Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:35:53Z'
      request-id:
      - req_01UHF2AcY5Dg5E3bt4Dipe5m
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"Analyze the following
      sessions and decide which prompts \nought to be updated to improve the performance
      on future sessions:\n\n<session_d8dd0b017a624ef19c94fa155f3c1757>\n================================
      Human Message =================================\n\nTell me about quantum computing\n\n==================================
      Ai Message ==================================\n\nHere''s my research...\nTo
      summarize the key points...\n\nFeedback for session d8dd0b017a624ef19c94fa155f3c1757:\n<FEEDBACK>\n{''research'':
      ''Include more technical details'', ''summary'': ''Make it more accessible''}\n</FEEDBACK>\n</session_d8dd0b017a624ef19c94fa155f3c1757>\n\nBelow
      are the prompts being optimized:\nresearch: Research the given topic thoroughly\nsummarize:
      Summarize the research findings\n\n\nReturn JSON with \"which\": [...], listing
      the names of prompts that need updates."}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"tool","name":"Classify"},"tools":[{"name":"Classify","description":"Classify
      which prompts merit updating for this conversation.","input_schema":{"description":"Classify
      which prompts merit updating for this conversation.","properties":{"reasoning":{"description":"Reasoning
      for which prompts to update.","title":"Reasoning","type":"string"},"which":{"description":"List
      of prompt names that should be updated. Must be among [''research'', ''summarize'']","items":{"type":"string"},"title":"Which","type":"array"}},"required":["reasoning","which"],"title":"Classify","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA5RTTU8bMRD9K9ZcuGxQNgXS7g1akFqpN9qqEBQ59uyuG+944xlDQ5T/XnlDaACp
        Uo+ej/fmvfFswFmooONmPi5L+vap5O+rtD6//DIxN+XZj2l9BgXIusdchcy6QSggBp8DmtmxaBIo
        oAsWPVRgvE4WR+9GpyMORCijyXhyUo4nEyjABBIkgep2sweVEPw8cUYdRsnvNB+XV1ePN5fnaXpy
        Pe0WP6en5tfFIgUogHSX+z76zF6vcx/1SaDawEPrTAvVLURk1NG0UACnrtPRPSLcFRBRcyBHDVRw
        oRmtCqSkRVUj2oU2S9XHcO8sWlWHOGRWSZOkTpnQ9UkcNYqR2QWqZjSj8lhdt6j2fLm960URomWV
        equHjgUanRhfMuHv3jvjxK8VixZkNYPPZHyyqLoQUQmalpzRXlkU7TzPQI0Up6ZBHmAznEkxIsmb
        CRzTkeSHTWYYOtW1Mw4p8+3w0B5QOKpD7LS4QMdZ2GQn7Nm9/1HmyDrzpOirXqJyslOkjcneLTz+
        S8qecxjmSQhLdMt9YXRNK2qhvSaDKtTDbiK2SOwWzjtZP29P32PUTV6QthgHZRdB9i6xirhKLmbD
        ravz0JlSglqgCEbFGO934hJjPOIn+aO/du8CEpR1jbKIPUblSMKBtZp7NMLqoXUeX6l7bu8zIsnh
        Hl55tj6G7fauAJbQz3cf+eX5DAnGVUIyCBUl7wtIw8VWm92RzCUskRiqs/cfCjDatDg3EQe6+cuK
        8T6frXubC0kOI+V0st3+AQAA//8DADPTyn9NBAAA
    headers:
      CF-RAY:
      - 90acd5b8ec874cb4-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:36:05 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:36:02Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:36:05Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:36:01Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:36:02Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_011jUE6Kbygsgwbj4mSZda6s
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are helping
      an AI agent improve. You can do this by changing their system prompt.\n\nThese
      is their current prompt:\n<current_prompt>\nSummarize the research findings\n</current_prompt>\n\nHere
      are examples of various agent trajectories and associated feedback:\n<data>\n<trajectory
      0>\n===================================== user =====================================\n\nTell
      me about quantum computing\n================================== assistant ===================================\n\nHere''s
      my research...\n================================== assistant ===================================\n\nTo
      summarize the key points...\n</trajectory 0>\n<feedback 0>\n{''research'': ''Include
      more technical details'', ''summary'': ''Make it more accessible''}\n</feedback
      0>\n</data>\n\nHere are instructions for updating the agent''s prompt:\n\n<instructions>\n\n</instructions>\n\n\nBased
      on this, return an updated prompt\n\nYou should return the full prompt, so if
      there''s anything from before that you want to include, make sure to do that.
      Feel free to override or change anything that seems irrelevant. You do not need
      to update the prompt - if you don''t want to, just return `update_prompt = False`
      and an empty string for new prompt."}],"model":"claude-3-5-sonnet-latest","temperature":0.0,"tool_choice":{"type":"tool","name":"GeneralResponse"},"tools":[{"name":"GeneralResponse","description":"dict()
      -> new empty dictionary\ndict(mapping) -> new dictionary initialized from a
      mapping object''s\n    (key, value) pairs\ndict(iterable) -> new dictionary
      initialized as if via:\n    d = {}\n    for k, v in iterable:\n        d[k]
      = v\ndict(**kwargs) -> new dictionary initialized with the name=value pairs\n    in
      the keyword argument list.  For example:  dict(one=1, two=2)","input_schema":{"type":"object","properties":{"logic":{"type":"string"},"update_prompt":{"type":"boolean"},"new_prompt":{"type":"string"}},"required":["logic","update_prompt","new_prompt"]}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2xUXW8bNxD8Kws+nwxbaevg3uy2CRIXhps4adGqEFbkSseat2S4S8kXw/+94J0k
        200eyf2amR3ywXhnWtPLZnl6do2/X78/u15bvnh9dfv55sOf9PXzjWmMDolqFonghkxjcgz1AkW8
        KLKaxvTRUTCtsQGLo9mr2Y8zicyks/np/Iez0/ncNMZGVmI17d8Ph6YaY1gWqV1HKPVclqdn5/jp
        /av7v/QNpcsvV7/9tPp17S5+MY1h7GvdW2LKGD6QpMhTOaeipn0wIW68Na25RCEHkUE7As34L1mN
        eQBkB2sit0J7BynHrXfkGngHHNVbAu1Q2wUv+OwEbjsCW3Im1praJwUvsKU8wArF27FZ5DCAZ9Fc
        rApohIX5WPoes/9K4/RMQphtB2vPzvNGFmbB86n9EUoNWVQS0F2EOxrAixSSdsEAMINrIgfrmKGP
        mUDJduwtBnCUtAPPxynfzUdrScSvAoFM2EgqyQphz0y6WIKDFUFJDpVcpYLOZRKpNIRAElm/9hZs
        ZEuZ5QQuYEWqlA9ddmOTTfFu4o6bKp7GdsEzeMc2FEdgY58ydcTity+5KPogsOuI6wxXrHrePKM2
        g5t6YAXP65h7VB+5skd+znGHQ829xIBsaa/RzmsHNmD2OpjGTCyXE27Tai7UGKbd8cb8UWGkad5z
        GMc9HnzyxmfR5oAYtIs5lk33VFBNBX5if9zo7Te8q51sXdeob1LZZ17RACl7tj4FmtJ6sh2yl/6Q
        8/Pep462FGLqiVWqMHUJa0/BVayT6bg5mGBv0AOf7woJq+GA+KNiHpUYpUTo/KabhToQ4pby1tNu
        n/k2oysYxpehObpia9nTpv9H8JPUsA2EGeg+BeRxsRNVZKyPmkZfVC+nlGPKHpX25ZeZ8K52cHHH
        o7sC3YN3hJWSRnB+Q6Ijo4RZR+sfzPEECq0tGe2wp7dXwQevQ30LxFIywSpqt3fUuK/JUFW6IZZc
        dz7+SSfm8fGfxojGtMyEEvnlfzcGhL4UYkum5RJCY8r4xbYP03e21HhHLKY9Pz9tjEXb0dJmGqVZ
        vsw4xjOh+zYWiz6/mb8+f3z8DwAA//8DAKfnKmf+BQAA
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90acd5d5884d4cae-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:36:11 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:36:07Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:36:11Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:36:06Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:36:07Z'
      request-id:
      - req_01DDK8uxepVWNUJGXG931gmU
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are helping
      an AI agent improve. You can do this by changing their system prompt.\n\nThese
      is their current prompt:\n<current_prompt>\nResearch the given topic thoroughly\n</current_prompt>\n\nHere
      are examples of various agent trajectories and associated feedback:\n<data>\n<trajectory
      0>\n===================================== user =====================================\n\nTell
      me about quantum computing\n================================== assistant ===================================\n\nHere''s
      my research...\n================================== assistant ===================================\n\nTo
      summarize the key points...\n</trajectory 0>\n<feedback 0>\n{''research'': ''Include
      more technical details'', ''summary'': ''Make it more accessible''}\n</feedback
      0>\n</data>\n\nHere are instructions for updating the agent''s prompt:\n\n<instructions>\n\n</instructions>\n\n\nBased
      on this, return an updated prompt\n\nYou should return the full prompt, so if
      there''s anything from before that you want to include, make sure to do that.
      Feel free to override or change anything that seems irrelevant. You do not need
      to update the prompt - if you don''t want to, just return `update_prompt = False`
      and an empty string for new prompt."}],"model":"claude-3-5-sonnet-latest","temperature":0.0,"tool_choice":{"type":"tool","name":"GeneralResponse"},"tools":[{"name":"GeneralResponse","description":"dict()
      -> new empty dictionary\ndict(mapping) -> new dictionary initialized from a
      mapping object''s\n    (key, value) pairs\ndict(iterable) -> new dictionary
      initialized as if via:\n    d = {}\n    for k, v in iterable:\n        d[k]
      = v\ndict(**kwargs) -> new dictionary initialized with the name=value pairs\n    in
      the keyword argument list.  For example:  dict(one=1, two=2)","input_schema":{"type":"object","properties":{"logic":{"type":"string"},"update_prompt":{"type":"boolean"},"new_prompt":{"type":"string"}},"required":["logic","update_prompt","new_prompt"]}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA4RV224bNxD9lQFf8rIybDkXRG+J3RguGiB1HBRtXQg0OdqdhjvccmYlK4b/vRiu
        pMhogL5J5JnhOWcu++gouoXrpV2enr25KX/83X8+x46vfv3S3v784fLtZXSN0+2AhkIR36JrXMnJ
        DrwIiXpW17g+R0xu4ULyY8TZ+ezVTDIz6mx+On95djqfu8aFzIqsbvHn4z6p5pyWo1jWSsX+j8vT
        s6ubi29fLn757dvH31+/Oh8+vSsPH1+tXePY9xZ3hYzFpxuUIfMUzsOobvHoUm4puIV77wUjZAbt
        EFaI8d6HrzCUvKaIsYFr4KwUELTzWkFhLAVZDdMPCiSwxrKFey8UwHOEmFH4he6TgAwYaEUB2pGi
        54D2XJc3oBlEyxh0LAi5wFBQLLO9Yj99Cd0J3B4TI44UvKKAbjL0nhhIZERZ3PEdn03ofSwwYhTo
        c0FQDB1T8Akiqqckdzyf0DL2vS/bHVgz3OMU4kNAEbpPaLlvM/gYC4oYP0EYMrFKA9cvUoJQ0CuC
        nyJD7oeCHbLQGvdGVQPNAqwZwLdVa17c8QyuOaQxPqc5aAebjtJ3QcStgd/7VG38Dt71DGxIuwNv
        SqRbw18k9CVtQXDwxWhOFmA8ykC8yqX3SplhVXJ/pH7nEKFUHzoExs1elZVAPfGkKZj6g/2RCgY1
        CyYZPkbi9sf9sFcwybY22nXDROnQJyeuceMQveJyYuAWWkZsHOPmcOJu9hSMVEtrZNA8UADtcslj
        26VtA6ucUt4Yo6mgtTaJ+KiZDvZcGq1nlfofD03BQWjIHHBQsfifHoZkbTtyxJK29nyPofNM0stO
        OHGgIWHF3+AKC5pLX3ELEdeY8tAj6wTeT6OoFTavpjkmTNE0zE/g07GNn/c2VinvsSXe9Qx01Haz
        ZOmb49rnNZY14cbwH6phU8AP5KMp4/pQZX6Rd1btXgjWhg0I9UOiFWE8jF4djWCbMKg8b+vqm03l
        UHzQelqds5Ua6zzc8fkJvDvu+SruElfExzOiWHqBTYcMKyqiQKwlxzFgNPwXQfDsbS+i2DYq6NNs
        k0uKgA++t3oYD0ppFK1jZGOe8OF5eVlsm+nRYiE5ouzNVM3goZ2WM/gxUq3vNCT7gbLG8CGMxYet
        e3r6q3GieVgW9JL5+TehXgj+M1oat+AxpcaN9TO0eJxW/lLzV2Rxizev3zYu+NDhsu4syrx8jjjd
        3xf08b93edTjk/P5y6enfwEAAP//AwAygVzsIgcAAA==
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90acd5d559c44caf-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:36:12 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:36:07Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:36:12Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:36:06Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:36:07Z'
      request-id:
      - req_01SQ7AD4TH544QQPSXNUDm5M
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"Analyze the following
      sessions and decide which prompts \nought to be updated to improve the performance
      on future sessions:\n\n<session_ac044fa771ac4344a506fd2e1ed335dd>\n================================
      Human Message =================================\n\nAnalyze the impact of AI
      on healthcare\n\n================================== Ai Message ==================================\n\nHere''s
      our analysis plan...\nResearch findings for each area...\nAnalysis of the implications...\nFinal
      report on AI in healthcare...\n\nFeedback for session ac044fa771ac4344a506fd2e1ed335dd:\n<FEEDBACK>\n{''organization'':
      ''needs better coordination between steps''}\n</FEEDBACK>\n</session_ac044fa771ac4344a506fd2e1ed335dd>\n\nBelow
      are the prompts being optimized:\nplanner: Plan the analysis steps\nresearcher:
      Gather information for each step\nanalyzer: Analyze the gathered information\nwriter:
      Write the final report\n\n\nReturn JSON with \"which\": [...], listing the names
      of prompts that need updates."}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"tool","name":"Classify"},"tools":[{"name":"Classify","description":"Classify
      which prompts merit updating for this conversation.","input_schema":{"description":"Classify
      which prompts merit updating for this conversation.","properties":{"reasoning":{"description":"Reasoning
      for which prompts to update.","title":"Reasoning","type":"string"},"which":{"description":"List
      of prompt names that should be updated. Must be among [''planner'', ''researcher'',
      ''analyzer'', ''writer'']","items":{"type":"string"},"title":"Which","type":"array"}},"required":["reasoning","which"],"title":"Classify","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAAwAAAP//lFNNb9xGDP0rBC+9aI3djQu3OsYpGiBBAANp0yQOFvSIkgYekfKQ4+3W
        8H8PRrt2a/SUm8SP9x4fOQ8YO2xxsmG33lx8vvz90x9f9PWbHIby2/ubV3T/S8QG/TBzrWIzGhgb
        zJpqgMyiOYljg5N2nLDFkKh0vHq1+nllKsK+2q6355v1dosNBhVncWy/PjyBumraFauoi5T6X3br
        zdvh/Orth+7du7/+vKLLq4tPH7fD5hYbFJpq32Wq7P2h9slcHNsH3I8xjNh+xTmRCGdskITS4R/O
        +K3BzGQqUQZs8TUZd6ACPjL0zN0NhVvwkRyidDGQs8E1CnNncMPunCGo5i4KeVSpsT2zgDnPdo1N
        BcoMNM9MGVzhhsH3ChNFAarUkPmuxBxlgDjNWe95YvH2Wq5lcwYfR4aTbJizTrODjVpSV4HK3JFz
        /QxUjCE6HJW5QshMzjBpZgg6ssV7BpIO9pzS6lkzd7B4YdGOmo/D9kn3kHSIgVI6QJ91AhWuwNUZ
        4b/9rCrcHhU+2fljEk/+RXEechVboaP0mqejmQttF/ueM4uf9NUZWKxkrmzzsgARDrXDnv2vUPeU
        oxYDspmDG2i/hJ/mXQao6jMbUw4j56NBOfrzKAbGPJ0W1xdZaOquqOO7Qs7pAGTHLf9kIAqVLPYx
        /Hs+p8tZNmxW2GAffXwx6UAVoVZohj4KJcg8a/ZFTZThDB8fvzVorvPueLAvH8mSML4rLIGxlZJS
        g2V5l+3D8SnsXG9ZDNuL9a8NBgoj75YriSq7lxXrp3xm6v6f0+L/jWwuzh8fvwMAAP//AwDT6HgP
        MwQAAA==
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90acd5fedf4d6991-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:36:16 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:36:13Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:36:16Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:36:12Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:36:13Z'
      request-id:
      - req_015FDEVxqp6X1vbqFRhkBnob
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are helping
      an AI assistant learn by optimizing its prompt.\n\n## Background\n\nBelow is
      the current prompt:\n\n<current_prompt>\nAnalyze the gathered information\n</current_prompt>\n\nThe
      developer provided these instructions regarding when/how to update:\n\n<update_instructions>\n\n</update_instructions>\n\n##
      Session Data\nAnalyze the session(s) (and any user feedback) below:\n\n<sessions>\n<session_37cc966c1f7f4498b7545e9c4a0c5421>\n================================
      Human Message =================================\n\nAnalyze the impact of AI
      on healthcare\n\n================================== Ai Message ==================================\n\nHere''s
      our analysis plan...\nResearch findings for each area...\nAnalysis of the implications...\nFinal
      report on AI in healthcare...\n\nFeedback for session 37cc966c1f7f4498b7545e9c4a0c5421:\n<FEEDBACK>\n{''organization'':
      ''needs better coordination between steps''}\n</FEEDBACK>\n</session_37cc966c1f7f4498b7545e9c4a0c5421>\n</sessions>\n\n##
      Instructions\n\n1. Reflect on the agent''s performance on the given session(s)
      and identify any real failure modes (e.g., style mismatch, unclear or incomplete
      instructions, flawed reasoning, etc.).\n2. Recommend the minimal changes necessary
      to address any real failures. If the prompt performs perfectly, simply respond
      with the original prompt without making any changes.\n3. Retain any f-string
      variables in the existing prompt exactly as they are (e.g. {variable_name}).\n\nIFF
      changes are warranted, focus on actionable edits. Be concrete. Edits should
      be appropriate for the identified failure modes. For example, consider synthetic
      few-shot examples for style or clarifying decision boundaries, or adding or
      modifying explicit instructions for conditionals, rules, or logic fixes; or
      provide step-by-step reasoning guidelines for multi-step logic problems if the
      model is failing to reason appropriately."}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"any"},"tools":[{"name":"think","description":"Reflection
      tool implementation.","input_schema":{"description":"Reflection tool implementation.","properties":{"thought":{"title":"Thought","type":"string"}},"required":["thought"],"title":"think","type":"object"}},{"name":"critique","description":"Critique
      tool implementation.","input_schema":{"description":"Critique tool implementation.","properties":{"criticism":{"title":"Criticism","type":"string"}},"required":["criticism"],"title":"critique","type":"object"}},{"name":"OptimizedPromptOutput","description":"Schema
      for the optimized prompt output.","input_schema":{"description":"Schema for
      the optimized prompt output.","properties":{"analysis":{"description":"First,
      analyze the current results and plan improvements to reconcile them.","title":"Analysis","type":"string"},"improved_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Finally,
      generate the full updated prompt to address the identified issues.   The prompt
      section being optimized contains no input f-string variables. Any brackets {{
      foo }} you emit will be escaped and not used.","title":"Improved Prompt"}},"required":["analysis","improved_prompt"],"title":"OptimizedPromptOutput","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA4yW224bNxCGX2XAm95IiqU4MKI7+ZCTUyeAnDZpVQgUObs7EXe4JrmSZcPvXgxX
        JycF0juLu5zD98/860dFVo1VHcv5yfCsSZTKr+bi+o/yYnPqh1d312ajeiptGpS3MEZdouqp4J0c
        6BgpJs1J9VTtLTo1Vsbp1mL/Zf9VP3pmTP3Ryeh0eDIaqZ4ynhNyUuO/H3dBk/du3kaJmkuR3+38
        ZHhx7deLD7eTy2ltR2ejyeTr29fnN6qnWNf5XkW8lEvctEmNH1WqfFtWSY3VR0xQI2jWbvOAkCqE
        iDGSZ7A6adBsoUC0C22W4xn34bZC2PcCJa0wgoYiIBY+1F2gSBHWlCqIaBJ5jrBoEzhtlhGMQx0g
        ptCa1AbMCWLCJkrwN9tMQGzJ6IQRZooRbYQFpoQBjPfBEmsJK2drRN7eVxLhog0BOUETfN0koAjJ
        e1jpssUXNTHV2nWlfW9jgpmaHDVe6lRhQAvE0kvO0UW9lfPfIgTvayh8AKqb4FdYS6rFRrKtyBKX
        oLcNZg6JjHZQBF3j2ofloVf19NT7papX3za35q8vbG4sP3zzzStzWq9HB1VNoER3LR4Lm88MxVqN
        lShlnuMoNLkIxBBxhUFQ6E0cz3g4gNsdplxlp1XZktVsEDzDu09/QvK7QZnxaAA3/ic1hY0PpWZ6
        EBpCdTcRM345gN8pRnmA940jQ6nD8eKASAIcND4O0cFsgjcY44xPc/7jCh2u0IEvwGLS5MAHiMY3
        KMnQpCzn/yN/Mz2jB+3N6w/X0/bqfHK5rIqPlwfyn5pENT2g/ZyxfmqT4D+SYdfzVoUt/W6Qk4cF
        AnIldVv52U0PdjpMfmRqQTdN8NpUe/6Z5mgAV88oyuPCO+fXGfXbliw6YowZaodCtLXYpCoDfPMM
        +5Fuhewfl3HGrwbwnrta8iLnUBtOFcqSSzjj2bg2Zrg9tV0MO+96VuNfbhi0cadzV738+o/uxzPO
        gC6xIEaYSj954wWX20BMOnVZlrgBHVB39eko6u+4b+fXys33FjlRscmXak0Mdy3G3OcLv/gu3iXu
        JtStDXnqMvbpJiaU4g1M9nL04TygXoL1awYUtXZlQNy/r53byKtX97qWJgI6XImPitf2IAVkG3u5
        7EaL33GOPG2bxoe0l2Vrrg0aKsgA3uu6cRhl4lEmiU1HxnMkiwEWPlWwQMaCUgfFUU3bjZCmXorK
        CcvQed4xGyMfpp2Lb/3WUlFg9pUtXLnxjsrKUVml3LjFBlkqIewyBnRdvoo6r59up+gBD30RJw/G
        y/EKgThKvFzh6UDa2Q1aB6WudZDrWbp9DEl2uNmHS4qmjVEs28k3JXeSnZhKFn56i+tzwJj9XLu8
        mj1Yo3N9GSTP+GzQpaIrjuJ4WWrZP1i05GwUJ2oCrsi38nc3PyagDKc+WJuEd77sPhDOrwdwjgdF
        d3sVMCGsK3Jdk0kT54+MrEQTSGL+sNcD9fT0T0/F5Jt5V/lzn8sPIt61MiRqzK1zPdXmf1XGj52B
        zZNfIkc1Hg5PRj1ltKlwnjsgz/Pnr5zsngfU9udnPjvj/uT07Ozp6V8AAAD//wMAdJ69YUcJAAA=
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90acd619cf3232c8-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:36:25 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:36:17Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:36:25Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:36:17Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:36:17Z'
      request-id:
      - req_01YKwWFn35GSYyQHmZhCkx9P
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are helping
      an AI assistant learn by optimizing its prompt.\n\n## Background\n\nBelow is
      the current prompt:\n\n<current_prompt>\nAnalyze the gathered information\n</current_prompt>\n\nThe
      developer provided these instructions regarding when/how to update:\n\n<update_instructions>\n\n</update_instructions>\n\n##
      Session Data\nAnalyze the session(s) (and any user feedback) below:\n\n<sessions>\n<session_37cc966c1f7f4498b7545e9c4a0c5421>\n================================
      Human Message =================================\n\nAnalyze the impact of AI
      on healthcare\n\n================================== Ai Message ==================================\n\nHere''s
      our analysis plan...\nResearch findings for each area...\nAnalysis of the implications...\nFinal
      report on AI in healthcare...\n\nFeedback for session 37cc966c1f7f4498b7545e9c4a0c5421:\n<FEEDBACK>\n{''organization'':
      ''needs better coordination between steps''}\n</FEEDBACK>\n</session_37cc966c1f7f4498b7545e9c4a0c5421>\n</sessions>\n\n##
      Instructions\n\n1. Reflect on the agent''s performance on the given session(s)
      and identify any real failure modes (e.g., style mismatch, unclear or incomplete
      instructions, flawed reasoning, etc.).\n2. Recommend the minimal changes necessary
      to address any real failures. If the prompt performs perfectly, simply respond
      with the original prompt without making any changes.\n3. Retain any f-string
      variables in the existing prompt exactly as they are (e.g. {variable_name}).\n\nIFF
      changes are warranted, focus on actionable edits. Be concrete. Edits should
      be appropriate for the identified failure modes. For example, consider synthetic
      few-shot examples for style or clarifying decision boundaries, or adding or
      modifying explicit instructions for conditionals, rules, or logic fixes; or
      provide step-by-step reasoning guidelines for multi-step logic problems if the
      model is failing to reason appropriately."},{"role":"assistant","content":[{"type":"tool_use","name":"think","input":{"thought":"Let
      me analyze the session data and feedback:\n- The assistant gives a freeform
      analysis with sections but lacks clear structure and steps\n- Feedback indicates
      \"needs better coordination between steps\"\n- Current prompt is too vague/minimal
      with just \"Analyze the gathered information\"\n- There''s room for improvement
      by providing a clear analytical framework and steps"},"id":"toolu_01CKowbJTADSmd272AAXG9BN"},{"type":"tool_use","name":"critique","input":{"criticism":"The
      current prompt fails in several ways:\n1. Too vague and lacks guidance on HOW
      to analyze\n2. No clear structure for organizing the analysis\n3. Missing explicit
      steps/framework for coordinating the analytical process\n4. No guidance on level
      of detail or scope expectations"},"id":"toolu_01EYyTcZUncNdnzYop5c4mw2"},{"type":"tool_use","name":"OptimizedPromptOutput","input":{"analysis":"The
      prompt needs to be enhanced to provide:\n1. A clear structured approach to analysis\n2.
      Explicit steps to follow\n3. Guidelines for scope and depth\n4. Framework for
      organizing findings\n5. Instructions for synthesis and conclusions","improved_prompt":"Analyze
      the gathered information using the following structured approach:\n\n1. Define
      Scope\n- Clearly state the key areas and aspects to be analyzed\n- Identify
      the main questions/objectives to address\n\n2. Systematic Analysis\n- Break
      down each key area systematically\n- Examine relevant data, trends, and patterns\n-
      Support findings with specific examples or evidence\n- Consider both benefits
      and limitations\n\n3. Integration\n- Identify connections between different
      aspects\n- Highlight key dependencies and relationships\n- Synthesize findings
      into cohesive insights\n\n4. Conclusions\n- Summarize main findings and insights\n-
      Discuss implications and significance\n- Present balanced, well-reasoned conclusions\n\nEnsure
      each step builds on previous ones to create a coordinated, logical flow. Be
      specific and concrete while maintaining appropriate scope and depth."},"id":"toolu_01NS7izaoc9JKSuEBADkhfLD"}]},{"role":"user","content":[{"type":"tool_result","content":"","tool_use_id":"toolu_01CKowbJTADSmd272AAXG9BN","is_error":false},{"type":"tool_result","content":"","tool_use_id":"toolu_01EYyTcZUncNdnzYop5c4mw2","is_error":false},{"type":"tool_result","content":"","tool_use_id":"toolu_01NS7izaoc9JKSuEBADkhfLD","is_error":false}]}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"any"},"tools":[{"name":"think","description":"Reflection
      tool implementation.","input_schema":{"description":"Reflection tool implementation.","properties":{"thought":{"title":"Thought","type":"string"}},"required":["thought"],"title":"think","type":"object"}},{"name":"critique","description":"Critique
      tool implementation.","input_schema":{"description":"Critique tool implementation.","properties":{"criticism":{"title":"Criticism","type":"string"}},"required":["criticism"],"title":"critique","type":"object"}},{"name":"OptimizedPromptOutput","description":"Schema
      for the optimized prompt output.","input_schema":{"description":"Schema for
      the optimized prompt output.","properties":{"analysis":{"description":"First,
      analyze the current results and plan improvements to reconcile them.","title":"Analysis","type":"string"},"improved_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Finally,
      generate the full updated prompt to address the identified issues.   The prompt
      section being optimized contains no input f-string variables. Any brackets {{
      foo }} you emit will be escaped and not used.","title":"Improved Prompt"}},"required":["analysis","improved_prompt"],"title":"OptimizedPromptOutput","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAAwAAAP//ZJLdahsxEIVfZZjrtfEvKXuXmLq+SCGlP1CassjSxBLeHSmakY1r8hS9
        7dP1ScquSanppXTOd+aI0RmDwxo72TWT6cevz6v5m+7zevqwOqzmXyRu3i0NVqinRL2LRMyOsMIc
        2/7CiARRw4oVdtFRizXa1hRHo/loOZLITDqaTWaL6WQ2wwptZCVWrL+dX0M1xrYp0qcOVfpzaSbT
        m627W/vb9ebTaWfKer++/7Apd1ghm27gfOB9D3EqivUZ1cey84o13pNCR3CgHJ5OoN4oqCcIXcrx
        QA5Sjl1SMM5lEiEZ1D2dIIgUkvqRp2O4dY4c2JZMBtFcrJZMcAzqYQGdCQyilAR+//r5yLMxPOR4
        CD0iiWx4ChZ2JTjDliAyHIcSEVyEwEDG+gG/0PMxvO2SNxJ+9CNjzC6w0RAZtqRHoqtZi9du/+aL
        jYnAsANHSf3FuRzDexNYTeC+V+hSG2zQExx9aAm2FHgHNnYpkyeWcKCew5eX7xWKxtRkMhL5ekmD
        IPRciC1hzaVtKyzDv6jPl200GvfEgvX0ZjKp0BrrqbGZhic115a/eibj/tfiH5WWoBhoaFpbCwAA
        AP//AwANUIPytAIAAA==
    headers:
      CF-RAY:
      - 90acd652d8b332c8-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:36:28 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:36:26Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:36:28Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:36:26Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:36:26Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01FuRbQrGicGAER7s5uQpB3t
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are helping
      an AI assistant learn by optimizing its prompt.\n\n## Background\n\nBelow is
      the current prompt:\n\n<current_prompt>\nPlan the analysis steps\n</current_prompt>\n\nThe
      developer provided these instructions regarding when/how to update:\n\n<update_instructions>\n\n</update_instructions>\n\n##
      Session Data\nAnalyze the session(s) (and any user feedback) below:\n\n<sessions>\n<session_d9bf012dadbb4af98d2be9892ceb5ddc>\n================================
      Human Message =================================\n\nAnalyze the impact of AI
      on healthcare\n\n================================== Ai Message ==================================\n\nHere''s
      our analysis plan...\nResearch findings for each area...\nAnalysis of the implications...\nFinal
      report on AI in healthcare...\n\nFeedback for session d9bf012dadbb4af98d2be9892ceb5ddc:\n<FEEDBACK>\n{''organization'':
      ''needs better coordination between steps''}\n</FEEDBACK>\n</session_d9bf012dadbb4af98d2be9892ceb5ddc>\n</sessions>\n\n##
      Instructions\n\n1. Reflect on the agent''s performance on the given session(s)
      and identify any real failure modes (e.g., style mismatch, unclear or incomplete
      instructions, flawed reasoning, etc.).\n2. Recommend the minimal changes necessary
      to address any real failures. If the prompt performs perfectly, simply respond
      with the original prompt without making any changes.\n3. Retain any f-string
      variables in the existing prompt exactly as they are (e.g. {variable_name}).\n\nIFF
      changes are warranted, focus on actionable edits. Be concrete. Edits should
      be appropriate for the identified failure modes. For example, consider synthetic
      few-shot examples for style or clarifying decision boundaries, or adding or
      modifying explicit instructions for conditionals, rules, or logic fixes; or
      provide step-by-step reasoning guidelines for multi-step logic problems if the
      model is failing to reason appropriately."}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"any"},"tools":[{"name":"think","description":"Reflection
      tool implementation.","input_schema":{"description":"Reflection tool implementation.","properties":{"thought":{"title":"Thought","type":"string"}},"required":["thought"],"title":"think","type":"object"}},{"name":"critique","description":"Critique
      tool implementation.","input_schema":{"description":"Critique tool implementation.","properties":{"criticism":{"title":"Criticism","type":"string"}},"required":["criticism"],"title":"critique","type":"object"}},{"name":"OptimizedPromptOutput","description":"Schema
      for the optimized prompt output.","input_schema":{"description":"Schema for
      the optimized prompt output.","properties":{"analysis":{"description":"First,
      analyze the current results and plan improvements to reconcile them.","title":"Analysis","type":"string"},"improved_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Finally,
      generate the full updated prompt to address the identified issues.   The prompt
      section being optimized contains no input f-string variables. Any brackets {{
      foo }} you emit will be escaped and not used.","title":"Improved Prompt"}},"required":["analysis","improved_prompt"],"title":"OptimizedPromptOutput","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA5SWb08bORDGv8rIb3iTVBBAJ/IOrlA4oSstp/67nCJnd7LrxjveeOykoeK7n8bO
        JktBvd4rxMYePzPzm8f+rkypxqrhanp4dH1yMfv8eaGPbxeLs8275WU8+9h4NVBh06KsQmZdoRoo
        76x80MyGg6agBqpxJVo1VoXVscTh8fB0yI4Iw3B0ODo5OhyN1EAVjgJSUOO/v3dBg3N2GlmiJiny
        f5weHt2+vr09fh/PHi6a6u7T6OTL++X9mzs1UKSbtK82tJBN1Magxt9VqF2s6qDG6hYDNAiatN08
        IITaMLTeNW0ATSUwMhtHUOqgodAe59HazXhCEzp6BX/VCEX0Hil0mwwDfgseG7QbaAyZRtsBOLIb
        kIS0IUMVTNSd1QSh3p7MhoEDtjxRExrlwN3RXLs1g4ageQEel9F4CbHb5+ZwfnPAYJpWFwEcQY3a
        hlrUTug4B5sjljNdLIBbLMzcFNqKPqRgHDFMFCGWDDMMAT0UzvnSkJYf5dsakfb6TnLIXUMPGDxy
        64gR1pphpauIqXopbWs4YAkVEnptodABK+cNMqyN9CFAYVHLoURYZD3OSz0rvy3BUwl0mgVsK56V
        N84jcPCxCNEjBAdVNCUCbzhgo4Mp9hUTaUgs61rv2p8mrB4fB//J3+ni6+Jic/nmQ333abRchXiF
        qyXt+Su8CWYZsY9g+lYYbtRYvcBRrRkYV7lkaam2sEa9IGRGHif+bqT2wbleyUuHTAcpzErylypo
        KjBx4dZSmF6Vevx13Hk8YCAHhvI6qYieSZtSyQQ966okZ27dOh3ab90PvToWlWB1sWAojc+rRIyc
        bXGFVgAuMWhjUyuxhLnzgLqoU4yOt07XCwk1epFzSWfCLBpbQmwd5Sgu1OgTNTdhV588B5tnIXaQ
        FK5pPdZIbFa5tGu0duh8pck8YPlLYLy+vr+4+lxfPBTXfDcLZ8Vv71//ud6D8bYNppFod6nrb2MQ
        OnqUdHK2kDxBnk1FaZQpyPB7t0IZaElHl6XMTsroCduGOWKegI6Q7czvqZDyd+fmSVvgpn8Cd43S
        HjsrPC/Lnbf02eEUrvCoQ3Kt/TnlIPVrONsM5e++8q3VlGi8ocLGHxh+GcLn0N1v+ysVELVZRjKa
        4DWxyeJ+oDfBJqlkn91mm3j81lpTmPAzb0yIbTU/K0Gjzc7+d962QihlBlybOufmYErUv2Y6b1Z/
        tJftl0/rEfK3D+9W1xzj8vx/sLXtaDnNVKlxvpT0i54528DcWevWoj/UyLktaA0lN0oQXBnPYQAu
        Bvmcat/or1J417SOUjEFLgElCJ06syzIznaXcJmaf9WZwG7voBva8YQAYAgfZb+hufNNbkeeixys
        0jL2Emy71hQ1NBhqV2YRbeudLup0D1krWyLvll+7NaRmJzRSzGQjvUwSZufea6r67mOkgh2cjMuI
        Qu5atHS6L7W3Jo2cbOjmcO4ilTkP4cVqmUpHyLtdW0fMBsfZ4VqPK+Miw9xQaajqVv/+DHV5RyS7
        y8dqj116kvXJHt0nhLfOUNcqiTDuFag08zmmS6vXX0MBvS7Cru4olrIVB3Pvmt6+rmQBK68D9mIX
        TtRwUt71hzck5JmEyOkruBRTNqEGvZ3s/ptBxAqryeD7xp6iNW6FWYwhE4y2+YWXocmIe3kiinK5
        gfdqBPXL/HjY3VHy6uvMbwA6Tb2eWRxkfxFt2/efN7MYMPEkoly64O3ebtXj4z8DxcG1U4+aHT01
        gPRDB5UaU7R2oGJ6aMtAy2RPg1sgsRofHZ4dDVQhiE+z/zqaPl1y2P3uUZfPf3PJMnZfTs/OHh//
        BQAA//8DAD9gmS8FDAAA
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90acd619cb1d32b2-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:36:28 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:36:17Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:36:28Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:36:16Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:36:17Z'
      request-id:
      - req_01CWYGiMwPZFtPpaaGy95Yi3
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: "{\"max_tokens\":1024,\"messages\":[{\"role\":\"user\",\"content\":\"You
      are helping an AI assistant learn by optimizing its prompt.\\n\\n## Background\\n\\nBelow
      is the current prompt:\\n\\n<current_prompt>\\nAnalyze the gathered information\\n</current_prompt>\\n\\nThe
      developer provided these instructions regarding when/how to update:\\n\\n<update_instructions>\\n\\n</update_instructions>\\n\\n##
      Session Data\\nAnalyze the session(s) (and any user feedback) below:\\n\\n<sessions>\\n<session_37cc966c1f7f4498b7545e9c4a0c5421>\\n================================
      Human Message =================================\\n\\nAnalyze the impact of AI
      on healthcare\\n\\n================================== Ai Message ==================================\\n\\nHere's
      our analysis plan...\\nResearch findings for each area...\\nAnalysis of the
      implications...\\nFinal report on AI in healthcare...\\n\\nFeedback for session
      37cc966c1f7f4498b7545e9c4a0c5421:\\n<FEEDBACK>\\n{'organization': 'needs better
      coordination between steps'}\\n</FEEDBACK>\\n</session_37cc966c1f7f4498b7545e9c4a0c5421>\\n</sessions>\\n\\n##
      Instructions\\n\\n1. Reflect on the agent's performance on the given session(s)
      and identify any real failure modes (e.g., style mismatch, unclear or incomplete
      instructions, flawed reasoning, etc.).\\n2. Recommend the minimal changes necessary
      to address any real failures. If the prompt performs perfectly, simply respond
      with the original prompt without making any changes.\\n3. Retain any f-string
      variables in the existing prompt exactly as they are (e.g. {variable_name}).\\n\\nIFF
      changes are warranted, focus on actionable edits. Be concrete. Edits should
      be appropriate for the identified failure modes. For example, consider synthetic
      few-shot examples for style or clarifying decision boundaries, or adding or
      modifying explicit instructions for conditionals, rules, or logic fixes; or
      provide step-by-step reasoning guidelines for multi-step logic problems if the
      model is failing to reason appropriately.\"},{\"role\":\"assistant\",\"content\":[{\"type\":\"tool_use\",\"name\":\"think\",\"input\":{\"thought\":\"Let
      me analyze the session data and feedback:\\n- The assistant gives a freeform
      analysis with sections but lacks clear structure and steps\\n- Feedback indicates
      \\\"needs better coordination between steps\\\"\\n- Current prompt is too vague/minimal
      with just \\\"Analyze the gathered information\\\"\\n- There's room for improvement
      by providing a clear analytical framework and steps\"},\"id\":\"toolu_01CKowbJTADSmd272AAXG9BN\"},{\"type\":\"tool_use\",\"name\":\"critique\",\"input\":{\"criticism\":\"The
      current prompt fails in several ways:\\n1. Too vague and lacks guidance on HOW
      to analyze\\n2. No clear structure for organizing the analysis\\n3. Missing
      explicit steps/framework for coordinating the analytical process\\n4. No guidance
      on level of detail or scope expectations\"},\"id\":\"toolu_01EYyTcZUncNdnzYop5c4mw2\"},{\"type\":\"tool_use\",\"name\":\"OptimizedPromptOutput\",\"input\":{\"analysis\":\"The
      prompt needs to be enhanced to provide:\\n1. A clear structured approach to
      analysis\\n2. Explicit steps to follow\\n3. Guidelines for scope and depth\\n4.
      Framework for organizing findings\\n5. Instructions for synthesis and conclusions\",\"improved_prompt\":\"Analyze
      the gathered information using the following structured approach:\\n\\n1. Define
      Scope\\n- Clearly state the key areas and aspects to be analyzed\\n- Identify
      the main questions/objectives to address\\n\\n2. Systematic Analysis\\n- Break
      down each key area systematically\\n- Examine relevant data, trends, and patterns\\n-
      Support findings with specific examples or evidence\\n- Consider both benefits
      and limitations\\n\\n3. Integration\\n- Identify connections between different
      aspects\\n- Highlight key dependencies and relationships\\n- Synthesize findings
      into cohesive insights\\n\\n4. Conclusions\\n- Summarize main findings and insights\\n-
      Discuss implications and significance\\n- Present balanced, well-reasoned conclusions\\n\\nEnsure
      each step builds on previous ones to create a coordinated, logical flow. Be
      specific and concrete while maintaining appropriate scope and depth.\"},\"id\":\"toolu_01NS7izaoc9JKSuEBADkhfLD\"}]},{\"role\":\"user\",\"content\":[{\"type\":\"tool_result\",\"content\":\"\",\"tool_use_id\":\"toolu_01CKowbJTADSmd272AAXG9BN\",\"is_error\":false},{\"type\":\"tool_result\",\"content\":\"\",\"tool_use_id\":\"toolu_01EYyTcZUncNdnzYop5c4mw2\",\"is_error\":false},{\"type\":\"tool_result\",\"content\":\"\",\"tool_use_id\":\"toolu_01NS7izaoc9JKSuEBADkhfLD\",\"is_error\":false}]},{\"role\":\"assistant\",\"content\":[{\"type\":\"tool_use\",\"name\":\"think\",\"input\":{\"thought\":\"Let
      me verify that the improved prompt addresses the key issues:\\n1. Added clear
      structure with 4 main steps \u2713\\n2. Provided specific guidance on what to
      do in each step \u2713\\n3. Emphasized coordination between steps \u2713\\n4.
      Added guidance on scope and depth \u2713\\n5. Maintained simplicity while being
      comprehensive \u2713\"},\"id\":\"toolu_017bdBFhAFHTygauFkFLQHuB\"}]},{\"role\":\"user\",\"content\":[{\"type\":\"tool_result\",\"content\":\"\",\"tool_use_id\":\"toolu_017bdBFhAFHTygauFkFLQHuB\",\"is_error\":false}]}],\"model\":\"claude-3-5-sonnet-latest\",\"tool_choice\":{\"type\":\"tool\",\"name\":\"OptimizedPromptOutput\"},\"tools\":[{\"name\":\"OptimizedPromptOutput\",\"description\":\"Schema
      for the optimized prompt output.\",\"input_schema\":{\"description\":\"Schema
      for the optimized prompt output.\",\"properties\":{\"analysis\":{\"description\":\"First,
      analyze the current results and plan improvements to reconcile them.\",\"title\":\"Analysis\",\"type\":\"string\"},\"improved_prompt\":{\"anyOf\":[{\"type\":\"string\"},{\"type\":\"null\"}],\"description\":\"Finally,
      generate the full updated prompt to address the identified issues.   The prompt
      section being optimized contains no input f-string variables. Any brackets {{
      foo }} you emit will be escaped and not used.\",\"title\":\"Improved Prompt\"}},\"required\":[\"analysis\",\"improved_prompt\"],\"title\":\"OptimizedPromptOutput\",\"type\":\"object\"}}]}"
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA3xVXW9bNwz9K4SebS92EqTwW9JkTToMTdcB6zoPhizRvlp0KVXktesE+e8Dda/j
        ZRv64g9JPDw8PJSeTPBmblreLE+m72/d9ot8/oiPsx9n12/ezvb76dWFGRnZZ9RTyGw3aEampKgL
        ljmwWBIzMm3yGM3cuGg7j+PT8fmYExHKeHYyO5uezGZmZFwiQRIz/+PpACopxWXHilqp6P9ueTL9
        Cd/9xreX729/n33++OXd7Obi8Zc3azMyZFuN+5AltOER/X1JbZYPneROeQTS7/mTsWTjngObufm1
        QUglbALZCIzMIRFwk3boQRqEyzuwIthmCbQBScBSOiddQQjCcECCVScQrXvQUy6iLeBSKj6QFUW0
        5GEd0w5WKDtEAhbMPAFNv0b0K+segDO6sA7OxrgH/UQPqRMgRK+4C7NCEfwX9GvEhVnQghQ2tLmk
        LXrIVQWw3hdkRgZplPB+vqDpBO5L2oYKbwfiZ2OF6ksTZQPrYlvcpfKwoNkEbr7lGFyQuAcWW3XZ
        NVZUtS56WCG4tMWCHgIBWtdUags6ncClr5k2XfCWHIJdaX2rLsS67tQVTqviY1nDwoLOJnBHLnb1
        6EErCNR3pAb1eLwnaVC7cpB9QecT+NkGEhuo1ppzSbkEKwjsUkbYNSGiiqTbhE4NXfbgUWyIB00J
        d/8wwFBwgzEfvJJL8p1DaFNRGZTFFiuNHcY4TmVjSZ05GAd5yIvEXdHMSuv7HVYjD61d9q01c3Op
        cI9YaWysNIP861TaHqPj6l+1W4ox7aqGh0p8r4d1zVwrnU7gGteBED6pNAsaw1t1xtDwPssD7sEW
        tL3IVvshrAOywr64R/QaeeeRJKz3Nai1geBrh1zb9UNa/aXd3WINHAyqDGYT+LRnQSXv4HIYMoW7
        KmgfwKfdYK0DDeCX8zo+evTmm221iIIRt5YEvBU7AilInkeVdtbZLlSRP3U5pyKwDqQeYNgFaY4+
        w2+2zREZUgHcBo/kemUScfBYYJWkgRUSrvuLwUMMbRA7uLf6/44EN6UuvdLm/4zvw3qNBUkO4mrE
        bdg0MWwaqYV7zEjKJGCfsWDs8zUh90UNo/CIx7oCSTp6MxArXmV4NtFyXOy456yitK0tGl5b94Kh
        yY6RY7gO7DpmvXRicHaYRvLAYUP1Thvkui/IWtPKRl3yo34w1EiJ0KsSx/wLutG5wOMt0t8VDIkg
        F9yG1Onv3j+uoJrTHodH4WPa9HdYTLsJXOGxo0pP0xWUw/i3370iNMBjlmZinp//HBmWlJc989ev
        Vd1g/NqpScycuhhHpqsP5Pypf4aWkh6Q2MynF7OTkXHWNbisFYREy9dHXvYLWv/fvVTft5eV07Pz
        5+e/AQAA//8DALzRKoy9BwAA
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90acd663be3532b3-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:36:34 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:36:30Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:36:34Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:36:28Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:36:30Z'
      request-id:
      - req_01NnB8CtvkmYxpegUZLVyvuh
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are helping
      an AI assistant learn by optimizing its prompt.\n\n## Background\n\nBelow is
      the current prompt:\n\n<current_prompt>\nPlan the analysis steps\n</current_prompt>\n\nThe
      developer provided these instructions regarding when/how to update:\n\n<update_instructions>\n\n</update_instructions>\n\n##
      Session Data\nAnalyze the session(s) (and any user feedback) below:\n\n<sessions>\n<session_d9bf012dadbb4af98d2be9892ceb5ddc>\n================================
      Human Message =================================\n\nAnalyze the impact of AI
      on healthcare\n\n================================== Ai Message ==================================\n\nHere''s
      our analysis plan...\nResearch findings for each area...\nAnalysis of the implications...\nFinal
      report on AI in healthcare...\n\nFeedback for session d9bf012dadbb4af98d2be9892ceb5ddc:\n<FEEDBACK>\n{''organization'':
      ''needs better coordination between steps''}\n</FEEDBACK>\n</session_d9bf012dadbb4af98d2be9892ceb5ddc>\n</sessions>\n\n##
      Instructions\n\n1. Reflect on the agent''s performance on the given session(s)
      and identify any real failure modes (e.g., style mismatch, unclear or incomplete
      instructions, flawed reasoning, etc.).\n2. Recommend the minimal changes necessary
      to address any real failures. If the prompt performs perfectly, simply respond
      with the original prompt without making any changes.\n3. Retain any f-string
      variables in the existing prompt exactly as they are (e.g. {variable_name}).\n\nIFF
      changes are warranted, focus on actionable edits. Be concrete. Edits should
      be appropriate for the identified failure modes. For example, consider synthetic
      few-shot examples for style or clarifying decision boundaries, or adding or
      modifying explicit instructions for conditionals, rules, or logic fixes; or
      provide step-by-step reasoning guidelines for multi-step logic problems if the
      model is failing to reason appropriately."},{"role":"assistant","content":[{"type":"text","text":"[{''id'':
      ''toolu_01LDLL3Ru9zBmgPX24ZRqSGP'', ''input'': {''thought'': ''Let me analyze
      this prompt and session data carefully:\\n\\n1. The current prompt is extremely
      minimal, only containing \"Plan the analysis steps\"\\n2. The session shows
      a task requiring analysis of AI\\''s impact on healthcare\\n3. The feedback
      specifically mentions \"needs better coordination between steps\"\\n4. The assistant\\''s
      response was vague and only listed general categories without clear connections
      or progression between steps\\n5. The prompt needs more structure to guide systematic
      analysis and ensure proper coordination between steps''}, ''name'': ''think'',
      ''type'': ''tool_use''}, {''id'': ''toolu_015kjkByEGVhPX2qvtuFevqn'', ''input'':
      {''criticism'': \"The current prompt has several critical weaknesses:\\n1. It''s
      too vague and doesn''t provide guidance on how to structure the analysis\\n2.
      There''s no instruction about ensuring logical flow and connections between
      steps\\n3. It lacks direction on the level of detail needed for each step\\n4.
      There''s no guidance on how to make the steps build upon each other\\n5. It
      doesn''t specify how to make the analysis comprehensive and well-organized\"},
      ''name'': ''critique'', ''type'': ''tool_use''}, {''id'': ''toolu_01DHSBFYhBzcHsPbt9c7RDNw'',
      ''input'': {''analysis'': ''The prompt needs significant improvement to address
      the coordination issues and provide better structure for analysis. The key improvements
      needed are:\\n\\n1. Add specific instructions for creating a structured, step-by-step
      analysis plan\\n2. Include guidance on ensuring logical flow between steps\\n3.
      Specify the need for clear transitions and connections\\n4. Add requirements
      for explicit coordination between steps\\n5. Include instructions for maintaining
      progressive development of ideas''}, ''name'': ''OptimizedPromptOutput'', ''type'':
      ''tool_use''}, {''id'': ''toolu_01GvJpEpZXw2esxVQvHsuuqA'', ''input'': {''improved_prompt'':
      ''Plan a systematic analysis by following these guidelines:\\n\\n1. First, outline
      the major components or aspects that need to be analyzed\\n2. For each component,
      specify:\\n   - What information needs to be gathered\\n   - Which methods or
      approaches will be used\\n   - How it connects to other components\\n3. Arrange
      the steps in a logical sequence where:\\n   - Earlier steps provide foundation
      for later ones\\n   - Each step builds upon previous findings\\n   - Clear transitions
      show how steps are connected\\n4. Include coordination points that show:\\n   -
      How different components interact\\n   - Where findings from different steps
      integrate\\n   - How conclusions will be synthesized\\n5. End with a clear progression
      showing how the analysis will move from initial data gathering through final
      conclusions\\n\\nEnsure each step is specific, actionable, and clearly contributes
      to the overall analysis.''}, ''name'': ''OptimizedPromptOutput'', ''type'':
      ''tool_use''}]"},{"type":"tool_use","name":"OptimizedPromptOutput","input":{"improved_prompt":"Plan
      a systematic analysis by following these guidelines:\n\n1. First, outline the
      major components or aspects that need to be analyzed\n2. For each component,
      specify:\n   - What information needs to be gathered\n   - Which methods or
      approaches will be used\n   - How it connects to other components\n3. Arrange
      the steps in a logical sequence where:\n   - Earlier steps provide foundation
      for later ones\n   - Each step builds upon previous findings\n   - Clear transitions
      show how steps are connected\n4. Include coordination points that show:\n   -
      How different components interact\n   - Where findings from different steps
      integrate\n   - How conclusions will be synthesized\n5. End with a clear progression
      showing how the analysis will move from initial data gathering through final
      conclusions\n\nEnsure each step is specific, actionable, and clearly contributes
      to the overall analysis."},"id":"toolu_01GvJpEpZXw2esxVQvHsuuqA"}]},{"role":"user","content":[{"type":"tool_result","content":"Error:\n\n```\n1
      validation error for OptimizedPromptOutput\nanalysis\n  Field required [type=missing,
      input_value={''improved_prompt'': ''Plan... the overall analysis.''}, input_type=dict]\n    For
      further information visit https://errors.pydantic.dev/2.10/v/missing\n```\nExpected
      Parameter Schema:\n\n```json\n{''description'': ''Schema for the optimized prompt
      output.'', ''properties'': {''analysis'': {''description'': ''First, analyze
      the current results and plan improvements to reconcile them.'', ''title'': ''Analysis'',
      ''type'': ''string''}, ''improved_prompt'': {''anyOf'': [{''type'': ''string''},
      {''type'': ''null''}], ''description'': ''Finally, generate the full updated
      prompt to address the identified issues.   The prompt section being optimized
      contains no input f-string variables. Any brackets {{ foo }} you emit will be
      escaped and not used.'', ''title'': ''Improved Prompt''}}, ''required'': [''analysis'',
      ''improved_prompt''], ''title'': ''OptimizedPromptOutput'', ''type'': ''object''}\n```\nPlease
      use PatchFunctionErrors to fix all validation errors. for json_doc_id=[toolu_01GvJpEpZXw2esxVQvHsuuqA].","tool_use_id":"toolu_01GvJpEpZXw2esxVQvHsuuqA","is_error":true}]}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"any"},"tools":[{"name":"PatchFunctionErrors","description":"Respond
      with all JSONPatch operations required to update the previous invalid function
      call.\n\nUse to correct all validation errors in non-compliant function calls,
      or to extend or update existing structured data in the presence of new information.
      Closely analyze\nthe parameters from the original JSONSchema to ensure the patched
      document will be valid\nand that you avoid repeating the same errors.","input_schema":{"properties":{"json_doc_id":{"description":"The
      ID of the function you are patching.","type":"string"},"planned_edits":{"description":"Write
      a bullet-point list of each ValidationError you encountered and the corresponding
      JSONPatch operation needed to heal it. For each operation, write why your initial
      guess was incorrect,  citing the corresponding types(s) from the JSONSchema
      that will be used the validate the resultant patched document.  Think step-by-step
      to ensure no error is overlooked.","type":"string"},"patches":{"description":"A
      list of JSONPatch operations to be applied to the previous tool call''s response
      arguments. If none are required, return an empty list. This field is REQUIRED.
      Multiple patches in the list are applied sequentially in the order provided,
      with each patch building upon the result of the previous one.","items":{"description":"A
      JSON Patch document represents an operation to be performed on a JSON document.\n\nNote
      that the op and path are ALWAYS required. Value is required for ALL operations
      except ''remove''.","examples":[{"op":"replace","path":"/path/to/my_array/1","value":"the
      newer value to be patched"},{"op":"replace","path":"/path/to/broken_object","value":{"new":"object"}},{"op":"add","path":"/path/to/my_array/-","value":["some","values"]},{"op":"add","path":"/path/to/my_array/-","value":["newer"]},{"op":"remove","path":"/path/to/my_array/1"}],"properties":{"op":{"description":"The
      operation to be performed. Must be one of ''add'', ''remove'', ''replace''.","enum":["add","remove","replace"],"type":"string"},"path":{"description":"A
      JSON Pointer path that references a location within the target document where
      the operation is performed. Note: patches are applied sequentially. If you remove
      a value, the collection size changes before the next patch is applied.","type":"string"},"value":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"type":"null"}]},"type":"object"},{"type":"null"}],"description":"The
      value to be used within the operation. REQUIRED for ''add'', ''replace'', and
      ''test'' operations. Pay close attention to the json schema to ensure patched
      document will be valid."}},"required":["op","path","value"],"type":"object"},"type":"array"}},"required":["json_doc_id","planned_edits","patches"],"type":"object"}},{"name":"PatchFunctionName","description":"Call
      this if the tool message indicates that you previously invoked an invalid tool,
      (e.g., \"Unrecognized tool name\" error), do so here.","input_schema":{"properties":{"json_doc_id":{"description":"The
      ID of the function you are patching.","type":"string"},"reasoning":{"description":"At
      least 2 logical reasons why this action ought to be taken.Cite the specific
      error(s) mentioned to motivate the fix.","items":{"type":"string"},"type":"array"},"fixed_name":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"If
      you need to change the name of the function (e.g., from an \"Unrecognized tool
      name\" error), do so here. Must be one of think, critique, OptimizedPromptOutput"}},"required":["json_doc_id","reasoning","fixed_name"],"type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2xUUW4jNwy9CqGfwMA4tR1ni85fgma7SFG3WwfdZtvFgJE4HsUaaiJq7LhBgJ6l
        R+tJCsket0bzKYp8fHyP0ouyRpWqlVU1mU7nX9v14jreL94v+/pdZ7+9uvhmrgoVdx2lLBLBFalC
        Be9SAEWsROSoCtV6Q06VSjvsDY0vxpdj8cwUx7PJbD6dzGaqUNpzJI6q/O1lAI3eu6qXhJqppHNf
        TaYffyaxny4X999/+Lw0V3fd7R/3j59UoRjbVPcTRt2871lH6/kmBB8kQXDXR1W+qEfxXBmvqxPQ
        7za33U33+dftjOT5l4+bD9L3T1eqUJ1DZjIVGRtFlervP/+Cu4bgDBndTqycQW3JGdiiQGtFLK+g
        Dr6F2BDUBxqg0bkCto3VDVgBhEBPvQ1koMOALUUKgFr7YFJ99Ln6dvnjYqkbavF3Tn0XRCbdoTGA
        DAMDoOfOoeVc2RAETC3REdQ+5Ihtu+A31BJHgQeqfSBIEWuGmkOGSeG2S7Z1SUaS7IjvkqfG7MON
        KtVXQ3NVqA26Pgl/jUIGPGdAIZE0eE1kHlCvITYYQfs8YSYIDxS3RAwSqRNgIiP/ZVpknD2fQS4B
        sSu2tdXIEYgbZJ2Tz7Mpug+BOA5FViB6D61l26IDZAPGk/BZPExPgLyDVW9NwknUJYZexz4kXXwA
        nRZVx3Q6qp3p7vsd1/xMIJB0noXAngqQ9mKDq55yf4d6TQa0IwyJxCoc0k7EOIe77HK6TGAJVaQn
        Kd4yK2UKSEc6CZPHIWeZJPlfwnQE14FwnYYwfrtnd5zGcvTQ4mMetu08px0pYDaCZQbc5TKKaB2Z
        wYb9IqXtItTNv4UFXIzghmWvn/Mrq9GB0FNPrPciDrPHgCw27YEUMB/BzXPnrLbR7YbBU/6b+2Js
        XdPeZwyJbEK9HMEPaDke3gG+IXF+lRIxxPSIastWmuyjEOgGeUUCW+scNOS6vUqDv8d9adPTGZaE
        TG69JefGR6Y5mMQlOVevX15fvxRKou+qQCieTz+2fHHQh1TJvXOF6vNfWr7s/6wq+jWxqPJi/m5S
        KI26oUoHyppUpynH+0Bo/n/n+3gCOJu+vv4DAAD//wMA8Jh/JugFAAA=
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90acd6647cbb32b2-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:36:35 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:36:30Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:36:35Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:36:29Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:36:30Z'
      request-id:
      - req_01FVKW3eLHakFPMDms9XXT6Z
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are helping
      an AI assistant learn by optimizing its prompt.\n\n## Background\n\nBelow is
      the current prompt:\n\n<current_prompt>\nPlan the analysis steps\n</current_prompt>\n\nThe
      developer provided these instructions regarding when/how to update:\n\n<update_instructions>\n\n</update_instructions>\n\n##
      Session Data\nAnalyze the session(s) (and any user feedback) below:\n\n<sessions>\n<session_d9bf012dadbb4af98d2be9892ceb5ddc>\n================================
      Human Message =================================\n\nAnalyze the impact of AI
      on healthcare\n\n================================== Ai Message ==================================\n\nHere''s
      our analysis plan...\nResearch findings for each area...\nAnalysis of the implications...\nFinal
      report on AI in healthcare...\n\nFeedback for session d9bf012dadbb4af98d2be9892ceb5ddc:\n<FEEDBACK>\n{''organization'':
      ''needs better coordination between steps''}\n</FEEDBACK>\n</session_d9bf012dadbb4af98d2be9892ceb5ddc>\n</sessions>\n\n##
      Instructions\n\n1. Reflect on the agent''s performance on the given session(s)
      and identify any real failure modes (e.g., style mismatch, unclear or incomplete
      instructions, flawed reasoning, etc.).\n2. Recommend the minimal changes necessary
      to address any real failures. If the prompt performs perfectly, simply respond
      with the original prompt without making any changes.\n3. Retain any f-string
      variables in the existing prompt exactly as they are (e.g. {variable_name}).\n\nIFF
      changes are warranted, focus on actionable edits. Be concrete. Edits should
      be appropriate for the identified failure modes. For example, consider synthetic
      few-shot examples for style or clarifying decision boundaries, or adding or
      modifying explicit instructions for conditionals, rules, or logic fixes; or
      provide step-by-step reasoning guidelines for multi-step logic problems if the
      model is failing to reason appropriately."},{"role":"assistant","content":[{"type":"text","text":"[{''id'':
      ''toolu_01LDLL3Ru9zBmgPX24ZRqSGP'', ''input'': {''thought'': ''Let me analyze
      this prompt and session data carefully:\\n\\n1. The current prompt is extremely
      minimal, only containing \"Plan the analysis steps\"\\n2. The session shows
      a task requiring analysis of AI\\''s impact on healthcare\\n3. The feedback
      specifically mentions \"needs better coordination between steps\"\\n4. The assistant\\''s
      response was vague and only listed general categories without clear connections
      or progression between steps\\n5. The prompt needs more structure to guide systematic
      analysis and ensure proper coordination between steps''}, ''name'': ''think'',
      ''type'': ''tool_use''}, {''id'': ''toolu_015kjkByEGVhPX2qvtuFevqn'', ''input'':
      {''criticism'': \"The current prompt has several critical weaknesses:\\n1. It''s
      too vague and doesn''t provide guidance on how to structure the analysis\\n2.
      There''s no instruction about ensuring logical flow and connections between
      steps\\n3. It lacks direction on the level of detail needed for each step\\n4.
      There''s no guidance on how to make the steps build upon each other\\n5. It
      doesn''t specify how to make the analysis comprehensive and well-organized\"},
      ''name'': ''critique'', ''type'': ''tool_use''}, {''id'': ''toolu_01DHSBFYhBzcHsPbt9c7RDNw'',
      ''input'': {''analysis'': ''The prompt needs significant improvement to address
      the coordination issues and provide better structure for analysis. The key improvements
      needed are:\\n\\n1. Add specific instructions for creating a structured, step-by-step
      analysis plan\\n2. Include guidance on ensuring logical flow between steps\\n3.
      Specify the need for clear transitions and connections\\n4. Add requirements
      for explicit coordination between steps\\n5. Include instructions for maintaining
      progressive development of ideas''}, ''name'': ''OptimizedPromptOutput'', ''type'':
      ''tool_use''}, {''id'': ''toolu_01GvJpEpZXw2esxVQvHsuuqA'', ''input'': {''improved_prompt'':
      ''Plan a systematic analysis by following these guidelines:\\n\\n1. First, outline
      the major components or aspects that need to be analyzed\\n2. For each component,
      specify:\\n   - What information needs to be gathered\\n   - Which methods or
      approaches will be used\\n   - How it connects to other components\\n3. Arrange
      the steps in a logical sequence where:\\n   - Earlier steps provide foundation
      for later ones\\n   - Each step builds upon previous findings\\n   - Clear transitions
      show how steps are connected\\n4. Include coordination points that show:\\n   -
      How different components interact\\n   - Where findings from different steps
      integrate\\n   - How conclusions will be synthesized\\n5. End with a clear progression
      showing how the analysis will move from initial data gathering through final
      conclusions\\n\\nEnsure each step is specific, actionable, and clearly contributes
      to the overall analysis.''}, ''name'': ''OptimizedPromptOutput'', ''type'':
      ''tool_use''}]"},{"type":"tool_use","name":"OptimizedPromptOutput","input":{"analysis":"The
      prompt needs significant improvement to address the coordination issues and
      provide better structure for analysis. The key improvements needed are:\n\n1.
      Add specific instructions for creating a structured, step-by-step analysis plan\n2.
      Include guidance on ensuring logical flow between steps\n3. Specify the need
      for clear transitions and connections\n4. Add requirements for explicit coordination
      between steps\n5. Include instructions for maintaining progressive development
      of ideas"},"id":"toolu_01DHSBFYhBzcHsPbt9c7RDNw"}]},{"role":"user","content":[{"type":"tool_result","content":"Error:\n\n```\n1
      validation error for OptimizedPromptOutput\n  Assertion failed,  [type=assertion_error,
      input_value={''analysis'': ''The prompt ...e development of ideas''}, input_type=dict]\n    For
      further information visit https://errors.pydantic.dev/2.10/v/assertion_error\n```\nExpected
      Parameter Schema:\n\n```json\n{''description'': ''Schema for the optimized prompt
      output.'', ''properties'': {''analysis'': {''description'': ''First, analyze
      the current results and plan improvements to reconcile them.'', ''title'': ''Analysis'',
      ''type'': ''string''}, ''improved_prompt'': {''anyOf'': [{''type'': ''string''},
      {''type'': ''null''}], ''description'': ''Finally, generate the full updated
      prompt to address the identified issues.   The prompt section being optimized
      contains no input f-string variables. Any brackets {{ foo }} you emit will be
      escaped and not used.'', ''title'': ''Improved Prompt''}}, ''required'': [''analysis'',
      ''improved_prompt''], ''title'': ''OptimizedPromptOutput'', ''type'': ''object''}\n```\nPlease
      use PatchFunctionErrors to fix all validation errors. for json_doc_id=[toolu_01DHSBFYhBzcHsPbt9c7RDNw].","tool_use_id":"toolu_01DHSBFYhBzcHsPbt9c7RDNw","is_error":true}]}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"any"},"tools":[{"name":"PatchFunctionErrors","description":"Respond
      with all JSONPatch operations required to update the previous invalid function
      call.\n\nUse to correct all validation errors in non-compliant function calls,
      or to extend or update existing structured data in the presence of new information.
      Closely analyze\nthe parameters from the original JSONSchema to ensure the patched
      document will be valid\nand that you avoid repeating the same errors.","input_schema":{"properties":{"json_doc_id":{"description":"The
      ID of the function you are patching.","type":"string"},"planned_edits":{"description":"Write
      a bullet-point list of each ValidationError you encountered and the corresponding
      JSONPatch operation needed to heal it. For each operation, write why your initial
      guess was incorrect,  citing the corresponding types(s) from the JSONSchema
      that will be used the validate the resultant patched document.  Think step-by-step
      to ensure no error is overlooked.","type":"string"},"patches":{"description":"A
      list of JSONPatch operations to be applied to the previous tool call''s response
      arguments. If none are required, return an empty list. This field is REQUIRED.
      Multiple patches in the list are applied sequentially in the order provided,
      with each patch building upon the result of the previous one.","items":{"description":"A
      JSON Patch document represents an operation to be performed on a JSON document.\n\nNote
      that the op and path are ALWAYS required. Value is required for ALL operations
      except ''remove''.","examples":[{"op":"replace","path":"/path/to/my_array/1","value":"the
      newer value to be patched"},{"op":"replace","path":"/path/to/broken_object","value":{"new":"object"}},{"op":"add","path":"/path/to/my_array/-","value":["some","values"]},{"op":"add","path":"/path/to/my_array/-","value":["newer"]},{"op":"remove","path":"/path/to/my_array/1"}],"properties":{"op":{"description":"The
      operation to be performed. Must be one of ''add'', ''remove'', ''replace''.","enum":["add","remove","replace"],"type":"string"},"path":{"description":"A
      JSON Pointer path that references a location within the target document where
      the operation is performed. Note: patches are applied sequentially. If you remove
      a value, the collection size changes before the next patch is applied.","type":"string"},"value":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"type":"null"}]},"type":"object"},{"type":"null"}],"description":"The
      value to be used within the operation. REQUIRED for ''add'', ''replace'', and
      ''test'' operations. Pay close attention to the json schema to ensure patched
      document will be valid."}},"required":["op","path","value"],"type":"object"},"type":"array"}},"required":["json_doc_id","planned_edits","patches"],"type":"object"}},{"name":"PatchFunctionName","description":"Call
      this if the tool message indicates that you previously invoked an invalid tool,
      (e.g., \"Unrecognized tool name\" error), do so here.","input_schema":{"properties":{"json_doc_id":{"description":"The
      ID of the function you are patching.","type":"string"},"reasoning":{"description":"At
      least 2 logical reasons why this action ought to be taken.Cite the specific
      error(s) mentioned to motivate the fix.","items":{"type":"string"},"type":"array"},"fixed_name":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"If
      you need to change the name of the function (e.g., from an \"Unrecognized tool
      name\" error), do so here. Must be one of think, critique, OptimizedPromptOutput"}},"required":["json_doc_id","reasoning","fixed_name"],"type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2RU0W4bNxD8lQVf8nJWbNlunXtrGjtu07hGXMQN6kCgyJWOLm/3wl1aUQwD/ZZ+
        Wr+kIE9S7ORBD+LtzM3OzPHeBG9a08tytn9w9PbEr95fujfX9vjQy3Wav7k8+9M0RtcDlikUsUs0
        jUkcy4EVCaKW1DSmZ4/RtMZFmz3uHe4d7wkToe5N96dHB/vTqWmMY1IkNe1f91tSZY6zLIW1Sin/
        82z/4MVvt9Pp0cHrD4vMi0t6/Tkv362daQzZvuAurbruLJPTwHSaEicpFDRkNe29uRWmmWc3e0L6
        6vzq5dmH7uUXdy6Xc33hfnz36mJlGjNES4R+hj6omNb898+/8N7G4O2OvoW3QSTQEhJ+yiGhh0XA
        6OFZ6IfEd+hnQ+J+0Gc3BLAHF4gelMF6D9rh92Mb+CpoVwcc90NERciDt4oexjlQ/Kwj5R8dwq9X
        v19cuQ57C9LxSkC7IBAE7Le6tLMKzhLMETBohwlEU1mAE1COsexdXESpgfBQIvV+PO5Ma55XO59/
        I9w05s7GXEOIlsCCrEWxtxocWLJxLUFgvoYFx8ir8kLtUBCWOXiMgVDaG7qhgwmchSTaAGctx9WF
        3t5yql4wIakUsVYGdCrjRrTxdY7jy76gv6HpBM44AVrXfcU2UHBhsW6LfbAH1wUfaMGpr7lWLtmQ
        LW2xqJBtZoProEft2I8ihiGxLW7BKsRYIFl24+e8gqDgSuWrVAauln/d5IYOJ/BTSpaW46qiOAiE
        4mDkZXA2guCnjOQQVkXLVvepTTHU+AqghBE8woIzjf2EBSeIVjEBE8oO5boKgXkO0QvkgQmGhHeB
        s8AikA+03E7/HNEm0GRJQuGUWi8ov/G1NuF2vbL10QR+IRezL6ecfKBRysCBtlEVhvaRQT4sFpiQ
        9HG+gRSTdbrzHRPuxMEicf8It7VMcZms4iNux0WNVOXbfGRNpXmhVuR4Aqe0+dwsuLrukHiZUAqq
        ii1dLRuXdHZNrmw93+EoJlDQYCN4q3ZTmrHiifOyK8ptfKymVP2UJCcc61kTCbLpZnAN2HqH2XnE
        Biz5UVtcFxJNYZ4Va5+KKL7DZGPciZuYh48PDx8bI8rDLKEVpqeXan2wrZVpy3ffmFzv8fZ+vC9n
        yn8jiWkPD384aYwrJZ+5hDXQ2dOR/e3zhNZ//4yzPiE8mT48/A8AAP//AwDOn5MAZAYAAA==
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90acd665eba96991-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:36:36 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:36:30Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:36:36Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:36:29Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:36:30Z'
      request-id:
      - req_0181kZavSD4XHxi5kKDmrzNu
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"messages":[{"content":"You are tasked with summarizing the following
      conversation.","role":"system"},{"content":"Summarize the conversation below:\n\n<conversation_66156ab5-5bf6-4801-936c-f8931f72a83e>\n<function
      get_conversation at 0x107d01760>\n</conversation_66156ab5-5bf6-4801-936c-f8931f72a83e>","role":"user"}],"model":"gpt-4","stream":false,"tool_choice":"required","tools":[{"type":"function","function":{"name":"SummarizeThread","description":"Summarize
      the thread.","parameters":{"description":"Summarize the thread.","properties":{"title":{"title":"Title","type":"string"},"summary":{"title":"Summary","type":"string"}},"required":["title","summary"],"title":"SummarizeThread","type":"object"}}}]}'
    headers: {}
    method: POST
    uri: https://api.openai.com/v1/chat/completions
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAAwAAAP//jFNda9swFH3PrxB6jktcx26ct61jY4x1jAY2mIe5ka4TZbIkJDk0Dfnv
        RXZiu10G84MR9+iec+6HjhNCqOB0SSjbgme1kdG7vZ89fLGrdfzx54OJU0hmyT6tkq+PB/NEpyFD
        r3fI/CXrhunaSPRCqw5mFsFjYI3vkkWS5vM8b4Fac5QhbWN8NI9mWZycM7ZaMHR0SX5NCCHk2P6D
        N8XxiS7JbHqJ1OgcbJAu+0uEUKtliFBwTjgPytPpADKtPKpgVzVSjgCvtSwZSDkId99xdB4aBFKW
        O/PD3qtvq+/5/fPu84dP/AmbvJ6/H+l11AfTGqoaxfrGjPA+vnwjRghVULe5j01dgxXPuNpaBP6G
        ghAKdtPUqHywT4+FKqgXXmJBl6QIVe/ROggqZZbFaQbrNErXVRbNF7M4ypOMRdUiT+Lq7hYWCRZ0
        Gihcq3roSFZbJBw8EGP1XnDkhGt0RGlPQldBKALqQMZaxGviLs5vClqoE31l/DS5dv49movFqnEg
        zwM7x0/9Bki9MVav3ZuB0koo4balRXBtY6nz2nTaQadVoM2r5aHG6tr40us/qAJhnGQdHx2WekDT
        2zPotQc5ylosplf4So4eRLtd/UIzYFvkQ+qw2NBwoUfAZFT1326ucXeVC7X5H/oBYAyNR14ai1yw
        1xUP1yyGN/+va32XW8PUod0LhqUXaMMkOFbQyO5VUndwHuuyEmqD1ljRP83JafICAAD//wMAo0x2
        0JEEAAA=
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90acd9158f4342ab-EWR
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:38:21 GMT
      Server:
      - cloudflare
      Set-Cookie:
      - __cf_bm=NrPx2RECInRCeBeLT74DXIeh6R4cibwjBy4sFhnybgM-1738359501-1.0.1.1-WoS.rLgK5d.a0wNwYvbnlMuEMtPuOiOywQEAk66BkcSeHJuU9NqsWhuRTLKAJVm5MDSBE5XMEfDUN0snUdMKcQ;
        path=/; expires=Fri, 31-Jan-25 22:08:21 GMT; domain=.api.openai.com; HttpOnly;
        Secure; SameSite=None
      - _cfuvid=OKI.vGNuDkPVl3rX8EItiMyIVjDg0BOAw.ColVmja2o-1738359501979-0.0.1.1-604800000;
        path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None
      Transfer-Encoding:
      - chunked
      X-Content-Type-Options:
      - nosniff
      access-control-expose-headers:
      - X-Request-ID
      alt-svc:
      - h3=":443"; ma=86400
      openai-organization:
      - langchain
      openai-processing-ms:
      - '2800'
      openai-version:
      - '2020-10-01'
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      x-ratelimit-limit-requests:
      - '10000'
      x-ratelimit-limit-tokens:
      - '1000000'
      x-ratelimit-remaining-requests:
      - '9999'
      x-ratelimit-remaining-tokens:
      - '999921'
      x-ratelimit-reset-requests:
      - 6ms
      x-ratelimit-reset-tokens:
      - 4ms
      x-request-id:
      - req_de0addec7e8e9e296b48bcb80a4c142d
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are tasked
      with extracting or upserting memories for all entities, concepts, etc.\n\nExtract
      all important facts or entities. If an existing MEMORY is incorrect or outdated,
      update it based on the new information.\n\n\nEnrich, prune, and organize memories
      based on any new information. If an existing memory is incorrect or outdated,
      update it based on the new information. All operations must be done in single
      parallel call.\n\n<session_633762de-3cdd-498c-8602-0f1f0c71e25c>\n================================
      Human Message =================================\n\nI prefer dark mode in all
      my apps\n\n================================== Ai Message ==================================\n\nI''ll
      remember that preference\n</session_633762de-3cdd-498c-8602-0f1f0c71e25c>"}],"model":"claude-3-5-sonnet-latest","system":"You
      are a memory subroutine for an AI.\n\n","tool_choice":{"type":"any"},"tools":[{"name":"Memory","description":"Call
      this tool once for each new memory you want to record. Use multi-tool calling
      to record multiple new memories.","input_schema":{"description":"Call this tool
      once for each new memory you want to record. Use multi-tool calling to record
      multiple new memories.","properties":{"content":{"description":"The memory as
      a well-written, standalone episode/fact/note/preference/etc. Refer to the user''s
      instructions for more information the prefered memory organization.","title":"Content","type":"string"}},"required":["content"],"title":"Memory","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAAwAAAP//ZJBBT8MwDIX/SuVzKrpuTCw3EFwYkwYTO4BQFRJ3jZYmXeIIpqr/HaXT
        BBM32+/5+ZN70Ao4tGFXFZO777d6/zStV4dNo7zbvjxv6sU9MKBjh8mFIYgdAgPvTBqIEHQgYQkY
        tE6hAQ7SiKgwn+bXeXDWIuVlUc4mRVkCA+ksoSXg7/05lJwzVQwpdURJfUwwX8pNFjfkl58P+nat
        4/Z1SY/AwIo27a2wdf6YtmwXCXj/Gw5rjzV6tBJ5dqpDpoTfZwky05bQ10LiFTXYpj4TxmSi64yW
        grSzAYbhg0Eg11UeRXD2EnQUAh5iOgHcRmMYxPE3vD8BVeT2aAPw+bxkIIVssJIex/jq0lGcdY9C
        /ddcpL+T2WIYfgAAAP//AwAIiKU/tgEAAA==
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90acd92af8114cb1-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:38:24 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:38:23Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:38:24Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:38:22Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:38:23Z'
      request-id:
      - req_01HESuZ7JQY375wqAZu42TCk
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are tasked
      with extracting or upserting memories for all entities, concepts, etc.\n\nExtract
      all important facts or entities. If an existing MEMORY is incorrect or outdated,
      update it based on the new information.\n\n\nEnrich, prune, and organize memories
      based on any new information. If an existing memory is incorrect or outdated,
      update it based on the new information. All operations must be done in single
      parallel call.\n\n<session_455b3e8e-e934-4b4a-9eed-a9495e14db48>\n================================
      Human Message =================================\n\nI prefer dark mode in all
      my apps\n\n================================== Ai Message ==================================\n\nI''ll
      remember that preference\n</session_455b3e8e-e934-4b4a-9eed-a9495e14db48>"}],"model":"claude-3-5-sonnet-latest","system":"You
      are a memory subroutine for an AI.\n\n","tool_choice":{"type":"any"},"tools":[{"name":"PreferenceMemory","description":"Store
      the user''s preference","input_schema":{"description":"Store the user''s preference","properties":{"category":{"title":"Category","type":"string"},"preference":{"title":"Preference","type":"string"},"context":{"title":"Context","type":"string"}},"required":["category","preference","context"],"title":"PreferenceMemory","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2SQUWsCMRCE/8qxzxHO01p7b7VURSi0FEQoJSy51R7mkmt2g8px/71EsVT6mJlv
        JpN0UFdQQsM7nQ8f6u36Pr6xi4fV/H317Kfr2XEDCuTUUqKIGXcECoK3SUDmmgWdgILGV2ShBGMx
        VjQYDe4G7J0jGRR5MR7mRQEKjHdCTqD86K6l4r3VkVPreUo6R50Plws+zZrH4rAJx+VhIW2B86cx
        KHDYpNxroC0FcoZeqPHhlPKujQJlBwaFdkkroaq5tXjSTCK12zEoaH+Tycew12n7dd1RoITIFLIL
        x1lCsoRktRMKWzSUoQmeOUNrM2xbWxuU2juGvv9UwOJbHQjZu9sHng2m73i53EVrFcTzn5bdZb4W
        vyfHUE5GUwUGzRdpE+hcr2+J/OoHwuq/56P8VaaTvv8BAAD//wMA9rlIoO4BAAA=
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90acd9373ac16991-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:38:26 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:38:25Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:38:26Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:38:24Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:38:25Z'
      request-id:
      - req_01Xm98k9b6XRkEfKNZYt9kxU
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are tasked
      with extracting or upserting memories for all entities, concepts, etc.\n\nExtract
      all important facts or entities. If an existing MEMORY is incorrect or outdated,
      update it based on the new information.\n\n\nEnrich, prune, and organize memories
      based on any new information. If an existing memory is incorrect or outdated,
      update it based on the new information. All operations must be done in single
      parallel call.\n\n<session_dc672986-821f-4ce0-835f-2c9035c772b4>\n================================
      Human Message =================================\n\nActually I changed my mind,
      dark mode hurts my eyes\n\n================================== Ai Message ==================================\n\nI''ll
      update your preference\n</session_dc672986-821f-4ce0-835f-2c9035c772b4>"}],"model":"claude-3-5-sonnet-latest","system":"You
      are a memory subroutine for an AI.\n\n\n\nGenerate JSONPatches to update the
      existing schema instances. If you need to extract or insert *new* instances
      of the schemas, call the relevant function(s).\n<existing>\n<instance id=4ec90938-3255-4ef8-90af-a253f56025c6
      schema_type=\"PreferenceMemory\">\n{''category'': ''display_settings'', ''preference'':
      ''dark_mode'', ''context'': ''user prefers dark mode interface across all applications''}\n</instance>\n</existing>\n","tool_choice":{"type":"any"},"tools":[{"name":"PatchDoc","description":"Respond
      with JSONPatch operations to update the existing JSON document based on the
      provided text and schema.","input_schema":{"properties":{"json_doc_id":{"description":"The
      json_doc_id of the document you are patching.","type":"string"},"planned_edits":{"description":"Think
      step-by-step, reasoning over each required update and the corresponding JSONPatch
      operation to accomplish it. Cite the fields in the JSONSchema you referenced
      in developing this plan. Address each path as a group; don''t switch between
      paths.\n Plan your patches in the following order:1. replace - this keeps collection
      size the same.\n2. remove - BE CAREFUL ABOUT ORDER OF OPERATIONS. Each operation
      is applied sequentially. For arrays, remove the highest indexed value first
      to avoid shifting indices. This ensures subsequent remove operations remain
      valid.\n 3. add (for arrays, use /- to efficiently append to end).","type":"string"},"patches":{"description":"A
      list of JSONPatch operations to be applied to the previous tool call''s response
      arguments. If none are required, return an empty list. This field is REQUIRED.
      Multiple patches in the list are applied sequentially in the order provided,
      with each patch building upon the result of the previous one. Take care to respect
      array bounds. Order patches as follows:\n 1. replace - this keeps collection
      size the same\n 2. remove - BE CAREFUL about order of operations. For arrays,
      remove the highest indexed value first to avoid shifting indices.\n 3. add -
      for arrays, use /- to efficiently append to end.","items":{"description":"A
      JSON Patch document represents an operation to be performed on a JSON document.\n\nNote
      that the op and path are ALWAYS required. Value is required for ALL operations
      except ''remove''.","examples":[{"op":"replace","path":"/path/to/my_array/1","value":"the
      newer value to be patched"},{"op":"replace","path":"/path/to/broken_object","value":{"new":"object"}},{"op":"add","path":"/path/to/my_array/-","value":["some","values"]},{"op":"add","path":"/path/to/my_array/-","value":["newer"]},{"op":"remove","path":"/path/to/my_array/1"}],"properties":{"op":{"description":"The
      operation to be performed. Must be one of ''add'', ''remove'', ''replace''.","enum":["add","remove","replace"],"type":"string"},"path":{"description":"A
      JSON Pointer path that references a location within the target document where
      the operation is performed. Note: patches are applied sequentially. If you remove
      a value, the collection size changes before the next patch is applied.","type":"string"},"value":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"type":"null"}]},"type":"object"},{"type":"null"}],"description":"The
      value to be used within the operation. REQUIRED for ''add'', ''replace'', and
      ''test'' operations. Pay close attention to the json schema to ensure patched
      document will be valid."}},"required":["op","path","value"],"type":"object"},"type":"array"}},"required":["json_doc_id","planned_edits","patches"],"type":"object"}},{"name":"PreferenceMemory","description":"Store
      the user''s preference","input_schema":{"properties":{"category":{"type":"string"},"preference":{"type":"string"},"context":{"type":"string"}},"required":["category","preference","context"],"type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA3xTXW/bMAz8KwJf8mJnjhOnjd/21QIdMAxbhmFdC4OVaFurIrmi3C0I8t8HKema
        YdgeJd7xjkdpB1pBDRvummL26evd9dXMly+r1+tX6weSVF5dLiCDsB0ooogZO4IMvDPxApk1B7QB
        Mtg4RQZqkAZHRfk8r3J21lLIy6JczIqyhAyks4FsgPrb7qlpcM40I8euyUo8j00xW64vtst3q/X1
        9Xy1vHxbfdZnH/17yMDiJvI+YJD9Gycjzw5jgHoH39nZRjnZpE4LkqtiNT/P52VV5Qtqz/NVgW2O
        ZTVvq2VRVnIJGQwGrSXVkNKBoYYL7zYi9CQ6/UhWJMs/QyZ+kLBESgQnxkFhoAQamfyEhdI8GNyK
        wVNLnqwk0cY+Cv29iNFEmtFdHw4n1hESetoKbZWWGGLnHsMJox994IjRXtCWeCrWvWbh6WHUnvjg
        QttO3LnQJzMn6o9oRhJoVSochxCKWHo9BO3s9Mbe2NlUfKGJMXEMgdFVZ0h4GgxKEm4gjxF7MvNv
        rcmz2CTpTI4iE9FqMooFJvMHJyx6fCQhe7QdqWmMPe6POD0FN0ANR9VDqYcaXjwrQAapDdSQQmxi
        QLDP/kk9ejnhxUUdA+LTTWgbyLdxXOT/hA/72/3+NgMObmg8ITv75+NNBaaHMfmt7WhMBmP6L/Xu
        8ESb4O7JMtSz1aLMQKLsqZGeUsbNn5Diqe4J1d81N4bTm3Jxtt//AgAA//8DABZpgm3MAwAA
    headers:
      CF-RAY:
      - 90acd9456fd56991-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:38:30 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:38:27Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:38:30Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:38:26Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:38:27Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01Jqdu7R9FMpCEWgaswEup9x
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"Analyze the following
      sessions and decide which prompts \nought to be updated to improve the performance
      on future sessions:\n\n<session_fa60598564dd461f80d57a1a73f26a9d>\n================================
      Human Message =================================\n\nTell me about renewable energy\n\n==================================
      Ai Message ==================================\n\nHere''s what I found in my
      research...\nTo summarize the key points about renewable energy...{}\n</session_fa60598564dd461f80d57a1a73f26a9d>\n\nBelow
      are the prompts being optimized:\nresearch: Research the given topic thoroughly\nsummarize:
      Summarize the research findings\n\n\nReturn JSON with \"which\": [...], listing
      the names of prompts that need updates."}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"tool","name":"Classify"},"tools":[{"name":"Classify","description":"Classify
      which prompts merit updating for this conversation.","input_schema":{"description":"Classify
      which prompts merit updating for this conversation.","properties":{"reasoning":{"description":"Reasoning
      for which prompts to update.","title":"Reasoning","type":"string"},"which":{"description":"List
      of prompt names that should be updated. Must be among [''research'', ''summarize'']","items":{"type":"string"},"title":"Which","type":"array"}},"required":["reasoning","which"],"title":"Classify","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA3RTwXIbNwz9FQwuvaxVSXXdzN5SZ9Kk9aVxTokyGoiEtKy54JYArWw0+vcMV5Yd
        J5MjCeC9hwfggMFji73u1vPFzT/e6ee/w9XdZx3/kOsPL1+569fYoI0D1yxWpR1jgznF+kGqQY3E
        sME+eY7YootUPF/8dvH7hSYRtovlfHm5mC+X2KBLYiyG7cfDGdRSiuuiFXWSUt9lPV+8u93sb4dX
        Zfs63V59+TfdfLj5K/yHDQr1te46VvbtWOtkKIbtAfddcB22HzGzMmXXYYNa+p5y+ML4qcHMpEmC
        7LDFP5N1YB3DORlIPDymw5BTP5iCMHuwBBuGMngy9rAhZQ9JwLqgoKwaksCGHRXldiUrWczg3Rn2
        BNTC+xPXkEQZtEt7hT5I6ClWeElAzgrFJz0bDrIDl8QXZ+wbIAW+D57FVRHjpD6IS/0Q2fjXIZLj
        LkXP+YlohW848y8K+44M3sI2FfEQBPrxkWk2m60Q9sG6VAxIRtCymQYb7ivDNuWerPZIm5qRWXhP
        m8jAwnk3zmrLyxncfmfeqeezpQ8IZtwPBlsKUeGsPY7NZEltOEkcgQRq2gjfNrXCw3GFM3hfbQ/i
        gyNjnWx4mtu2iKtMFIONEBQkGexTvqvYVOuMxbOfRE9INAxMWR+GTI+iJo0lMzhShn3HmUE4WMf5
        +eJIyt91WSGSsJiC5xjuObOfjO2Z6v5tS4SHY/iJpw1o2e1Yrcre1F19tpBpsNA/sM3wePzUoFoa
        1qcNf35XU0D5/1IXB1spMTZYplNuD6frWVu6Y1Fsry7nDTpyHa9d5gl+/TzjMZ6Z/I+xVOzbn8WL
        y+PxKwAAAP//AwAQ68JVZgQAAA==
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90acd9624af34cb6-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:38:36 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:38:32Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:38:36Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:38:31Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:38:32Z'
      request-id:
      - req_018DHwxaEBauAKcfCL1ERZYF
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: "{\"max_tokens\":1024,\"messages\":[{\"role\":\"user\",\"content\":\"You
      are reviewing the performance of an AI assistant in a given interaction. \\n\\n##
      Instructions\\n\\nThe current prompt that was used for the session is provided
      below.\\n\\n<current_prompt>\\nResearch the given topic thoroughly\\n</current_prompt>\\n\\nThe
      developer provided the following instructions around when and how to update
      the prompt:\\n\\n<update_instructions>\\n\\n</update_instructions>\\n\\n## Session
      data\\n\\nAnalyze the following sessions (and any associated user feedback)
      (either conversations with a user or other work that was performed by the assistant):\\n\\n<sessions>\\n<session_88eb89b09d9940f0b36b7d1e50c6b96a>\\n================================
      Human Message =================================\\n\\nTell me about renewable
      energy\\n\\n================================== Ai Message ==================================\\n\\nHere's
      what I found in my research...\\nTo summarize the key points about renewable
      energy...{}\\n</session_88eb89b09d9940f0b36b7d1e50c6b96a>\\n</sessions>\\n\\ni##
      Feedback\\n\\nThe following feedback is provided for this session:\\n\\n<feedback>\\n\\n</feedback>\\n\\n##
      Task\\n\\nAnalyze the conversation, including the user\u2019s request and the
      assistant\u2019s response, and evaluate:\\n1. How effectively the assistant
      fulfilled the user\u2019s intent.\\n2. Where the assistant might have deviated
      from user expectations or the desired outcome.\\n3. Specific areas (correctness,
      completeness, style, tone, alignment, etc.) that need improvement.\\n\\nIf the
      prompt seems to do well, then no further action is needed. We ONLY recommend
      updates if there is evidence of failures.\\nWhen failures occur, we want to
      recommend the minimal required changes to fix the problem.\\n\\nFocus on actionable
      changes and be concrete.\\n\\n1. Summarize the key successes and failures in
      the assistant\u2019s response. \\n2. Identify which failure mode(s) best describe
      the issues (examples: style mismatch, unclear or incomplete instructions, flawed
      logic or reasoning, hallucination, etc.).\\n3. Based on these failure modes,
      recommend the most suitable edit strategy. For example, consider::\\n   - Use
      synthetic few-shot examples for style or clarifying decision boundaries.\\n
      \  - Use explicit instruction updates for conditionals, rules, or logic fixes.\\n
      \  - Provide step-by-step reasoning guidelines for multi-step logic problems.\\n4.
      Provide detailed, concrete suggestions for how to update the prompt accordingly.\\n\\nBut
      remember, the final updated prompt should only be changed if there is evidence
      of poor performance, and our recommendations should be minimally invasive.\\nDo
      not recommend generic changes that aren't clearly linked to failure modes.\\n\\nFirst
      think through the conversation and critique the current behavior.\\nIf you believe
      the prompt needs to further adapt to the target context, provide precise recommendations.\\nOtherwise,
      mark `warrants_adjustment` as False and respond with 'No recommendations.'\"}],\"model\":\"claude-3-5-sonnet-latest\",\"tool_choice\":{\"type\":\"any\"},\"tools\":[{\"name\":\"think\",\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"input_schema\":{\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"properties\":{\"thought\":{\"title\":\"Thought\",\"type\":\"string\"}},\"required\":[\"thought\"],\"title\":\"think\",\"type\":\"object\"}},{\"name\":\"critique\",\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"input_schema\":{\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"properties\":{\"criticism\":{\"title\":\"Criticism\",\"type\":\"string\"}},\"required\":[\"criticism\"],\"title\":\"critique\",\"type\":\"object\"}}]}"
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA4xT0Y4TORD8lZZfeJksSRYWaV4RrI4DdNIti7gLijyeyowvnvbgbidko/w78myW
        0wIPPLrbVa6uLh+Nb01tBunW88WH13/h7ub6zeiv3zQvvr68xcf/XsFURg8jyi2I2K4UUgylYEW8
        qGU1lRlii2Bq44LNLWaXs+cziczQ2XK+fLaYL5emMi6ygtXU/x4fSDXGsM5SWCcp5ZzX88XzPy+b
        q8ubq8XfH18OXz9d397+86zfmsqwHSZc77kcPY9ZTX002sfc9Wpq8xZKA8iyDYc7kPYgF3mHJFZ9
        ZLLcTsXv8p8IJcgYWVCveMWLC7rpQVmQyMoWLW1iIs+bmIYzRROzUgJjb5sAAiN1B5qRpSZF21KT
        lVyATZTwJUN0othy3Ae0HVa8vH/jVxrIC40pNgHlNUeeSbBDsoH29iD1ioloRn8o2XGETUIaqQFZ
        UgxjsIqnY7AOfQwt0v+0e689rczxtDJ05ngfyTrNNvzOdHs76dr5Fu0ZX0b4zi+56yA6DQKbXD8h
        2siY7JA+7oU4EgoDO1DckNcz0zsv4rmjLQ7k4jBGBqtQ8FtQi41nX6RJRSU3UqA/6quoAWPjVSpy
        vQ0B3EEI6i7KUovUjfUhp8ngL9kr7n0tW3gciElBgCIcJgzaYnGL4HclEnygAZY9d5sc6BxqaiFj
        4XTB+qGMopF6u8O9Aw+eXJjT6XNlROO4TrAS+fEnmBpSMsMOpuYcQmXy9O/q433a1xq3YDH1YrG8
        rIyzrsfaJUzLWz++Mn/oJ9j2517M+ojwank6fQMAAP//AwBEQb/9FAQAAA==
    headers:
      CF-RAY:
      - 90acd9820cf24cb1-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:38:41 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:38:38Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:38:41Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3998'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:38:36Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:38:38Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01AFFFNJC3We92rtHfYDkpyn
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: "{\"max_tokens\":1024,\"messages\":[{\"role\":\"user\",\"content\":\"You
      are reviewing the performance of an AI assistant in a given interaction. \\n\\n##
      Instructions\\n\\nThe current prompt that was used for the session is provided
      below.\\n\\n<current_prompt>\\nSummarize the research findings\\n</current_prompt>\\n\\nThe
      developer provided the following instructions around when and how to update
      the prompt:\\n\\n<update_instructions>\\n\\n</update_instructions>\\n\\n## Session
      data\\n\\nAnalyze the following sessions (and any associated user feedback)
      (either conversations with a user or other work that was performed by the assistant):\\n\\n<sessions>\\n<session_8517323447404693b9f06cb6409155e0>\\n================================
      Human Message =================================\\n\\nTell me about renewable
      energy\\n\\n================================== Ai Message ==================================\\n\\nHere's
      what I found in my research...\\nTo summarize the key points about renewable
      energy...{}\\n</session_8517323447404693b9f06cb6409155e0>\\n</sessions>\\n\\ni##
      Feedback\\n\\nThe following feedback is provided for this session:\\n\\n<feedback>\\n\\n</feedback>\\n\\n##
      Task\\n\\nAnalyze the conversation, including the user\u2019s request and the
      assistant\u2019s response, and evaluate:\\n1. How effectively the assistant
      fulfilled the user\u2019s intent.\\n2. Where the assistant might have deviated
      from user expectations or the desired outcome.\\n3. Specific areas (correctness,
      completeness, style, tone, alignment, etc.) that need improvement.\\n\\nIf the
      prompt seems to do well, then no further action is needed. We ONLY recommend
      updates if there is evidence of failures.\\nWhen failures occur, we want to
      recommend the minimal required changes to fix the problem.\\n\\nFocus on actionable
      changes and be concrete.\\n\\n1. Summarize the key successes and failures in
      the assistant\u2019s response. \\n2. Identify which failure mode(s) best describe
      the issues (examples: style mismatch, unclear or incomplete instructions, flawed
      logic or reasoning, hallucination, etc.).\\n3. Based on these failure modes,
      recommend the most suitable edit strategy. For example, consider::\\n   - Use
      synthetic few-shot examples for style or clarifying decision boundaries.\\n
      \  - Use explicit instruction updates for conditionals, rules, or logic fixes.\\n
      \  - Provide step-by-step reasoning guidelines for multi-step logic problems.\\n4.
      Provide detailed, concrete suggestions for how to update the prompt accordingly.\\n\\nBut
      remember, the final updated prompt should only be changed if there is evidence
      of poor performance, and our recommendations should be minimally invasive.\\nDo
      not recommend generic changes that aren't clearly linked to failure modes.\\n\\nFirst
      think through the conversation and critique the current behavior.\\nIf you believe
      the prompt needs to further adapt to the target context, provide precise recommendations.\\nOtherwise,
      mark `warrants_adjustment` as False and respond with 'No recommendations.'\"}],\"model\":\"claude-3-5-sonnet-latest\",\"tool_choice\":{\"type\":\"any\"},\"tools\":[{\"name\":\"think\",\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"input_schema\":{\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"properties\":{\"thought\":{\"title\":\"Thought\",\"type\":\"string\"}},\"required\":[\"thought\"],\"title\":\"think\",\"type\":\"object\"}},{\"name\":\"critique\",\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"input_schema\":{\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"properties\":{\"criticism\":{\"title\":\"Criticism\",\"type\":\"string\"}},\"required\":[\"criticism\"],\"title\":\"critique\",\"type\":\"object\"}}]}"
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA4xVYW/bNhD9Kwd+6Rfbi9O0GPwtS9CtaxdsTQK0WwbjQp4k1tJR4R3tuIH/+0Ba
        dpUWw/ZJEMV7fPfePerJeGcWppN6eTK/XV9X7uqyelXp2fvu54+/UzNvzs3E6LanvItEsCYzMTG0
        eQFFvCiymonpgqPWLIxtMTmavpy+mkpgJp2enpyezU9OT83E2MBKrGbx19MBVENol0kyaqGS39Py
        ZP7r63D6sLq+fgiPt6+xPrv84i/eVWZiGLtS13he5SLuk5rFk9EmpLpRszDvSaEjQMZ2+4VAGwLP
        ShGt+sCA7ODI/IVAT7EKsUO2tLjjO57P4FYowgd6SCS6gHNZkYMqRPBcdu5h7kNSiMS0wfuWgJhi
        vYUpINzHgG4CoSeeEjtyoKH3FiI9JB8912BD10dqiMWvCeixb5EL7CwzOJ3B+YjgB5I+sGR2U7hW
        jEoONl4buDO/UKQXApsGFd5CFRI78AzdFiIJYbTNbDa7M7nyXJW6Xgsb0IgsvjQyIN0EkNR1GP2g
        2Yq20AfPKkeIAxPAvieMAp5zJy0p/aAxscURtafdvugqAFpN2MJgP3yj5AYF+hjW3pHL7b+cwTva
        wluRRFKafoO+3fMe9gHyFiTdF4myhCO80uvATwPcE1ShbcMm646QNWhRqbDMDj7nlot/wy00uCbo
        vJTB6SMV2RrK53e9wp25fqbVQWyoPDvPtdwZQBkZ3kea0qMXzS+H3YM6ojFZTZGyMCHWyP7LXpm1
        F59ny3M5BY8OxsEIs9tN/jNKny7e/3n+mK4+nrmftLra/HHz6cF++holG736h0TjNJU166UzC/Mb
        fg4RKvRtiiTgHbH6ypM7xOU4Fm+KB3vninE3mfVhlI8mj2yYtn5FIwX+3ZUMlYQgVMNsgaS6JlEp
        cLZhb7EFirGoOBpN8PnZEeswHyVhFxn6sZxyy45ippitO/K2KUbas/6/lnvJM9MS5oWM81Zz+6kj
        geI+sS0d9NGH+BVCR9nLZZeBhF8cBYM6eYellKEJm7y/QXYtgfORrEK5qXzg8cgxbZ7FTLasDYmX
        IWMXQxovqfVritvS+MVBs8HubzNXDcZ8k7erAJT3DO2tOGxacjUBWksi2Y/R8eNAd0QK9yjeZndj
        vgvJ7o2S7+5cN1DNHdw0XmCDMSKrgPiafeUtfjUM3eckmm3PUdSRo2uKkuG8QJXYYRmNtt1m87D1
        NR8usVykKKtB1TJDMjO73d8TIxr6ZSSUwM+zVz5I/nmwJbPg1LYTk8qfc/G0T9hSw4pYzGI+n59M
        jEXb0NJGKl0un285fo+E7vtvIel45eXrH3e7fwAAAP//AwDrhVM21gcAAA==
    headers:
      CF-RAY:
      - 90acd982090e4cac-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:38:44 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:38:37Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:38:44Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:38:36Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:38:37Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01Crr77kWW4tror4NKqVTJT8
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: "{\"max_tokens\":1024,\"messages\":[{\"role\":\"user\",\"content\":\"You
      are reviewing the performance of an AI assistant in a given interaction. \\n\\n##
      Instructions\\n\\nThe current prompt that was used for the session is provided
      below.\\n\\n<current_prompt>\\nResearch the given topic thoroughly\\n</current_prompt>\\n\\nThe
      developer provided the following instructions around when and how to update
      the prompt:\\n\\n<update_instructions>\\n\\n</update_instructions>\\n\\n## Session
      data\\n\\nAnalyze the following sessions (and any associated user feedback)
      (either conversations with a user or other work that was performed by the assistant):\\n\\n<sessions>\\n<session_88eb89b09d9940f0b36b7d1e50c6b96a>\\n================================
      Human Message =================================\\n\\nTell me about renewable
      energy\\n\\n================================== Ai Message ==================================\\n\\nHere's
      what I found in my research...\\nTo summarize the key points about renewable
      energy...{}\\n</session_88eb89b09d9940f0b36b7d1e50c6b96a>\\n</sessions>\\n\\ni##
      Feedback\\n\\nThe following feedback is provided for this session:\\n\\n<feedback>\\n\\n</feedback>\\n\\n##
      Task\\n\\nAnalyze the conversation, including the user\u2019s request and the
      assistant\u2019s response, and evaluate:\\n1. How effectively the assistant
      fulfilled the user\u2019s intent.\\n2. Where the assistant might have deviated
      from user expectations or the desired outcome.\\n3. Specific areas (correctness,
      completeness, style, tone, alignment, etc.) that need improvement.\\n\\nIf the
      prompt seems to do well, then no further action is needed. We ONLY recommend
      updates if there is evidence of failures.\\nWhen failures occur, we want to
      recommend the minimal required changes to fix the problem.\\n\\nFocus on actionable
      changes and be concrete.\\n\\n1. Summarize the key successes and failures in
      the assistant\u2019s response. \\n2. Identify which failure mode(s) best describe
      the issues (examples: style mismatch, unclear or incomplete instructions, flawed
      logic or reasoning, hallucination, etc.).\\n3. Based on these failure modes,
      recommend the most suitable edit strategy. For example, consider::\\n   - Use
      synthetic few-shot examples for style or clarifying decision boundaries.\\n
      \  - Use explicit instruction updates for conditionals, rules, or logic fixes.\\n
      \  - Provide step-by-step reasoning guidelines for multi-step logic problems.\\n4.
      Provide detailed, concrete suggestions for how to update the prompt accordingly.\\n\\nBut
      remember, the final updated prompt should only be changed if there is evidence
      of poor performance, and our recommendations should be minimally invasive.\\nDo
      not recommend generic changes that aren't clearly linked to failure modes.\\n\\nFirst
      think through the conversation and critique the current behavior.\\nIf you believe
      the prompt needs to further adapt to the target context, provide precise recommendations.\\nOtherwise,
      mark `warrants_adjustment` as False and respond with 'No recommendations.'\"},{\"role\":\"assistant\",\"content\":[{\"type\":\"tool_use\",\"name\":\"think\",\"input\":{\"thought\":\"Let
      me analyze the conversation and the assistant's response:\\n\\n1. The user asked
      for information about renewable energy - a broad but clear request for knowledge\\n2.
      The assistant's response is problematic in several ways:\\n   - It appears to
      be a template/placeholder response with \\\"{}\\\" \\n   - No actual information
      about renewable energy was provided\\n   - The response suggests research was
      done but shows no evidence of it\\n   - Missing key components like definitions,
      types of renewable energy, benefits, challenges etc.\\n\\nThe failure is quite
      severe as the assistant completely failed to deliver any meaningful content
      despite claiming to have done research.\"},\"id\":\"toolu_015K3b63T61SWCmxYGVVZ4hk\"}]},{\"role\":\"user\",\"content\":[{\"type\":\"tool_result\",\"content\":\"\",\"tool_use_id\":\"toolu_015K3b63T61SWCmxYGVVZ4hk\",\"is_error\":false}]}],\"model\":\"claude-3-5-sonnet-latest\",\"tool_choice\":{\"type\":\"any\"},\"tools\":[{\"name\":\"think\",\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"input_schema\":{\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"properties\":{\"thought\":{\"title\":\"Thought\",\"type\":\"string\"}},\"required\":[\"thought\"],\"title\":\"think\",\"type\":\"object\"}},{\"name\":\"critique\",\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"input_schema\":{\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"properties\":{\"criticism\":{\"title\":\"Criticism\",\"type\":\"string\"}},\"required\":[\"criticism\"],\"title\":\"critique\",\"type\":\"object\"}},{\"name\":\"recommend\",\"description\":\"Decides
      whether a prompt should be adjusted.\\nIf warrants_adjustment is True, we incorporate
      recommended changes.\\nIf not, we respond 'No recommendations.'\",\"input_schema\":{\"description\":\"Decides
      whether a prompt should be adjusted.\\nIf warrants_adjustment is True, we incorporate
      recommended changes.\\nIf not, we respond 'No recommendations.'\",\"properties\":{\"warrants_adjustment\":{\"title\":\"Warrants
      Adjustment\",\"type\":\"boolean\"},\"hypotheses\":{\"anyOf\":[{\"type\":\"string\"},{\"type\":\"null\"}],\"title\":\"Hypotheses\"},\"full_recommendations\":{\"anyOf\":[{\"type\":\"string\"},{\"type\":\"null\"}],\"title\":\"Full
      Recommendations\"}},\"required\":[\"warrants_adjustment\"],\"title\":\"recommend\",\"type\":\"object\"}}]}"
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2RTyW7bMBD9lQEvudiB7TRJq1uAFt2DLAXatC6MCTWS2FAcmTN06hj+94Ly1iBH
        ch4f30KujCtNYVqpZ6Px2V24vbi4sj/Hn85vxnK95Pv0dGkGRpcdZRSJYE1mYCL7vIEiThSDmoFp
        uSRvCmM9ppKGJ8PToXAIpMPJaPJqPJpMzMBYDkpBTfFrtSNVZj9Lkll7KXmdZqPxj+X7P+Or13dv
        b6W6+nJ2d3u20M9ZTMA2n7PRqZun/lzokppitdmzTlpTmG8NgU0xUlDoIredwtTckBBG24A2BLVb
        UADlzlnQhiOnuvHLqYEGBYQWFNHDhhI9VB4fpZiGaRgfw0c9ElBmWGCdCDCU4NE+CEhH1lXOQp1c
        icEScCimAQCG8L1BBctB1GlSkv2lELeytsAP/AjKIBqT1RQ3/F0GBe2VVy6ULtTyPzHmq1WAK8Cd
        KQbLC4rPaSlI5rTcdpEaCuIWtMFhTdnf5BhyePtyjyQL7DgIQaQFoc/SSWiXqwtY0jyhdSQ7s+/a
        Tpeg1HYelYaiS097mi3mkgGtJvT7AKCkNgcUUak8oA5JcASONQb3hOo4HCAlddrk8a4Bp8ts5mRj
        Zqu0QpfFM5Ao3nsnzV7v3xwflcBJu6RQcWxRt8OvLrg2tRBpnlykloJKRgD2MXrSF962YWPXRcZs
        zFUV9Y8xv/u+pr6kXYfXCb3TJeTES4zlhj+XvcvGrNe/B0aUu1kkFA7PP08/EJonCpZMEZL3A5P6
        /1qsNl9kpvxAQUwxPj05HxiLtqGZjdRHOXsOGe3mkbB8OdukdCB8/Wa9/gcAAP//AwCy8fZnTAQA
        AA==
    headers:
      CF-RAY:
      - 90acd9a11bf44cac-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:38:45 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:38:42Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:38:45Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:38:41Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:38:42Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01BZzTbdZG5A8MBWEt3rd2tk
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: "{\"max_tokens\":1024,\"messages\":[{\"role\":\"user\",\"content\":\"You
      are reviewing the performance of an AI assistant in a given interaction. \\n\\n##
      Instructions\\n\\nThe current prompt that was used for the session is provided
      below.\\n\\n<current_prompt>\\nResearch the given topic thoroughly\\n</current_prompt>\\n\\nThe
      developer provided the following instructions around when and how to update
      the prompt:\\n\\n<update_instructions>\\n\\n</update_instructions>\\n\\n## Session
      data\\n\\nAnalyze the following sessions (and any associated user feedback)
      (either conversations with a user or other work that was performed by the assistant):\\n\\n<sessions>\\n<session_88eb89b09d9940f0b36b7d1e50c6b96a>\\n================================
      Human Message =================================\\n\\nTell me about renewable
      energy\\n\\n================================== Ai Message ==================================\\n\\nHere's
      what I found in my research...\\nTo summarize the key points about renewable
      energy...{}\\n</session_88eb89b09d9940f0b36b7d1e50c6b96a>\\n</sessions>\\n\\ni##
      Feedback\\n\\nThe following feedback is provided for this session:\\n\\n<feedback>\\n\\n</feedback>\\n\\n##
      Task\\n\\nAnalyze the conversation, including the user\u2019s request and the
      assistant\u2019s response, and evaluate:\\n1. How effectively the assistant
      fulfilled the user\u2019s intent.\\n2. Where the assistant might have deviated
      from user expectations or the desired outcome.\\n3. Specific areas (correctness,
      completeness, style, tone, alignment, etc.) that need improvement.\\n\\nIf the
      prompt seems to do well, then no further action is needed. We ONLY recommend
      updates if there is evidence of failures.\\nWhen failures occur, we want to
      recommend the minimal required changes to fix the problem.\\n\\nFocus on actionable
      changes and be concrete.\\n\\n1. Summarize the key successes and failures in
      the assistant\u2019s response. \\n2. Identify which failure mode(s) best describe
      the issues (examples: style mismatch, unclear or incomplete instructions, flawed
      logic or reasoning, hallucination, etc.).\\n3. Based on these failure modes,
      recommend the most suitable edit strategy. For example, consider::\\n   - Use
      synthetic few-shot examples for style or clarifying decision boundaries.\\n
      \  - Use explicit instruction updates for conditionals, rules, or logic fixes.\\n
      \  - Provide step-by-step reasoning guidelines for multi-step logic problems.\\n4.
      Provide detailed, concrete suggestions for how to update the prompt accordingly.\\n\\nBut
      remember, the final updated prompt should only be changed if there is evidence
      of poor performance, and our recommendations should be minimally invasive.\\nDo
      not recommend generic changes that aren't clearly linked to failure modes.\\n\\nFirst
      think through the conversation and critique the current behavior.\\nIf you believe
      the prompt needs to further adapt to the target context, provide precise recommendations.\\nOtherwise,
      mark `warrants_adjustment` as False and respond with 'No recommendations.'\"},{\"role\":\"assistant\",\"content\":[{\"type\":\"tool_use\",\"name\":\"think\",\"input\":{\"thought\":\"Let
      me analyze the conversation and the assistant's response:\\n\\n1. The user asked
      for information about renewable energy - a broad but clear request for knowledge\\n2.
      The assistant's response is problematic in several ways:\\n   - It appears to
      be a template/placeholder response with \\\"{}\\\" \\n   - No actual information
      about renewable energy was provided\\n   - The response suggests research was
      done but shows no evidence of it\\n   - Missing key components like definitions,
      types of renewable energy, benefits, challenges etc.\\n\\nThe failure is quite
      severe as the assistant completely failed to deliver any meaningful content
      despite claiming to have done research.\"},\"id\":\"toolu_015K3b63T61SWCmxYGVVZ4hk\"}]},{\"role\":\"user\",\"content\":[{\"type\":\"tool_result\",\"content\":\"\",\"tool_use_id\":\"toolu_015K3b63T61SWCmxYGVVZ4hk\",\"is_error\":false}]},{\"role\":\"assistant\",\"content\":[{\"type\":\"tool_use\",\"name\":\"critique\",\"input\":{\"criticism\":\"The
      current prompt \\\"Research the given topic thoroughly\\\" has several critical
      flaws:\\n\\n1. It's too vague and lacks specific guidance on:\\n   - What constitutes
      thorough research\\n   - How to structure and present the findings\\n   - What
      aspects of a topic to cover\\n   - How to ensure comprehensive coverage\\n\\n2.
      The assistant's response reveals these prompt inadequacies:\\n   - Empty template-style
      response\\n   - No actual research demonstrated\\n   - No structure or organization\\n
      \  - No depth or specificity\\n\\n3. The prompt fails to establish:\\n   - Expected
      output format\\n   - Minimum requirements for a complete response\\n   - How
      to approach different types of topics\\n   - Quality standards for the research\"},\"id\":\"toolu_01XyGj1P8YDSsfPL6YS6vtKN\"}]},{\"role\":\"user\",\"content\":[{\"type\":\"tool_result\",\"content\":\"\",\"tool_use_id\":\"toolu_01XyGj1P8YDSsfPL6YS6vtKN\",\"is_error\":false}]}],\"model\":\"claude-3-5-sonnet-latest\",\"tool_choice\":{\"type\":\"any\"},\"tools\":[{\"name\":\"think\",\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"input_schema\":{\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"properties\":{\"thought\":{\"title\":\"Thought\",\"type\":\"string\"}},\"required\":[\"thought\"],\"title\":\"think\",\"type\":\"object\"}},{\"name\":\"critique\",\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"input_schema\":{\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"properties\":{\"criticism\":{\"title\":\"Criticism\",\"type\":\"string\"}},\"required\":[\"criticism\"],\"title\":\"critique\",\"type\":\"object\"}},{\"name\":\"recommend\",\"description\":\"Decides
      whether a prompt should be adjusted.\\nIf warrants_adjustment is True, we incorporate
      recommended changes.\\nIf not, we respond 'No recommendations.'\",\"input_schema\":{\"description\":\"Decides
      whether a prompt should be adjusted.\\nIf warrants_adjustment is True, we incorporate
      recommended changes.\\nIf not, we respond 'No recommendations.'\",\"properties\":{\"warrants_adjustment\":{\"title\":\"Warrants
      Adjustment\",\"type\":\"boolean\"},\"hypotheses\":{\"anyOf\":[{\"type\":\"string\"},{\"type\":\"null\"}],\"title\":\"Hypotheses\"},\"full_recommendations\":{\"anyOf\":[{\"type\":\"string\"},{\"type\":\"null\"}],\"title\":\"Full
      Recommendations\"}},\"required\":[\"warrants_adjustment\"],\"title\":\"recommend\",\"type\":\"object\"}}]}"
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA3xVWW/bRhD+K4N9agFatRw3LvTWpEGCpAmaq0VSFcJ4d0huvJyh97CsGv7vxSwp
        yUaAPko713fM8M54Z1ZmSN3mdPnyl+3Vrf1m29/68evFmy+v+9evr0fTmLwbSaMoJezINCZK0D8w
        JZ8ycjaNGcRRMCtjAxZHJ09Ofj5Jwkz55Oz07Hx5enZmGmOFM3E2q7/v9kWzSNiUpFXrKPq7bE6X
        71LnP1x9+cznX8f24uVTdPHZnzvTGMZB8yJZGQZip4k8lmxWd2aLMSLntEH3raQ81F45FmpMvxsl
        95QomZX51BMM6Bla9KFEAp0+AUZarXm5gM9sA2H8ybOVYQyUCTynHIvNXjhBIHSeO8gCqYwUW289
        BoiURuFEac1nC/gd7RVIC1OedkF2ILFD9v+iFoKueEfBs2Y8WcBbn5KWvS4YfN6BcuswulQz6XYk
        m2tiWvP5At5JLYBsCYS1O2G0PTgac19TdPpIPXHyN8SU0prXrODHKMOYgYlc0sLBW58fY8RLKXm1
        5hP4MMP6HyRT2HXxkRxQIGU+KXiE3EuU0vUHdjT2/XcIW4kHBBrxSrZKr6NBdCrMBFcs20Cuowmh
        aUxbQtgcnDBRY1bm8+g0Ph+BZlkp9LX5q6cjU8o1QpbR2wZaCUF7qkceCFPzlgv4mDFm2HplFqo7
        wFHr2VchJYLcULzxtFXU2rmW1eQzTd4Tt5MSD0woQKt5c9cr2gEmVVnbAsAJPJdIYIUtjXmyQVvY
        ofKLAcbo2foxqH9q+Fv8JhEsZuokeko6mC5agh98Cziq0HgZ6Mc5/g3toCXU0VIDl8TU+pyayTw9
        hkDcHYo/LzESZxUt0zxLBSUlB5GrOewDBbpBzkC3qMtTh5hbz+atbn/B6SEje+8e9H7AwQMXT4Rh
        R3ue6x7PrM0JH0eyvvUWWrQza44y+pAgYu4r38jQEVPEMOGpjt03rPI+2tQqfJDOWwzQBtnOoc8w
        6P45GCnWGXREzzaUeiD2jNYZgh98PlJwvoA/FDfr4rUSh6mTopkM1hwXzsEUAEUPxJ6YV4SO4rQ7
        Q1U+kZ3rT9OVECjDKF7XUcOCT/M0arbpYQ5+sZcrC/gQyrx1fhgl6pE/2HCO/xSRk5+OxSXlLRGD
        821L1SSzIt9tw6834h1kGsag1Q8nU00yBrTUS3CqEN3mBbxAezwckHopwcElQZoVxhB2oMqKcpTl
        2GtW/Xg9DneosJKmh8dzt1gbc3//T2NSlnETCZPw469SfUh0XYgtmRWXEBpT6odwdTd9ejZZrkgv
        z/Li6UVjLNqeNjZSFXTzOOR0/x4J3fdvUvLDf55cLO/v/wMAAP//AwChln0WpQcAAA==
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90acd9bc1da34cac-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:38:53 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '397000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:38:47Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:38:53Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:38:45Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '477000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:38:47Z'
      request-id:
      - req_01W3eK8Kxz2zE3H5mNynmLdW
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: "{\"max_tokens\":1024,\"messages\":[{\"role\":\"user\",\"content\":\"You
      are reviewing the performance of an AI assistant in a given interaction. \\n\\n##
      Instructions\\n\\nThe current prompt that was used for the session is provided
      below.\\n\\n<current_prompt>\\nSummarize the research findings\\n</current_prompt>\\n\\nThe
      developer provided the following instructions around when and how to update
      the prompt:\\n\\n<update_instructions>\\n\\n</update_instructions>\\n\\n## Session
      data\\n\\nAnalyze the following sessions (and any associated user feedback)
      (either conversations with a user or other work that was performed by the assistant):\\n\\n<sessions>\\n<session_8517323447404693b9f06cb6409155e0>\\n================================
      Human Message =================================\\n\\nTell me about renewable
      energy\\n\\n================================== Ai Message ==================================\\n\\nHere's
      what I found in my research...\\nTo summarize the key points about renewable
      energy...{}\\n</session_8517323447404693b9f06cb6409155e0>\\n</sessions>\\n\\ni##
      Feedback\\n\\nThe following feedback is provided for this session:\\n\\n<feedback>\\n\\n</feedback>\\n\\n##
      Task\\n\\nAnalyze the conversation, including the user\u2019s request and the
      assistant\u2019s response, and evaluate:\\n1. How effectively the assistant
      fulfilled the user\u2019s intent.\\n2. Where the assistant might have deviated
      from user expectations or the desired outcome.\\n3. Specific areas (correctness,
      completeness, style, tone, alignment, etc.) that need improvement.\\n\\nIf the
      prompt seems to do well, then no further action is needed. We ONLY recommend
      updates if there is evidence of failures.\\nWhen failures occur, we want to
      recommend the minimal required changes to fix the problem.\\n\\nFocus on actionable
      changes and be concrete.\\n\\n1. Summarize the key successes and failures in
      the assistant\u2019s response. \\n2. Identify which failure mode(s) best describe
      the issues (examples: style mismatch, unclear or incomplete instructions, flawed
      logic or reasoning, hallucination, etc.).\\n3. Based on these failure modes,
      recommend the most suitable edit strategy. For example, consider::\\n   - Use
      synthetic few-shot examples for style or clarifying decision boundaries.\\n
      \  - Use explicit instruction updates for conditionals, rules, or logic fixes.\\n
      \  - Provide step-by-step reasoning guidelines for multi-step logic problems.\\n4.
      Provide detailed, concrete suggestions for how to update the prompt accordingly.\\n\\nBut
      remember, the final updated prompt should only be changed if there is evidence
      of poor performance, and our recommendations should be minimally invasive.\\nDo
      not recommend generic changes that aren't clearly linked to failure modes.\\n\\nFirst
      think through the conversation and critique the current behavior.\\nIf you believe
      the prompt needs to further adapt to the target context, provide precise recommendations.\\nOtherwise,
      mark `warrants_adjustment` as False and respond with 'No recommendations.'\"},{\"role\":\"assistant\",\"content\":[{\"type\":\"tool_use\",\"name\":\"think\",\"input\":{\"thought\":\"Let
      me analyze the interaction and assistant's performance:\\n\\n1. User Request:
      Asked for information about renewable energy - a broad, open-ended topic requiring
      comprehensive explanation.\\n\\n2. Assistant's Response:\\n- Started with \\\"Here's
      what I found in my research...\\\"\\n- Attempted to transition with \\\"To summarize
      the key points...\\\"\\n- Response appears incomplete/truncated with \\\"{}\\\"\\n-
      No actual content or information was provided\\n\\n3. Key Issues:\\n- Failed
      to provide any substantive information\\n- Appears to be following a template
      without actual content\\n- May have misinterpreted the prompt \\\"Summarize
      the research findings\\\" as requiring pre-existing research\\n- No structure
      or organization visible in the attempted response\"},\"id\":\"toolu_01J6o2qkSSqoxU6ag4DziCKf\"},{\"type\":\"tool_use\",\"name\":\"critique\",\"input\":{\"criticism\":\"Major
      failures identified:\\n\\n1. Response Format Issue:\\n- The assistant provided
      a template-like structure without actual content\\n- The use of \\\"{}\\\" suggests
      a technical error or incomplete implementation\\n\\n2. Contextual Understanding:\\n-
      The current prompt \\\"Summarize the research findings\\\" is misleading\\n-
      It assumes existence of prior research to summarize\\n- Doesn't provide guidance
      on how to handle direct questions requiring new information synthesis\\n\\n3.
      Content Delivery:\\n- Complete failure to provide any factual information\\n-
      No evidence of knowledge access or synthesis\\n- Failed to meet basic user expectations
      for information delivery\\n\\nThis warrants significant prompt adjustment as
      the current version is fundamentally misaligned with the task requirements.\"},\"id\":\"toolu_01YCLZAxuNX4dBtfNwQTYqcY\"}]},{\"role\":\"user\",\"content\":[{\"type\":\"tool_result\",\"content\":\"\",\"tool_use_id\":\"toolu_01J6o2qkSSqoxU6ag4DziCKf\",\"is_error\":false},{\"type\":\"tool_result\",\"content\":\"\",\"tool_use_id\":\"toolu_01YCLZAxuNX4dBtfNwQTYqcY\",\"is_error\":false}]}],\"model\":\"claude-3-5-sonnet-latest\",\"tool_choice\":{\"type\":\"any\"},\"tools\":[{\"name\":\"think\",\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"input_schema\":{\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"properties\":{\"thought\":{\"title\":\"Thought\",\"type\":\"string\"}},\"required\":[\"thought\"],\"title\":\"think\",\"type\":\"object\"}},{\"name\":\"critique\",\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"input_schema\":{\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"properties\":{\"criticism\":{\"title\":\"Criticism\",\"type\":\"string\"}},\"required\":[\"criticism\"],\"title\":\"critique\",\"type\":\"object\"}},{\"name\":\"recommend\",\"description\":\"Decides
      whether a prompt should be adjusted.\\nIf warrants_adjustment is True, we incorporate
      recommended changes.\\nIf not, we respond 'No recommendations.'\",\"input_schema\":{\"description\":\"Decides
      whether a prompt should be adjusted.\\nIf warrants_adjustment is True, we incorporate
      recommended changes.\\nIf not, we respond 'No recommendations.'\",\"properties\":{\"warrants_adjustment\":{\"title\":\"Warrants
      Adjustment\",\"type\":\"boolean\"},\"hypotheses\":{\"anyOf\":[{\"type\":\"string\"},{\"type\":\"null\"}],\"title\":\"Hypotheses\"},\"full_recommendations\":{\"anyOf\":[{\"type\":\"string\"},{\"type\":\"null\"}],\"title\":\"Full
      Recommendations\"}},\"required\":[\"warrants_adjustment\"],\"title\":\"recommend\",\"type\":\"object\"}}]}"
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA3xVbW8bNwz+K4S+dAMuRuK0KOZv3ZAi29Aua7u+zYOhSPSdZp2oiZSdS5D/Pkjn
        i51m2Lc7iZT4vJC6U86qheq5XZ2evbVf06/v+89dtHiVPn0ZPr58ff5GNUqGiCUKmXWLqlGJfFnQ
        zI5FB1GN6smiVwtlvM4WT85PXpwwhYByMj+dPz87nc9VowwFwSBq8efddKgQ+VXmcmotpfzn1enZ
        1deP7dn126/nv8zl6sVrurzc/K4/q0YF3Ze8hIb6HoMtiSFmUYs7tdMp6SC80vbvzNLXuyRlbFQ3
        RJIOGVkt1IcOweSUMAjERH0UcAxCBFvdZgQdLGjm3CPDLlFooVZ+IzMoqQ+4ISBaBuNRJ2izszoY
        BAqLZTibwSXtQAg6HaxHsC6hEfgnI4ujwLDlGXDue53crQst4I1jKR8JGXUy3TLMZ3BxE9EI2rIa
        KTACS8pGchrLtBilW4bzh+t4CAWnux33YzktCLiwptTrcjXgeo1G3Bb9sAzL8AHHeys9cCAKdpS9
        BRe25LcIjFii3Bo09JQQLIp2Hu1EYUxks0FeLMMJ/ER99Cj4UDfDzkkH2kjWHvZOKJFXiSKmRwVO
        GLieVNl9jJpSq4O7rdEl5lWMiWJyWnCSauTdhVY1ap29Xz04pmYVG7ybVg4YcrRacFFoWaovlEGX
        G2ETaOfRtqiv/bH+onmDdkQWE22dLRRVPzSgjclJCza1ZEN9TNhhYLfFY7Qz+NRh2PNU84WKTZKr
        VFYrvab0xECV5vcHtRN63OpvpF4n6mGgnA4QStpvI38IGxwgkgvC4ALoqXRPrTPaH1gvST8H47M9
        ughvdBGZgRLoGL0zI7Ww67DQdhClpF8ELvKZvTECcgl0HqHXLoh2wY2NZhzX3YJ9PmKfWmJqmMlk
        pVo/AEsRXjoEppxMOVEwOe3hunp2ajO0JevStZ13bScV/dpV0nkvUsHIBUSJfLMvDCi51oXJtzcy
        Toiqr6k9dD6DV36nh7Guq2oFBM7X1Sduiw2s99Y/kqfE/sG4HyAd6kMlB7+vKYGn0GI69NJ/ynFc
        27U2mzZRDhXxqy05C9Frgx15iwlqIJWuM08ateD5EVsXRuM8DJ7rYe9BP4C2NiHzfmxAZkzPuLp2
        aIr80pWWlmcM+lvjVrfsJRkgYV2fLVUdRZ3jQw8WgXVya4cM1q3XWAf2Qz3lyWH47v8GK/L3R3pM
        k/rAbZnZ6F0YGb3oY6dLL3Ed7JX5IwkfDy3cYukawT56LXji3ebbYUdZphx1f/9Xo1gorhJqpvD4
        6asbXKgIBtUiZO8bletru7gb37eV0AbL2Dp7+fJFo4w2Ha5Mwmqk1eOQ02k/obZP9yjL8cr5D8/v
        7/8FAAD//wMARMCF6goIAAA=
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90acd9b94a1c4cb1-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:38:54 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '398000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:38:47Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:38:54Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:38:45Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '478000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:38:47Z'
      request-id:
      - req_01UZVzmDuAcawtAfVBX1ChS6
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are optimizing
      a prompt to handle its target task more effectively.\n\n<current_prompt>\nResearch
      the given topic thoroughly\n</current_prompt>\n\nWe hypothesize the current
      prompt underperforms for these reasons:\n\n<hypotheses>\nThe main failure modes
      are:\n1. Unclear/incomplete instructions leading to superficial responses\n2.
      Lack of structure and organization guidelines\n3. Missing quality standards
      and expectations\n4. No guidance on research depth and comprehensiveness\n\nThe
      prompt needs explicit instructions about:\n- Response structure and organization\n-
      Required elements of a thorough response\n- Quality standards for research\n-
      How to demonstrate knowledge depth\n</hypotheses>\n\nBased on these hypotheses,
      we recommend the following adjustments:\n\n<recommendations>\nUpdate the prompt
      to:\n\n\"When researching a topic, follow these guidelines:\n\n1. Start with
      a clear definition or overview of the topic\n\n2. Structure your response to
      cover these key aspects:\n   - Core concepts and fundamental principles\n   -
      Major categories or types (if applicable)\n   - Key features, benefits, and
      challenges\n   - Current state and future outlook\n   - Relevant examples or
      applications\n\n3. Ensure your research demonstrates:\n   - Comprehensive coverage
      of the main aspects\n   - Specific facts and details rather than general statements\n   -
      Clear organization with logical flow\n   - Balanced perspective including benefits
      and limitations\n\n4. Present information in a clear, structured format using:\n   -
      Headers for major sections\n   - Bullet points for lists and key points\n   -
      Examples to illustrate important concepts\n   - Transitions between different
      aspects of the topic\n\nAvoid template responses or placeholder text. Each response
      should be specifically tailored to the topic and demonstrate thorough understanding.\"\n</recommendations>\n\nRespond
      with the updated prompt. Remember to ONLY make changes that are clearly necessary.
      Aim to be minimally invasive:"}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"tool","name":"OptimizedPromptOutput"},"tools":[{"name":"OptimizedPromptOutput","description":"Schema
      for the optimized prompt output.","input_schema":{"description":"Schema for
      the optimized prompt output.","properties":{"analysis":{"description":"First,
      analyze the current results and plan improvements to reconcile them.","title":"Analysis","type":"string"},"improved_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Finally,
      generate the full updated prompt to address the identified issues.   The prompt
      section being optimized contains no input f-string variables. Any brackets {{
      foo }} you emit will be escaped and not used.","title":"Improved Prompt"}},"required":["analysis","improved_prompt"],"title":"OptimizedPromptOutput","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2RW227bRhD9lcE+tYAsWI6DJnprLk2QNMgVaICqEEa7Q3Li5Sy9F8mM4X8vZknJ
        NvJkmJzdOXMuQ90admZt+tRuz1cv3vx4F1ev0tvx2fe3l7vnf7978+LZyixMHgfSKkoJWzILE4PX
        B5gSp4ySzcL0wZE3a2M9FkdnT86enqUgQvns4vzicnV+cWEWxgbJJNms/709XppD8NuS9NYKRf8v
        2/PVHwd89WH1NH/4/P66jZ+/75Lti5iFEez13Mchc88/yX2KoR/yx5KHojhY9O/61qCgHxMnszbf
        OgJbYiTJMNRy2JgvlAij7SB3BC3vSSCHgS3kLsRQ2s6PGwOcgG5ypJ78CDuMdLYLQglQHDTIPkEO
        eueeHQHKCD2hsLRN8dAWdiiWlqAAunEIuaNECWyIkWz2I7AjydyM0OOPEKHFIQELsKQci80cBKzH
        yHlcwPSoRFrU7tcFPecR6GYgm1Fr09Qpkg19T+Kmh/fwwIZ+iNSRJN4TNBF7OoR4BbnDDOhcpKT4
        KkzglAolOHTsCXpkycg6GjTBlgRBKnM2RII2oF9uZCPvaQTutSH1JDmBEDly642slvDSE8b7MSDS
        deE4F+YAIbYo/JOApQmxr+jBh5Ytej9u5GIJXwey3LCF2UlA/nheR7BBUuZcMp1UhDjrvJEnS/g8
        k6audRhdgiZEcDTkrpL6iCChlDZyuYS/Kpqss6um5FktoCdncerZSOhwx3q/UvFICXJgO5RWnRMJ
        hKxmKY4QMXcUFb1AGHRi9LAjiyXRxO9j37IyFWCPbSHlTCfmpFT4UWtcsSpHUDip+Dxb4kS6AxyG
        GNB2cGDvwRM6vadXGY+cLU5SuMlrJZEa+kglhJq2tNS8TWq77QTQrM0/HcmpVDnDKVgLaIL34TDb
        657JtdK1WsLXjDHDgVULsNUsjhoWrkYIEcKe4p7pAKGp3NRr9bA642SrMZSo/YcgaeZoXynWrlc0
        AiZNjLYFgDN4qaPbIJaGPAe7iEO1FXoYIovlwVOayz/UpFrM1IbIlBSY7rIEv3Gj7Hq2uPP0+1yv
        kWgIFVpawI6EGs5p4tV26D2pLY5YZrVTxkwzljpUKNmHcDWXfSFPe1T732Cv2BTE3LpmXkl5soTX
        kh4yMonnqNeYRMz0gIOHi6EShi0dedbwH1mbD5yC2KCdWXOU60J8aOmWhCL6aZ4a1GPDKu9ssynp
        Vfg57tD4cJhLX6DXLepgoFgxKEQW64tTdx0ZrRg895zvKbhcwiedW/KjnaLTTAZbPEzGVAAlsbRH
        Yt4SOopT2KcdncjO90/oiveUYQisW0jLPKcZjZptejEXvz7KlQOw92VSQTdmiPodPdlwrv8WURJP
        W3xH+UAk4LhpqJpkVuSXNPy5D+wgUz94vf0YhWqSwaOlLninCtFNXsJr3QWnuKQuFO9gR5BmhXX3
        gioblKMc7nvNqp/cdL9ziyhpumNZ2qW5u/tvYVIOwzYSpiCPP/v1RaLrQmLJrKV4vzCl/tJY307f
        820OVyTJrJ9fPF0Yi7ajrY1U1dw+rjg/vtd1/Ou7aXOdnlyer+7u/gcAAP//AwC/zNQ1BQkAAA==
    headers:
      CF-RAY:
      - 90acd9f12e014cb2-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:39:00 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:38:55Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:39:00Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:38:54Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:38:55Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_011UCA4mGVU4tcTgh1sBW8zZ
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are optimizing
      a prompt to handle its target task more effectively.\n\n<current_prompt>\nSummarize
      the research findings\n</current_prompt>\n\nWe hypothesize the current prompt
      underperforms for these reasons:\n\n<hypotheses>\nThe current prompt is too
      vague and assumes wrong context. The assistant needs clear guidance on:\n1.
      How to handle direct questions vs. summarizing existing research\n2. Expected
      response structure and depth\n3. How to synthesize and present information effectively\n\nTesting
      these hypotheses would involve seeing if a more detailed prompt produces:\n-
      Complete responses with actual content\n- Proper information synthesis\n- Clear
      structure and organization\n- Appropriate context handling\n</hypotheses>\n\nBased
      on these hypotheses, we recommend the following adjustments:\n\n<recommendations>\nRecommended
      prompt update:\n\n\"You are a knowledgeable assistant tasked with providing
      clear, accurate, and comprehensive information. When responding to queries:\n\n1.
      For direct questions:\n- Synthesize relevant information from your knowledge\n-
      Organize key points in a clear, logical structure\n- Include relevant examples
      or applications where appropriate\n- Ensure completeness while maintaining conciseness\n\n2.
      For research summaries:\n- Clearly state the source material being summarized\n-
      Highlight key findings and conclusions\n- Maintain original context and accuracy\n\n3.
      Always:\n- Provide substantive, factual information\n- Use clear headings and
      structure for longer responses\n- Include relevant context and background\n-
      Avoid placeholder text or incomplete responses\n\nBegin your response by directly
      addressing the user''s query, whether it''s a direct question or a summary request.\"\n\nThis
      update:\n- Clarifies different response modes (direct questions vs. summaries)\n-
      Provides clear structure guidelines\n- Emphasizes need for substantive content\n-
      Prevents template-like responses without content\n</recommendations>\n\nRespond
      with the updated prompt. Remember to ONLY make changes that are clearly necessary.
      Aim to be minimally invasive:"}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"tool","name":"OptimizedPromptOutput"},"tools":[{"name":"OptimizedPromptOutput","description":"Schema
      for the optimized prompt output.","input_schema":{"description":"Schema for
      the optimized prompt output.","properties":{"analysis":{"description":"First,
      analyze the current results and plan improvements to reconcile them.","title":"Analysis","type":"string"},"improved_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Finally,
      generate the full updated prompt to address the identified issues.   The prompt
      section being optimized contains no input f-string variables. Any brackets {{
      foo }} you emit will be escaped and not used.","title":"Improved Prompt"}},"required":["analysis","improved_prompt"],"title":"OptimizedPromptOutput","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA3xVXW9bNwz9K4Re2gK2ETvJgPitTRGga9p0TYe1WweDluh7hejjRqScuEH/+0DZ
        SWwU2JNhkTo6PDzkfTDembmJ3C2Opl+H447S7Zcb/ujul99u/347ZfzdjIxsBtIsYsaOzMiUHPQA
        mT0LJjEjE7OjYObGBqyOxsfj0zHnlEjGs6PZyfRoNjMjY3MSSmLm/zw8gkrOYVFZURsV/V8XR9Pf
        ZhezN1+pvL34Fqenf/Dn1fX68syMTMKo964G8dH/IPep5DjIVZWhKg+f9Hf+YDBh2LBnMzeXJBAJ
        2skPAukJhpKHzOTA9pg64vn39D1NJ3BtMRDkFZy38zl82U+ug0Mh8Ay31QsB3Q+Y2K8JbI4DFnIg
        ueHn4jufMMDJ+C4XpxBxkAn81ftAhxl3yCA5wxq7SiO4I+A+1+Bg5ZMDhOidCwRdyTU5kB4F0DmG
        RFYbUjbQZL0XuPPS5yqQ11TGlDqfiIpP3USLm03gPBeCd8yV9EV47Vwh1tLHcIn2Rst+hMKlAt31
        KC8YluRTB1xjxKKS64WPGbrqHSZLkJMqQVbIgaNBesDkgKVUK7WQpn/wzAri0/bY5wSrXKDH5IIG
        CjFhsT3wJklP7FlJH6tiKMr2PdHQqGpHrFayjyX5md9j0irbykruCVsV9alr0CfP0K+dg5cffPIR
        Q9i8aq9cD2T9ylv8H6o7sTT9DbK3TyVjeBJHg+eBsOwkesY7KPR0j806e9c4XK2phA0MhdgWP4ga
        bZVLRJHGowZizfszPXvBVQxjHcZ9eRheOl/ICtxW4u3JmiePkhG/ajRzHALdQ6xB/HjAIocYzXpd
        hiVtcnPirg+CfKM1tMbUUigJFLI5Rkqu1csjuNsZP5dcu36kOCss+1hPA7GdlRcMvm2LZiZ0rs1Y
        oHsvmy2V6LteIGWBJe1Ng2p7wE19/WyvnUsar4kujDiUvCa32D5r5uZTyWvvCBBsa9yBmd0OYaOo
        +swv5prAxc54rYnvqQ2oDZWbiorm45CLLk5wnq2Oq9928roOGtHuknLQ6dILkaTPLofcbTTtXRzC
        zppbQPZdam5t4/hErAZp7rreWW23/Hzaumg3OBF9EvQJ0Npa0G52zaLEVdeHnhOzX/rQtN9uOMHS
        kQBW55XmxPz8+e/IsORhUQg5p8Pl3gJMt1WTzTzVEEamtu/J/GG7tReSbyixmZ+dnI2MRdvTwhZq
        PBeHGUeP8ULofo3l/wSuDeAixkbmtbUAAAAA//8DAKTmC27rBgAA
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90acd9f4785932d2-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:39:02 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:38:56Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:39:02Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:38:54Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:38:56Z'
      request-id:
      - req_01YH7mCEbdLD1wTTRhyXD2Q8
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"Analyze the following
      sessions and decide which prompts \nought to be updated to improve the performance
      on future sessions:\n\n<session_f92b595d24d24c148143e885db6d7844>\n================================
      Human Message =================================\n\nTell me about quantum computing\n\n==================================
      Ai Message ==================================\n\nHere''s my research...\nTo
      summarize the key points...\n\nFeedback for session f92b595d24d24c148143e885db6d7844:\n<FEEDBACK>\n{''research'':
      ''Include more technical details'', ''summary'': ''Make it more accessible''}\n</FEEDBACK>\n</session_f92b595d24d24c148143e885db6d7844>\n\nBelow
      are the prompts being optimized:\nresearch: Research the given topic thoroughly\nsummarize:
      Summarize the research findings\n\n\nReturn JSON with \"which\": [...], listing
      the names of prompts that need updates."}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"tool","name":"Classify"},"tools":[{"name":"Classify","description":"Classify
      which prompts merit updating for this conversation.","input_schema":{"description":"Classify
      which prompts merit updating for this conversation.","properties":{"reasoning":{"description":"Reasoning
      for which prompts to update.","title":"Reasoning","type":"string"},"which":{"description":"List
      of prompt names that should be updated. Must be among [''research'', ''summarize'']","items":{"type":"string"},"title":"Which","type":"array"}},"required":["reasoning","which"],"title":"Classify","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAAwAAAP//bJPdbhoxEIVfxZrrBcFSomgvadX/VmrTSpFCtDL2WdbBa288NglBvHvl
        JaRE7aU9Z2Y+nxnvyWiqqON1PZl+/X6dnsr28uHd7PflnPnp6mO5WFBBcdcjq8As16CCgrf5QjIb
        jtJFKqjzGpYqUlYmjdFsNB+xdw5xVE7KN9NJWVJByrsIF6m62Z+KRu9tnThXHVDyOdWT6We56b7c
        zZv3vptd/+jDbHM3/fBIBTnZ5by3NndvdjnP9SlStaeH1qiWqhsKYMigWiqIU9fJYJ5AtwUFSPbO
        uDVVtJAMLbwTsYVoAL2SaiP64LdGQxdi5WObj10fWThAi9RrGcHV0i3ddCx+Pjd5FlXi13khPPbW
        KBPtTnDMaWJJn5yySUN0PkBEqNYZJa3QiNJYXlIhjNNGyWjcesA6vWPozyJ6sTpltz74tG6FdPpv
        KbsTynd9QAvHZotxRi3H4upkwv9ZO7hovMuI3+QGwsRjE6kUmM3KIrNxWq/BL2xHY3ev0AK2Jrt6
        BpoYYdQEA6ftbqCFZIOQNclphLxAegBdDI4bKLDwzdlMvHEx67mHMo1RwnR5Tsjcx9lAC+NOlvVQ
        0WzxMryBJkYEwQhbiCbFFCDuE4IBj+lwuC2Io+/r43683sohwLhPcApUuWRtQWn4CNX+uHt19Bs4
        puri8qIgJVWLWgXIbGr9WjE5xQOk/jfmUzy/mc6nh8MfAAAA//8DAP362OekAwAA
    headers:
      CF-RAY:
      - 90acda25cc1132c8-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:39:05 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:39:04Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:39:05Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:39:02Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:39:04Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_011BU9qEwSWaxL7rvZcPybec
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"Analyze the following
      sessions and decide which prompts \nought to be updated to improve the performance
      on future sessions:\n\n<session_df51a84ea15c4f86bf850bdf81e4e274>\n================================
      Human Message =================================\n\nAnalyze the impact of AI
      on healthcare\n\n================================== Ai Message ==================================\n\nHere''s
      our analysis plan...\nResearch findings for each area...\nAnalysis of the implications...\nFinal
      report on AI in healthcare...\n\nFeedback for session df51a84ea15c4f86bf850bdf81e4e274:\n<FEEDBACK>\n{''organization'':
      ''needs better coordination between steps''}\n</FEEDBACK>\n</session_df51a84ea15c4f86bf850bdf81e4e274>\n\nBelow
      are the prompts being optimized:\nplanner: Plan the analysis steps\nresearcher:
      Gather information for each step\nanalyzer: Analyze the gathered information\nwriter:
      Write the final report\n\n\nReturn JSON with \"which\": [...], listing the names
      of prompts that need updates."}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"tool","name":"Classify"},"tools":[{"name":"Classify","description":"Classify
      which prompts merit updating for this conversation.","input_schema":{"description":"Classify
      which prompts merit updating for this conversation.","properties":{"reasoning":{"description":"Reasoning
      for which prompts to update.","title":"Reasoning","type":"string"},"which":{"description":"List
      of prompt names that should be updated. Must be among [''planner'', ''researcher'',
      ''analyzer'', ''writer'']","items":{"type":"string"},"title":"Which","type":"array"}},"required":["reasoning","which"],"title":"Classify","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA4RTTW8TMRD9KyNfuGyrJFBa9kZB4gCqKFRClFTRrD2btXDGW8+4Ja3635G9TSGi
        EkfPx5v3nmfujXemNRtZr2bzt+7DcHR2/uXN5XuO7/33zp+dxxPTGN2OVKpIBNdkGpNiKAEU8aLI
        ahqziY6CaY0NmB0dvDw4OpDITHqwmC1ezWeLhWmMjazEatof9ztQjTGsshTUSqW882o2f/nrMn3s
        +q/nnyin1+k0fvh0+q5gMG5K37tQpvfb0sdjVtPem9vB28G0P8wYkJmSacxt8krJXDUmEUpkz2vT
        mlMUchAZdCDoiVyH9ifogFojQiI+MiwNEzmBjlQpgY0xOc+oJdeR3hIxiNIoS9PUxg16Bi+SSQDH
        kTCBRuioXfKS54fweeIFY4qbUWFCz6ND9byGjixmoWfHiWJSgVuvAyBsYiIQTdlqTuQA2YENZVxV
        XsDGAYUmSSSKXfAykJTJY8VmJluQZV/JYWG6OIRv1bf/EK3uecYAMeuYFWSIObidAM9K64RKlV+i
        PpCdDH7WSef7nhKxAjKGrXj5i9LFQJBICJMdKFXAWnX3RFJAiDbF7wFvCEZKfUybYo6j64xKYQso
        ZXyiFwIcQUayvvf2zwZgF7PuPrB67bmgTETXWJqLATH94XidMXjdHsJFFZZo6n/8f5kW4BF5T3fR
        ENMa2d9NgVTxy5/xo0v1WnYTIPbg2fkb7zKGJzf2yEyGmYeHq8aIxnE1bf3+ndWE0HUmtmRaziE0
        JtfTbu+na1pp/Ekspj2enzTGoh1oZRNVnqv9itkunwjdv7lpM54i8+Pjh4ffAAAA//8DANpIT2d2
        BAAA
    headers:
      CF-RAY:
      - 90acda3cdb7e4cb1-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:39:11 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:39:07Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:39:11Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:39:06Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:39:07Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01K4CUH2N1U7ADe6uZENjnBt
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are helping
      an AI assistant learn by optimizing its prompt.\n\n## Background\n\nBelow is
      the current prompt:\n\n<current_prompt>\nPlan the analysis steps\n</current_prompt>\n\nThe
      developer provided these instructions regarding when/how to update:\n\n<update_instructions>\n\n</update_instructions>\n\n##
      Session Data\nAnalyze the session(s) (and any user feedback) below:\n\n<sessions>\n<session_e08588d00f014a93a48d797edcac676f>\n================================
      Human Message =================================\n\nAnalyze the impact of AI
      on healthcare\n\n================================== Ai Message ==================================\n\nHere''s
      our analysis plan...\nResearch findings for each area...\nAnalysis of the implications...\nFinal
      report on AI in healthcare...\n\nFeedback for session e08588d00f014a93a48d797edcac676f:\n<FEEDBACK>\n{''organization'':
      ''needs better coordination between steps''}\n</FEEDBACK>\n</session_e08588d00f014a93a48d797edcac676f>\n</sessions>\n\n##
      Instructions\n\n1. Reflect on the agent''s performance on the given session(s)
      and identify any real failure modes (e.g., style mismatch, unclear or incomplete
      instructions, flawed reasoning, etc.).\n2. Recommend the minimal changes necessary
      to address any real failures. If the prompt performs perfectly, simply respond
      with the original prompt without making any changes.\n3. Retain any f-string
      variables in the existing prompt exactly as they are (e.g. {variable_name}).\n\nIFF
      changes are warranted, focus on actionable edits. Be concrete. Edits should
      be appropriate for the identified failure modes. For example, consider synthetic
      few-shot examples for style or clarifying decision boundaries, or adding or
      modifying explicit instructions for conditionals, rules, or logic fixes; or
      provide step-by-step reasoning guidelines for multi-step logic problems if the
      model is failing to reason appropriately."}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"any"},"tools":[{"name":"think","description":"Reflection
      tool implementation.","input_schema":{"description":"Reflection tool implementation.","properties":{"thought":{"title":"Thought","type":"string"}},"required":["thought"],"title":"think","type":"object"}},{"name":"critique","description":"Critique
      tool implementation.","input_schema":{"description":"Critique tool implementation.","properties":{"criticism":{"title":"Criticism","type":"string"}},"required":["criticism"],"title":"critique","type":"object"}},{"name":"OptimizedPromptOutput","description":"Schema
      for the optimized prompt output.","input_schema":{"description":"Schema for
      the optimized prompt output.","properties":{"analysis":{"description":"First,
      analyze the current results and plan improvements to reconcile them.","title":"Analysis","type":"string"},"improved_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Finally,
      generate the full updated prompt to address the identified issues.   The prompt
      section being optimized contains no input f-string variables. Any brackets {{
      foo }} you emit will be escaped and not used.","title":"Improved Prompt"}},"required":["analysis","improved_prompt"],"title":"OptimizedPromptOutput","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA4xWWW8bNxD+KwO+5EUyLB9NojensePUbiwgRgunLgRqOdLS4g7XnFlJG8P/vRiu
        LjtB20dxOdd3DPVkvDNDU/FsfDj47fjk4aqcXfjJtaer+HA8uTo/HZmekbZGvYXMdoamZ1IMemCZ
        PYslMT1TRYfBDE0RbOOwf9w/7XMkQukfHR6dDA6PjkzPFJEESczwr6dNUokxjBvWrLkV/d2MDwdf
        Lkfp3N5df/ujffhav/94d9Z+v3o0PUO2ynGlp7kGUd2IGT4ZKWMzK8UMzTUKVAiWbGi/I0iJUDQp
        IQnUKVa1gCUHNaZpTJWlAof3NDiA2x/veQZcScIKQwuVJ1/Z0IOHhgXYtp5mcG9GwVKukeuxZ2DB
        mu/NPR0dwAfL6CB2NxiZfaRe/nH2WassvEMHFhaYWij9rOwHXGCA2EjwhLD0OpdAEdAmKGJMzpMV
        HwkmKEtEWpej426CKaKb2GIOXGPhp76wQXtH0hgGQnRd3xMUwX9Nae7ppEuakOtIjBBsMedtai9t
        htIWGm0nAYElNYU0Cc3zc+8/Sb58e/Tl7nr1IbZ3i2+jT2+PfZKzrzuSi+TFPza4z3M+KzxXZmiu
        sAXP3CCDdzri1KPbsbljUWKEhZ01mPt1EZneyAZ/mDXeqQ6UpzIuQeJujhfUZkpvS0z4hoEieOru
        KXZ2ojwhcZMU4BBnij1MQ1zmooW6oehY+JG63z2zhu23opXXapiCQ7E+AK5qLARdpuZLhGmyFS5j
        mu/ENI1pM8UkoZ2Di0uCIlZ1wBVIrH3BwC0LVlY6ffwvsm7bwafRw+nlBxycv28eb9sBi5/vyLqp
        xVf+O7pRhv2mEWVsj7kNimZofuI1VSYD+xll1ZKAr3QmVO3qMNa5hMydn/dVq+ju+Or0sLZzaWmG
        DFzGJqyFMVqTbtee2iGowGXElIifgJbZP3Nuq/99/nktgA3NNOvY3QghtJnnz1SE5pXkdKANr68J
        zzx/fSHGOlgizV+nWCggVUz4mtCeWaPnxh2+ZmguYlAxSomM6+YkQpHQisKxhdDtVpnWGt5TBu7C
        J5bevqa0mwwNeJIIx/1TmGMLNqFliCnDFwlJlDTbUZxluV3O7kCTHx3ARUyAtii3CYb3BAB9+IhT
        3YN5fW5gf2yQO8xjAqvHkkfxtNAPMyu4jv7cbYU2xycMuFBhOStWQz3lFyCLSHtTW+Wwa8+yM37G
        FCqUMrquZF2naIsSc9WGUYc4PoBfN1BuzM/42KCyrNJ68UZM2s2AN8lh2sllsnkwHNZIDqnwyOur
        56s6WJ+5V4NnvDQKJo0P2hpBnXDhY8Mw9aSLnl8BobE/20TOT6eY7ZjZ04FODuBm/Qpl9FtS5Xje
        jr+Z4DIut+VgmmL1OhssfQjKuifBWbKyBfpPlUWRInO/aCS7RkqsOmBxZStPuFdFIjj1R6yzthKW
        SOwXug/UV/q45tZHCVmrt7FJWcP5HV0bnppq0iGui2PShIACdfQk3Nvt7x24usH3bNxpXREhXMmB
        eX7+u2dYYj3WUSO93KD5w0YGZkhNCD3T5L9Rw6duNY4lzpHYDAeH7971TKHCGmdX+kjjl1cON98T
        Wvfjt5h37vbk9PCX5+d/AAAA//8DALreEpPjCQAA
    headers:
      CF-RAY:
      - 90acda5ebfdd32c6-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:39:20 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:39:12Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:39:20Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:39:11Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:39:12Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01CN9VKtZnQPHYsyFSMtQybs
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are helping
      an AI assistant learn by optimizing its prompt.\n\n## Background\n\nBelow is
      the current prompt:\n\n<current_prompt>\nPlan the analysis steps\n</current_prompt>\n\nThe
      developer provided these instructions regarding when/how to update:\n\n<update_instructions>\n\n</update_instructions>\n\n##
      Session Data\nAnalyze the session(s) (and any user feedback) below:\n\n<sessions>\n<session_e08588d00f014a93a48d797edcac676f>\n================================
      Human Message =================================\n\nAnalyze the impact of AI
      on healthcare\n\n================================== Ai Message ==================================\n\nHere''s
      our analysis plan...\nResearch findings for each area...\nAnalysis of the implications...\nFinal
      report on AI in healthcare...\n\nFeedback for session e08588d00f014a93a48d797edcac676f:\n<FEEDBACK>\n{''organization'':
      ''needs better coordination between steps''}\n</FEEDBACK>\n</session_e08588d00f014a93a48d797edcac676f>\n</sessions>\n\n##
      Instructions\n\n1. Reflect on the agent''s performance on the given session(s)
      and identify any real failure modes (e.g., style mismatch, unclear or incomplete
      instructions, flawed reasoning, etc.).\n2. Recommend the minimal changes necessary
      to address any real failures. If the prompt performs perfectly, simply respond
      with the original prompt without making any changes.\n3. Retain any f-string
      variables in the existing prompt exactly as they are (e.g. {variable_name}).\n\nIFF
      changes are warranted, focus on actionable edits. Be concrete. Edits should
      be appropriate for the identified failure modes. For example, consider synthetic
      few-shot examples for style or clarifying decision boundaries, or adding or
      modifying explicit instructions for conditionals, rules, or logic fixes; or
      provide step-by-step reasoning guidelines for multi-step logic problems if the
      model is failing to reason appropriately."},{"role":"assistant","content":[{"type":"tool_use","name":"think","input":{"thought":"Let
      me analyze the current prompt and performance:\n1. The current prompt is extremely
      minimal, just saying \"Plan the analysis steps\"\n2. Based on the session, the
      AI provided a very high-level outline without clear coordination between steps\n3.
      The feedback specifically mentions needing \"better coordination between steps\"\n4.
      The response lacks specificity and actionable structure"},"id":"toolu_01NHPrEaYLZVyjSp9DYAyzKq"},{"type":"tool_use","name":"critique","input":{"criticism":"Key
      issues identified:\n1. The prompt is too vague and doesn''t provide guidance
      on how to structure the analysis\n2. There''s no instruction about ensuring
      logical flow and connections between steps\n3. Missing guidance on the level
      of detail expected\n4. No framework provided for how to break down complex topics
      systematically"},"id":"toolu_01H72NYLxBoyYvZPG73irtAS"},{"type":"tool_use","name":"OptimizedPromptOutput","input":{"analysis":"The
      current prompt needs significant improvement to address the coordination and
      structure issues. The changes should:\n1. Provide a clear framework for breaking
      down complex topics\n2. Add specific instructions about connecting steps logically\n3.
      Include guidance on the expected level of detail\n4. Structure the planning
      process more systematically","improved_prompt":"Follow these steps to create
      a structured analysis plan:\n\n1. First, break down the topic into 3-5 key areas
      or components that need to be analyzed.\n\n2. For each key area:\n   - Define
      the specific questions or aspects to investigate\n   - Identify the relevant
      data or information needed\n   - List the analytical methods or approaches to
      use\n\n3. Create a logical sequence for the analysis by:\n   - Ordering steps
      based on dependencies\n   - Explaining how each step builds on previous findings\n   -
      Identifying connections between different areas\n\n4. Outline the synthesis
      approach:\n   - How findings from different areas will be integrated\n   - What
      cross-cutting themes to examine\n   - How to develop comprehensive conclusions\n\nPresent
      your plan with clear numbering and bullet points, ensuring each step flows logically
      into the next."},"id":"toolu_01Ty1GPj5HBe1E9uqTy1stik"}]},{"role":"user","content":[{"type":"tool_result","content":"","tool_use_id":"toolu_01NHPrEaYLZVyjSp9DYAyzKq","is_error":false},{"type":"tool_result","content":"","tool_use_id":"toolu_01H72NYLxBoyYvZPG73irtAS","is_error":false},{"type":"tool_result","content":"","tool_use_id":"toolu_01Ty1GPj5HBe1E9uqTy1stik","is_error":false}]}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"any"},"tools":[{"name":"think","description":"Reflection
      tool implementation.","input_schema":{"description":"Reflection tool implementation.","properties":{"thought":{"title":"Thought","type":"string"}},"required":["thought"],"title":"think","type":"object"}},{"name":"critique","description":"Critique
      tool implementation.","input_schema":{"description":"Critique tool implementation.","properties":{"criticism":{"title":"Criticism","type":"string"}},"required":["criticism"],"title":"critique","type":"object"}},{"name":"OptimizedPromptOutput","description":"Schema
      for the optimized prompt output.","input_schema":{"description":"Schema for
      the optimized prompt output.","properties":{"analysis":{"description":"First,
      analyze the current results and plan improvements to reconcile them.","title":"Analysis","type":"string"},"improved_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Finally,
      generate the full updated prompt to address the identified issues.   The prompt
      section being optimized contains no input f-string variables. Any brackets {{
      foo }} you emit will be escaped and not used.","title":"Improved Prompt"}},"required":["analysis","improved_prompt"],"title":"OptimizedPromptOutput","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAAzyQ3W7bMAxGX4XQdRLkx20BXxZothZt0YsVW7AAgSLRNlGZUkUqjpuXH5xhuyTx
        nYOPvBjypja9tIfl6u5us3MPrx9uO94+DT8+74/D8PplZkbHhFMKRWyLZmZyDNPCipCoZTUz00eP
        wdTGBVs8zjfzm7lEZtT5ermuVsv12syMi6zIaurfl39SjTEcikzWa5VpLoflavu1fXr/+ev9+d6l
        3fdd1b+l6qUyM8O2v3Id8ccEcSpq6ovRLpa2U1ObZ1ToEU6YqRmBGtAOgfqU4wk9pBz7pGC9zyiC
        AjYEII+s1BB6IJGCUu95tYC3HE/kUcAFtBlEc3FaMsJA2kEFvSUGUUyy5/UCHs4pkCMNI2T8LJRR
        AM8pWGLiFtz0D6cUWeCIOiD+hzcL+EYnFJCEjhpy0Bbylh1CZAh4wgCxAY9qKQAjevR7rhbwyC6U
        qSHx33ZXexMzhNiSswGaEAew7EFG1g6FZM83C3ixxGppCgc805EC6XgFPTUNZmQFjYmcwNBRQECW
        kqczZBTF3iq5P2SSSwqAMAxEryJZd1FBFHoXKSEGBEtT+1lJ7y5WXBTXbxgY3gwYQhSkHWpdFaQs
        wUbGJL4X20Dis7AnBuOLcwpK+5K5XoM2y8E+gRmXcVJASDtbiozPINtH9Mcj4/ZnUnJXqOdabwAA
        AP//AwC2u5oK6AIAAA==
    headers:
      CF-RAY:
      - 90acda96fc6b32c6-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:39:23 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:39:22Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:39:23Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:39:20Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:39:22Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_013ikRNjS1YuuEXjUiHxFT7d
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are helping
      an AI assistant learn by optimizing its prompt.\n\n## Background\n\nBelow is
      the current prompt:\n\n<current_prompt>\nWrite the final report\n</current_prompt>\n\nThe
      developer provided these instructions regarding when/how to update:\n\n<update_instructions>\n\n</update_instructions>\n\n##
      Session Data\nAnalyze the session(s) (and any user feedback) below:\n\n<sessions>\n<session_2f98c4ec9bff4c9fb443ae360794ef73>\n================================
      Human Message =================================\n\nAnalyze the impact of AI
      on healthcare\n\n================================== Ai Message ==================================\n\nHere''s
      our analysis plan...\nResearch findings for each area...\nAnalysis of the implications...\nFinal
      report on AI in healthcare...\n\nFeedback for session 2f98c4ec9bff4c9fb443ae360794ef73:\n<FEEDBACK>\n{''organization'':
      ''needs better coordination between steps''}\n</FEEDBACK>\n</session_2f98c4ec9bff4c9fb443ae360794ef73>\n</sessions>\n\n##
      Instructions\n\n1. Reflect on the agent''s performance on the given session(s)
      and identify any real failure modes (e.g., style mismatch, unclear or incomplete
      instructions, flawed reasoning, etc.).\n2. Recommend the minimal changes necessary
      to address any real failures. If the prompt performs perfectly, simply respond
      with the original prompt without making any changes.\n3. Retain any f-string
      variables in the existing prompt exactly as they are (e.g. {variable_name}).\n\nIFF
      changes are warranted, focus on actionable edits. Be concrete. Edits should
      be appropriate for the identified failure modes. For example, consider synthetic
      few-shot examples for style or clarifying decision boundaries, or adding or
      modifying explicit instructions for conditionals, rules, or logic fixes; or
      provide step-by-step reasoning guidelines for multi-step logic problems if the
      model is failing to reason appropriately."}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"any"},"tools":[{"name":"think","description":"Reflection
      tool implementation.","input_schema":{"description":"Reflection tool implementation.","properties":{"thought":{"title":"Thought","type":"string"}},"required":["thought"],"title":"think","type":"object"}},{"name":"critique","description":"Critique
      tool implementation.","input_schema":{"description":"Critique tool implementation.","properties":{"criticism":{"title":"Criticism","type":"string"}},"required":["criticism"],"title":"critique","type":"object"}},{"name":"OptimizedPromptOutput","description":"Schema
      for the optimized prompt output.","input_schema":{"description":"Schema for
      the optimized prompt output.","properties":{"analysis":{"description":"First,
      analyze the current results and plan improvements to reconcile them.","title":"Analysis","type":"string"},"improved_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Finally,
      generate the full updated prompt to address the identified issues.   The prompt
      section being optimized contains no input f-string variables. Any brackets {{
      foo }} you emit will be escaped and not used.","title":"Improved Prompt"}},"required":["analysis","improved_prompt"],"title":"OptimizedPromptOutput","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA5RWTVMcNxD9K1265LIQvon3hsHEELCJscGubIrSSj078mqkQS2xjF3891RLM7uL
        40rs44ykVvd7r1/rqzBajEVDs7ut7aPL4+vQffigX39O54fNafXxqPKVGInYtci7kEjOUIxE8JZ/
        SCJDUbooRqLxGq0YC2Vl0rixu7G/Qd45jBs7Wzt721s7O2IklHcRXRTjv74OQaP39i4RR82p8He6
        29p+c5Xuu3b/8XbvQs5//3j7x8nhx9N3YiScbPK52rg5H3JtimL8VcTap1kdxVhcYIQGQTppuy8I
        sUYgJDLegXQaKkQ9lWoO0YPR6KKpurxpjh0YooQ0nriJ296E9zVClDSHhSTePoQ8OvuFwDStVBG8
        gxqljbWSAUf5hkVtbLn36AxkjNi0ETUHUAFlRJBAMSQVU0ANAan1jnCUTyyzM04bJSMS+DCTznyR
        kSsoCU7cTslOpRDQRWiDb9oIE3EbTCx3V8ZJCwFbH+JEgCHAxxiwQdvBVAbMqbbBPxiNBM7DLBkt
        nULwbjxxG/DqsUXFiS+T/bXyoZGRFy/wAS34CjRGaSw4RI2aV/7ADpRvWu/QxQybccomjbz42i/4
        T18SgnElJJemfI1cjO0mbreUt0SDWlSmMkpa20HDpHlHMBF8LcEUY8QAyvugjSvRphgXiA4oYksT
        AZRmM6Ro3GxgppxVFmXAsF59oYl3SligtRsrtkZg/axPo7J+wZsKxOLpafS/qr6hw4NPv3WH3e7e
        wZt379WL8/YTHa9UrYKJ5j7hurDzP2WoEWPxc5TXkoDwAYO0UKJIC1T7EJVvjJstdX4h1ZyWGJvY
        gZz6FPtIK/6zZNblmHV49X0NQcD7ZFjhfdsDWmTqKNN7aYgYPeNK+Exo5QOgoxR4pUc647yiE8vW
        idvbhDcetAnlD9+osY01+ACkfIuAWcCy37+/CUdTwpxcBfdJWi6UccFgZL6aMfQpMvA/wub58fxl
        tX958uBxcbJ3frN33cQXFys237bRNOYL6qtM1dsSeY3a7CdkqGe2Z7THjYDMzGXRM3auZlwZv+xE
        WgckKhmvESJt7xDr3V00vuKGS11K/BuB95xT6T/TcIjCGisnWT1o5hVFObWGapB9/G/VksVxgpVx
        xVsH6p5Zwu4mXGfddRCDdGTKlu/SfaT1kjcuBq1xWJi9lMZFaRxUFh/N1OQ9XKc2VZVdBaJvjaLe
        nJciU97xEOMN6zj+EP8Hu9RdTPFWP+j9lI536fWNcj/Dfw+vvivMi7E4HgYEO2jAGh2Zh9J33ycK
        Km97H4o1Eq4BMzD1EmfGwcJEpmoaDFaAj6hS5MiUmkaGjmVvjRvckelqvcm9urMJ10sD4MX+4hyw
        3Fn4H7gaTxwAbMCZi8Hr0tpjOGYTeIy5lNye/S5mDo76RhjDy4ByDtovHBgXPQS0+MANQGlaGOzP
        8Zg55SHJPgZXAYk5bORnH9hTzKyOw9azprU8S3NycGJIJVrOb86HRYD3ib1hOPMOlW8adHo4dlaB
        bHOcqR1yP/YsY8r1XWcgeaY1XNGA3sSdsqdJVQ/45Nn6YYlajTLXUIBJ0+E7T2BWKT43wgw7Nd4z
        +v/ZMRtwndpMlbLSNFSOLgFFtobshty6kjyzz6eWvbTWG72zVjBYFsQ68IPLp8hF/jnYaY1qbg3F
        XOUNBm5sae2q+RW/ClV8Nu0zkpUJzTOgYJqM1QSp9Q7agA/GJ1p/MeSDfCHEWnLEgQ3quwKq4Jus
        2SHtNVSn0rIbMvs8Imd5LLDwJQ/Cwt0nn1a+lu0PptwEPtcOHZZbDb/eKq9Snmje5SsbT3GF9vpD
        p1hQ08OcXShL4dlDb4Xvpnh6+nskKPr2rhD13JPywqBfMXbJ2pFI+anOHsNmcxf9HB2J8fbWi52R
        UFLVeFdGgHd3z7dsDesBpf73WpmPyz8H2/tPT/8AAAD//wMAuSSnEEcMAAA=
    headers:
      CF-RAY:
      - 90acda5edffb32c6-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:39:23 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:39:12Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:39:23Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3998'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:39:11Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:39:12Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01DWmYjfTFqYKawrfoL7rPtF
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are helping
      an AI assistant learn by optimizing its prompt.\n\n## Background\n\nBelow is
      the current prompt:\n\n<current_prompt>\nPlan the analysis steps\n</current_prompt>\n\nThe
      developer provided these instructions regarding when/how to update:\n\n<update_instructions>\n\n</update_instructions>\n\n##
      Session Data\nAnalyze the session(s) (and any user feedback) below:\n\n<sessions>\n<session_e08588d00f014a93a48d797edcac676f>\n================================
      Human Message =================================\n\nAnalyze the impact of AI
      on healthcare\n\n================================== Ai Message ==================================\n\nHere''s
      our analysis plan...\nResearch findings for each area...\nAnalysis of the implications...\nFinal
      report on AI in healthcare...\n\nFeedback for session e08588d00f014a93a48d797edcac676f:\n<FEEDBACK>\n{''organization'':
      ''needs better coordination between steps''}\n</FEEDBACK>\n</session_e08588d00f014a93a48d797edcac676f>\n</sessions>\n\n##
      Instructions\n\n1. Reflect on the agent''s performance on the given session(s)
      and identify any real failure modes (e.g., style mismatch, unclear or incomplete
      instructions, flawed reasoning, etc.).\n2. Recommend the minimal changes necessary
      to address any real failures. If the prompt performs perfectly, simply respond
      with the original prompt without making any changes.\n3. Retain any f-string
      variables in the existing prompt exactly as they are (e.g. {variable_name}).\n\nIFF
      changes are warranted, focus on actionable edits. Be concrete. Edits should
      be appropriate for the identified failure modes. For example, consider synthetic
      few-shot examples for style or clarifying decision boundaries, or adding or
      modifying explicit instructions for conditionals, rules, or logic fixes; or
      provide step-by-step reasoning guidelines for multi-step logic problems if the
      model is failing to reason appropriately."},{"role":"assistant","content":[{"type":"tool_use","name":"think","input":{"thought":"Let
      me analyze the current prompt and performance:\n1. The current prompt is extremely
      minimal, just saying \"Plan the analysis steps\"\n2. Based on the session, the
      AI provided a very high-level outline without clear coordination between steps\n3.
      The feedback specifically mentions needing \"better coordination between steps\"\n4.
      The response lacks specificity and actionable structure"},"id":"toolu_01NHPrEaYLZVyjSp9DYAyzKq"},{"type":"tool_use","name":"critique","input":{"criticism":"Key
      issues identified:\n1. The prompt is too vague and doesn''t provide guidance
      on how to structure the analysis\n2. There''s no instruction about ensuring
      logical flow and connections between steps\n3. Missing guidance on the level
      of detail expected\n4. No framework provided for how to break down complex topics
      systematically"},"id":"toolu_01H72NYLxBoyYvZPG73irtAS"},{"type":"tool_use","name":"OptimizedPromptOutput","input":{"analysis":"The
      current prompt needs significant improvement to address the coordination and
      structure issues. The changes should:\n1. Provide a clear framework for breaking
      down complex topics\n2. Add specific instructions about connecting steps logically\n3.
      Include guidance on the expected level of detail\n4. Structure the planning
      process more systematically","improved_prompt":"Follow these steps to create
      a structured analysis plan:\n\n1. First, break down the topic into 3-5 key areas
      or components that need to be analyzed.\n\n2. For each key area:\n   - Define
      the specific questions or aspects to investigate\n   - Identify the relevant
      data or information needed\n   - List the analytical methods or approaches to
      use\n\n3. Create a logical sequence for the analysis by:\n   - Ordering steps
      based on dependencies\n   - Explaining how each step builds on previous findings\n   -
      Identifying connections between different areas\n\n4. Outline the synthesis
      approach:\n   - How findings from different areas will be integrated\n   - What
      cross-cutting themes to examine\n   - How to develop comprehensive conclusions\n\nPresent
      your plan with clear numbering and bullet points, ensuring each step flows logically
      into the next."},"id":"toolu_01Ty1GPj5HBe1E9uqTy1stik"}]},{"role":"user","content":[{"type":"tool_result","content":"","tool_use_id":"toolu_01NHPrEaYLZVyjSp9DYAyzKq","is_error":false},{"type":"tool_result","content":"","tool_use_id":"toolu_01H72NYLxBoyYvZPG73irtAS","is_error":false},{"type":"tool_result","content":"","tool_use_id":"toolu_01Ty1GPj5HBe1E9uqTy1stik","is_error":false}]},{"role":"assistant","content":[{"type":"tool_use","name":"think","input":{"thought":"Let
      me verify if the improved prompt addresses all identified issues:\n1. Provides
      clear structure with 4 main steps\n2. Explicitly requires explaining connections
      between steps\n3. Gives specific guidance on level of detail needed\n4. Includes
      instructions for logical flow and synthesis\n5. Maintains flexibility for different
      topics while ensuring systematic approach"},"id":"toolu_01FzFJUWXULBcpYHY4mPp4M4"}]},{"role":"user","content":[{"type":"tool_result","content":"","tool_use_id":"toolu_01FzFJUWXULBcpYHY4mPp4M4","is_error":false}]}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"tool","name":"OptimizedPromptOutput"},"tools":[{"name":"OptimizedPromptOutput","description":"Schema
      for the optimized prompt output.","input_schema":{"description":"Schema for
      the optimized prompt output.","properties":{"analysis":{"description":"First,
      analyze the current results and plan improvements to reconcile them.","title":"Analysis","type":"string"},"improved_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Finally,
      generate the full updated prompt to address the identified issues.   The prompt
      section being optimized contains no input f-string variables. Any brackets {{
      foo }} you emit will be escaped and not used.","title":"Improved Prompt"}},"required":["analysis","improved_prompt"],"title":"OptimizedPromptOutput","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAAwAAAP//ZFXbbhtHDP0VYp4lwZLtBNFb6tRNkBYO2qIXV4Uw2uFqJ54lN0OOZMXI
        vxeclZQ4fRI0JA/Jw0Puk4vBLV0v2/XF/MWu3dz0f1D/y9/3P9zfvH//6s1HfOsmTg8DmheK+C26
        icuc7MGLRFFP6iau54DJLV2TfAk4vZxeT4WJUKeLi8XV/GKxcBPXMCmSuuU/TydQZU7rIoZaS7H/
        ZX0xv735+FP56+Vv8/sXD7ebq1cv3txfXxY3ceR7i7sbNPbxM4YPmftB74oOxeqIZL/LJ+fJp4NE
        cUv3e4fAo7/XyAQ+hIwiKKAdQsMZIYoUFNgcliuaz+BXHJJvIm2rx85vC4JE2iacpkgIQ80K+6gd
        eGi4HzJ2SBJ3CKK5NFoyBvDDkNk33YoWM3gdggHi45BiExUijZ6RScBvuCg0zDlE8mqOG9Q9IoEo
        DgKeAkjHe7Mk3sbGJ2gT71d0OYMPmXexojcJfYZticFTg8AEm4z+wUyB9wTKQ2xGtIyfSrQqE+4w
        AbcQUH1MK7qawTtqUqmIMmAT29g8r7flDHIg7VDiCBdJcZtHgrmFNpKFy4pWZAOI/ZB5hz2SijVS
        UoAO01AJfv0OmoxeEXobBuetJxtuBd5jStMzM/VxHC0MyZPMbOojeFiPc3FLd8sp8d7ABY8MKp+S
        +Gcz+hZtaeXOZ3Abs+hk5O5IXIcjedYow+X0Gh7wAD6jF+BcNcBUu9POKxBisJQbHDN8xjAz8MUM
        bjkD+qY7AyxXBABTeIOtictSnVn/VFBGyjmDt2etrUTamWHrFY/R7wKSxvZQ4zMm3HlSCF69hUZq
        OffjeKw2DMewn6NoDallahVWj9pxGFMeJYw1axG0Ji5ncHOi8iRGwU8FTXMmjTOeEVuXqua6ywFz
        FVWdyMYLBtNowAEpIDUR5ej64+OQfCRz7ng/8mVRsCkxWWkEQ8Zd5CLfaO0ZEXUf7AgdNXtaqBDb
        FjOSjtOzhq5mcFc0ndn/quxj+6cO3vL+nA7azP33aLCPKdnUT/twJvpPk0WTWWTaFNXjcelHYvHR
        95HwmyzKEGwxefjuvjRsuynWkpX+IaNY9gOXXDU8XqXxEFDpNyPjtkmbkhIqDBxJZQJIUqrtK7l2
        UeQ00nQYtW6MED7qzH358u/EifKwtlaZnh/wajjJwC2ppDRxpX4zlk/jZV4rPyCJW85fLq4nrjFh
        retWRqb1c5eLkz2jD/+3cT3555fL/2RoVFsLAAAA//8DAKx5xfbQBgAA
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90acdaabcbe36991-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:39:29 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '396000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:39:26Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:39:29Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:39:24Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '476000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:39:26Z'
      request-id:
      - req_01JTuAFPhqPevMNjuNSDHbyK
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are helping
      an AI assistant learn by optimizing its prompt.\n\n## Background\n\nBelow is
      the current prompt:\n\n<current_prompt>\nWrite the final report\n</current_prompt>\n\nThe
      developer provided these instructions regarding when/how to update:\n\n<update_instructions>\n\n</update_instructions>\n\n##
      Session Data\nAnalyze the session(s) (and any user feedback) below:\n\n<sessions>\n<session_2f98c4ec9bff4c9fb443ae360794ef73>\n================================
      Human Message =================================\n\nAnalyze the impact of AI
      on healthcare\n\n================================== Ai Message ==================================\n\nHere''s
      our analysis plan...\nResearch findings for each area...\nAnalysis of the implications...\nFinal
      report on AI in healthcare...\n\nFeedback for session 2f98c4ec9bff4c9fb443ae360794ef73:\n<FEEDBACK>\n{''organization'':
      ''needs better coordination between steps''}\n</FEEDBACK>\n</session_2f98c4ec9bff4c9fb443ae360794ef73>\n</sessions>\n\n##
      Instructions\n\n1. Reflect on the agent''s performance on the given session(s)
      and identify any real failure modes (e.g., style mismatch, unclear or incomplete
      instructions, flawed reasoning, etc.).\n2. Recommend the minimal changes necessary
      to address any real failures. If the prompt performs perfectly, simply respond
      with the original prompt without making any changes.\n3. Retain any f-string
      variables in the existing prompt exactly as they are (e.g. {variable_name}).\n\nIFF
      changes are warranted, focus on actionable edits. Be concrete. Edits should
      be appropriate for the identified failure modes. For example, consider synthetic
      few-shot examples for style or clarifying decision boundaries, or adding or
      modifying explicit instructions for conditionals, rules, or logic fixes; or
      provide step-by-step reasoning guidelines for multi-step logic problems if the
      model is failing to reason appropriately."},{"role":"assistant","content":[{"type":"text","text":"[{''id'':
      ''toolu_01NPuqyp5xW4LakGXWKD7XFR'', ''input'': {''thought'': ''Let me analyze
      the session and feedback to identify the key issues:\\n\\n1. The task was to
      analyze AI\\''s impact on healthcare, and while the AI attempted to create a
      structured response, the feedback indicates organization issues\\n2. The current
      prompt \"Write the final report\" is extremely bare and provides no guidance
      on:\\n- Expected structure/format\\n- Level of detail needed\\n- Key components
      to include\\n- How to organize information coherently\\n3. The feedback specifically
      mentions \"needs better coordination between steps\" suggesting the AI needs
      clearer guidance on creating a well-structured, logically flowing report''},
      ''name'': ''think'', ''type'': ''tool_use''}, {''id'': ''toolu_01Vs76Y8y7y346NRTc9JpYsC'',
      ''input'': {''criticism'': ''The current prompt \"Write the final report\" has
      several critical shortcomings:\\n\\n1. Lacks specificity about report structure
      and organization\\n2. Provides no guidance on required content elements\\n3.
      Missing instructions for ensuring logical flow between sections\\n4. No direction
      on depth or scope expectations\\n5. Absence of quality criteria for the output''},
      ''name'': ''critique'', ''type'': ''tool_use''}, {''id'': ''toolu_01JCkBf5MDvoewD4JV4Smt9L'',
      ''input'': {''analysis'': ''The prompt requires significant enhancement to address
      the organizational issues and provide clear guidance for creating well-structured
      reports. The improvements should:\\n\\n1. Establish a clear report structure\\n2.
      Define key sections to include\\n3. Specify transitions between sections\\n4.
      Add quality guidelines\\n5. Maintain flexibility for different topics while
      ensuring consistent organization''}, ''name'': ''OptimizedPromptOutput'', ''type'':
      ''tool_use''}, {''id'': ''toolu_0163syLbeWdvd5uuC3sHVcnL'', ''input'': {''improved_prompt'':
      ''Create a comprehensive and well-structured report following these guidelines:\\n\\n1.
      Begin with a brief executive summary outlining the key points\\n2. Structure
      the report with these clear sections:\\n   - Introduction: Context and scope\\n   -
      Main Analysis: Break down into relevant subtopics\\n   - Key Findings: Present
      major insights\\n   - Implications: Discuss impact and consequences\\n   - Recommendations:
      If applicable\\n   - Conclusion: Summarize main points\\n\\nFor each section:\\n-
      Use clear headings and subheadings\\n- Ensure logical flow with smooth transitions
      between sections\\n- Support claims with relevant evidence or reasoning\\n-
      Maintain consistent depth of analysis throughout\\n\\nQuality checklist:\\n-
      Verify all sections connect coherently\\n- Confirm each section builds upon
      previous information\\n- Check that conclusions follow from the analysis\\n-
      Ensure balanced coverage of key aspects\\n\\nYour report should be thorough
      yet concise, focusing on the most relevant information while maintaining clear
      organization throughout.''}, ''name'': ''OptimizedPromptOutput'', ''type'':
      ''tool_use''}]"},{"type":"tool_use","name":"OptimizedPromptOutput","input":{"analysis":"The
      prompt requires significant enhancement to address the organizational issues
      and provide clear guidance for creating well-structured reports. The improvements
      should:\n\n1. Establish a clear report structure\n2. Define key sections to
      include\n3. Specify transitions between sections\n4. Add quality guidelines\n5.
      Maintain flexibility for different topics while ensuring consistent organization"},"id":"toolu_01JCkBf5MDvoewD4JV4Smt9L"}]},{"role":"user","content":[{"type":"tool_result","content":"Error:\n\n```\n1
      validation error for OptimizedPromptOutput\n  Assertion failed,  [type=assertion_error,
      input_value={''analysis'': ''The prompt ...onsistent organization''}, input_type=dict]\n    For
      further information visit https://errors.pydantic.dev/2.10/v/assertion_error\n```\nExpected
      Parameter Schema:\n\n```json\n{''description'': ''Schema for the optimized prompt
      output.'', ''properties'': {''analysis'': {''description'': ''First, analyze
      the current results and plan improvements to reconcile them.'', ''title'': ''Analysis'',
      ''type'': ''string''}, ''improved_prompt'': {''anyOf'': [{''type'': ''string''},
      {''type'': ''null''}], ''description'': ''Finally, generate the full updated
      prompt to address the identified issues.   The prompt section being optimized
      contains no input f-string variables. Any brackets {{ foo }} you emit will be
      escaped and not used.'', ''title'': ''Improved Prompt''}}, ''required'': [''analysis'',
      ''improved_prompt''], ''title'': ''OptimizedPromptOutput'', ''type'': ''object''}\n```\nPlease
      use PatchFunctionErrors to fix all validation errors. for json_doc_id=[toolu_01JCkBf5MDvoewD4JV4Smt9L].","tool_use_id":"toolu_01JCkBf5MDvoewD4JV4Smt9L","is_error":true}]}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"any"},"tools":[{"name":"PatchFunctionErrors","description":"Respond
      with all JSONPatch operations required to update the previous invalid function
      call.\n\nUse to correct all validation errors in non-compliant function calls,
      or to extend or update existing structured data in the presence of new information.
      Closely analyze\nthe parameters from the original JSONSchema to ensure the patched
      document will be valid\nand that you avoid repeating the same errors.","input_schema":{"properties":{"json_doc_id":{"description":"The
      ID of the function you are patching.","type":"string"},"planned_edits":{"description":"Write
      a bullet-point list of each ValidationError you encountered and the corresponding
      JSONPatch operation needed to heal it. For each operation, write why your initial
      guess was incorrect,  citing the corresponding types(s) from the JSONSchema
      that will be used the validate the resultant patched document.  Think step-by-step
      to ensure no error is overlooked.","type":"string"},"patches":{"description":"A
      list of JSONPatch operations to be applied to the previous tool call''s response
      arguments. If none are required, return an empty list. This field is REQUIRED.
      Multiple patches in the list are applied sequentially in the order provided,
      with each patch building upon the result of the previous one.","items":{"description":"A
      JSON Patch document represents an operation to be performed on a JSON document.\n\nNote
      that the op and path are ALWAYS required. Value is required for ALL operations
      except ''remove''.","examples":[{"op":"replace","path":"/path/to/my_array/1","value":"the
      newer value to be patched"},{"op":"replace","path":"/path/to/broken_object","value":{"new":"object"}},{"op":"add","path":"/path/to/my_array/-","value":["some","values"]},{"op":"add","path":"/path/to/my_array/-","value":["newer"]},{"op":"remove","path":"/path/to/my_array/1"}],"properties":{"op":{"description":"The
      operation to be performed. Must be one of ''add'', ''remove'', ''replace''.","enum":["add","remove","replace"],"type":"string"},"path":{"description":"A
      JSON Pointer path that references a location within the target document where
      the operation is performed. Note: patches are applied sequentially. If you remove
      a value, the collection size changes before the next patch is applied.","type":"string"},"value":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"type":"null"}]},"type":"object"},{"type":"null"}],"description":"The
      value to be used within the operation. REQUIRED for ''add'', ''replace'', and
      ''test'' operations. Pay close attention to the json schema to ensure patched
      document will be valid."}},"required":["op","path","value"],"type":"object"},"type":"array"}},"required":["json_doc_id","planned_edits","patches"],"type":"object"}},{"name":"PatchFunctionName","description":"Call
      this if the tool message indicates that you previously invoked an invalid tool,
      (e.g., \"Unrecognized tool name\" error), do so here.","input_schema":{"properties":{"json_doc_id":{"description":"The
      ID of the function you are patching.","type":"string"},"reasoning":{"description":"At
      least 2 logical reasons why this action ought to be taken.Cite the specific
      error(s) mentioned to motivate the fix.","items":{"type":"string"},"type":"array"},"fixed_name":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"If
      you need to change the name of the function (e.g., from an \"Unrecognized tool
      name\" error), do so here. Must be one of think, critique, OptimizedPromptOutput"}},"required":["json_doc_id","reasoning","fixed_name"],"type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2xV224bNxD9lQFfDBRS6luCdN9iOy7sxmkctQnaOhBG5EjLmDuz4ZBSFMP/XpDr
        Ve2kj0vOHJ7LkHtnvDON6XQ13z+YvW87vJ59dG/evf2CV/H08sX54sRMTNr2VKpIFVdkJiZKKAuo
        6jUhJzMxnTgKpjE2YHY0PZo+n6owU5oe7h8eH+wfHpqJscKJOJnmn7sRNImEedaCWqmU7zzfP7h+
        Lis+vP71s8XZ0YaWH1f21dXfZmIYu9L3DpNtzzPb5IVfxyhRCwT3OZnmznxW4bkTO38Cenl6e7J8
        fnW2FtqcHV9+OJ516Zc3ZmL6gMzk5uR8UtOYn+ADBu9wB97AlVf1vIJIX7KP5GDpKTjY810fZU1u
        3kfp+rR3wwBTeEvkIAmgc5Ba+rEMeozYUaIIG5/aWmSl6wMlgtw7TORgqB0Q/2gJLme/v53ZljoE
        bWWjsJDUwh4yhq163QPk/2EEGOk72jpgfvQhVIoIffGzMPZsQ3ZUCUmffOe/7ZhAajGVhkiqpCBx
        hey/VZswgFfNVGKoYKQ1Z+nLpDg3LLemMT9/R9BMzBpDLqmeRsJEgNWKSC2x+jVVWRsKYaopZpty
        0RGpl5hgKSHIpgSTWlKCVfaOgmfS5oZv+OAZnNDK82AywiJ6WgJ9JZtTQdbcdRi3IDkFzw8wcEtb
        6MVz0hs+fAaz8dS6+XDwmJoS2EAYQanOYjkXirkXnKK4XBcbOC2j/zVVKWqlp4eqK/QMrx4CbOAk
        Et6Ckw2D5yQQKdAaOYHmRZLeW33o+422cO7ZeV5pA+8iKXGCDj9LBM/qV20aSy+6PniLAzk482qz
        KviuRzvwscJKXzKxpbHnPVnpOmI3tl0sAfuKswgj91Mps6JV36wa6b8RdEXR6N4Nn0sEQtuO/jQ3
        PIU/d661hFXDYExejN+l6jVrMT3IylsMsAyyGWzXTsrgp4isvhKEBaUNEe9SKP2z3NeobEDf6dC6
        M5TW3hXFIBEioUpJv3SVRFLRUGzxWh4scNSnFmQJ41WD1EbJq1ZyKiKvMwaftmBbsrfBa6oqP1D0
        yy1gCDtaBZTJJrDSUiROYVsqT4WXPnZPjIJF9sEp5F4Y+khrL1nB81JiV1OpjeXA4VraXRr6cCtg
        GaWrMzvSfuTqAgOypZL+miKuqMgrg4/akx2y+0tyHOddW8nBwaJcAqnaYUvDqV5pAkuxuT6QwvXI
        TjT95/Yj2rBpfRjGpNhcWoZRePyaPPL3mbn/dH//aWI0ST8fonr646gb4wSbhnMIE5Prv6q5G/4J
        8yS3xGqao6OXLybGom1pbstr44XnT0v2x/1I6H7ck5werxwfvby//xcAAP//AwD/PQPtSAcAAA==
    headers:
      CF-RAY:
      - 90acdaac3e6a4cb4-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:39:29 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '394000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:39:26Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:39:29Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:39:24Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '474000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:39:26Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01YNDjXtntdWahMViTCBdXBE
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are helping
      an AI assistant learn by optimizing its prompt.\n\n## Background\n\nBelow is
      the current prompt:\n\n<current_prompt>\nWrite the final report\n</current_prompt>\n\nThe
      developer provided these instructions regarding when/how to update:\n\n<update_instructions>\n\n</update_instructions>\n\n##
      Session Data\nAnalyze the session(s) (and any user feedback) below:\n\n<sessions>\n<session_2f98c4ec9bff4c9fb443ae360794ef73>\n================================
      Human Message =================================\n\nAnalyze the impact of AI
      on healthcare\n\n================================== Ai Message ==================================\n\nHere''s
      our analysis plan...\nResearch findings for each area...\nAnalysis of the implications...\nFinal
      report on AI in healthcare...\n\nFeedback for session 2f98c4ec9bff4c9fb443ae360794ef73:\n<FEEDBACK>\n{''organization'':
      ''needs better coordination between steps''}\n</FEEDBACK>\n</session_2f98c4ec9bff4c9fb443ae360794ef73>\n</sessions>\n\n##
      Instructions\n\n1. Reflect on the agent''s performance on the given session(s)
      and identify any real failure modes (e.g., style mismatch, unclear or incomplete
      instructions, flawed reasoning, etc.).\n2. Recommend the minimal changes necessary
      to address any real failures. If the prompt performs perfectly, simply respond
      with the original prompt without making any changes.\n3. Retain any f-string
      variables in the existing prompt exactly as they are (e.g. {variable_name}).\n\nIFF
      changes are warranted, focus on actionable edits. Be concrete. Edits should
      be appropriate for the identified failure modes. For example, consider synthetic
      few-shot examples for style or clarifying decision boundaries, or adding or
      modifying explicit instructions for conditionals, rules, or logic fixes; or
      provide step-by-step reasoning guidelines for multi-step logic problems if the
      model is failing to reason appropriately."},{"role":"assistant","content":[{"type":"text","text":"[{''id'':
      ''toolu_01NPuqyp5xW4LakGXWKD7XFR'', ''input'': {''thought'': ''Let me analyze
      the session and feedback to identify the key issues:\\n\\n1. The task was to
      analyze AI\\''s impact on healthcare, and while the AI attempted to create a
      structured response, the feedback indicates organization issues\\n2. The current
      prompt \"Write the final report\" is extremely bare and provides no guidance
      on:\\n- Expected structure/format\\n- Level of detail needed\\n- Key components
      to include\\n- How to organize information coherently\\n3. The feedback specifically
      mentions \"needs better coordination between steps\" suggesting the AI needs
      clearer guidance on creating a well-structured, logically flowing report''},
      ''name'': ''think'', ''type'': ''tool_use''}, {''id'': ''toolu_01Vs76Y8y7y346NRTc9JpYsC'',
      ''input'': {''criticism'': ''The current prompt \"Write the final report\" has
      several critical shortcomings:\\n\\n1. Lacks specificity about report structure
      and organization\\n2. Provides no guidance on required content elements\\n3.
      Missing instructions for ensuring logical flow between sections\\n4. No direction
      on depth or scope expectations\\n5. Absence of quality criteria for the output''},
      ''name'': ''critique'', ''type'': ''tool_use''}, {''id'': ''toolu_01JCkBf5MDvoewD4JV4Smt9L'',
      ''input'': {''analysis'': ''The prompt requires significant enhancement to address
      the organizational issues and provide clear guidance for creating well-structured
      reports. The improvements should:\\n\\n1. Establish a clear report structure\\n2.
      Define key sections to include\\n3. Specify transitions between sections\\n4.
      Add quality guidelines\\n5. Maintain flexibility for different topics while
      ensuring consistent organization''}, ''name'': ''OptimizedPromptOutput'', ''type'':
      ''tool_use''}, {''id'': ''toolu_0163syLbeWdvd5uuC3sHVcnL'', ''input'': {''improved_prompt'':
      ''Create a comprehensive and well-structured report following these guidelines:\\n\\n1.
      Begin with a brief executive summary outlining the key points\\n2. Structure
      the report with these clear sections:\\n   - Introduction: Context and scope\\n   -
      Main Analysis: Break down into relevant subtopics\\n   - Key Findings: Present
      major insights\\n   - Implications: Discuss impact and consequences\\n   - Recommendations:
      If applicable\\n   - Conclusion: Summarize main points\\n\\nFor each section:\\n-
      Use clear headings and subheadings\\n- Ensure logical flow with smooth transitions
      between sections\\n- Support claims with relevant evidence or reasoning\\n-
      Maintain consistent depth of analysis throughout\\n\\nQuality checklist:\\n-
      Verify all sections connect coherently\\n- Confirm each section builds upon
      previous information\\n- Check that conclusions follow from the analysis\\n-
      Ensure balanced coverage of key aspects\\n\\nYour report should be thorough
      yet concise, focusing on the most relevant information while maintaining clear
      organization throughout.''}, ''name'': ''OptimizedPromptOutput'', ''type'':
      ''tool_use''}]"},{"type":"tool_use","name":"OptimizedPromptOutput","input":{"improved_prompt":"Create
      a comprehensive and well-structured report following these guidelines:\n\n1.
      Begin with a brief executive summary outlining the key points\n2. Structure
      the report with these clear sections:\n   - Introduction: Context and scope\n   -
      Main Analysis: Break down into relevant subtopics\n   - Key Findings: Present
      major insights\n   - Implications: Discuss impact and consequences\n   - Recommendations:
      If applicable\n   - Conclusion: Summarize main points\n\nFor each section:\n-
      Use clear headings and subheadings\n- Ensure logical flow with smooth transitions
      between sections\n- Support claims with relevant evidence or reasoning\n- Maintain
      consistent depth of analysis throughout\n\nQuality checklist:\n- Verify all
      sections connect coherently\n- Confirm each section builds upon previous information\n-
      Check that conclusions follow from the analysis\n- Ensure balanced coverage
      of key aspects\n\nYour report should be thorough yet concise, focusing on the
      most relevant information while maintaining clear organization throughout."},"id":"toolu_0163syLbeWdvd5uuC3sHVcnL"}]},{"role":"user","content":[{"type":"tool_result","content":"Error:\n\n```\n1
      validation error for OptimizedPromptOutput\nanalysis\n  Field required [type=missing,
      input_value={''improved_prompt'': ''Crea...ganization throughout.''}, input_type=dict]\n    For
      further information visit https://errors.pydantic.dev/2.10/v/missing\n```\nExpected
      Parameter Schema:\n\n```json\n{''description'': ''Schema for the optimized prompt
      output.'', ''properties'': {''analysis'': {''description'': ''First, analyze
      the current results and plan improvements to reconcile them.'', ''title'': ''Analysis'',
      ''type'': ''string''}, ''improved_prompt'': {''anyOf'': [{''type'': ''string''},
      {''type'': ''null''}], ''description'': ''Finally, generate the full updated
      prompt to address the identified issues.   The prompt section being optimized
      contains no input f-string variables. Any brackets {{ foo }} you emit will be
      escaped and not used.'', ''title'': ''Improved Prompt''}}, ''required'': [''analysis'',
      ''improved_prompt''], ''title'': ''OptimizedPromptOutput'', ''type'': ''object''}\n```\nPlease
      use PatchFunctionErrors to fix all validation errors. for json_doc_id=[toolu_0163syLbeWdvd5uuC3sHVcnL].","tool_use_id":"toolu_0163syLbeWdvd5uuC3sHVcnL","is_error":true}]}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"any"},"tools":[{"name":"PatchFunctionErrors","description":"Respond
      with all JSONPatch operations required to update the previous invalid function
      call.\n\nUse to correct all validation errors in non-compliant function calls,
      or to extend or update existing structured data in the presence of new information.
      Closely analyze\nthe parameters from the original JSONSchema to ensure the patched
      document will be valid\nand that you avoid repeating the same errors.","input_schema":{"properties":{"json_doc_id":{"description":"The
      ID of the function you are patching.","type":"string"},"planned_edits":{"description":"Write
      a bullet-point list of each ValidationError you encountered and the corresponding
      JSONPatch operation needed to heal it. For each operation, write why your initial
      guess was incorrect,  citing the corresponding types(s) from the JSONSchema
      that will be used the validate the resultant patched document.  Think step-by-step
      to ensure no error is overlooked.","type":"string"},"patches":{"description":"A
      list of JSONPatch operations to be applied to the previous tool call''s response
      arguments. If none are required, return an empty list. This field is REQUIRED.
      Multiple patches in the list are applied sequentially in the order provided,
      with each patch building upon the result of the previous one.","items":{"description":"A
      JSON Patch document represents an operation to be performed on a JSON document.\n\nNote
      that the op and path are ALWAYS required. Value is required for ALL operations
      except ''remove''.","examples":[{"op":"replace","path":"/path/to/my_array/1","value":"the
      newer value to be patched"},{"op":"replace","path":"/path/to/broken_object","value":{"new":"object"}},{"op":"add","path":"/path/to/my_array/-","value":["some","values"]},{"op":"add","path":"/path/to/my_array/-","value":["newer"]},{"op":"remove","path":"/path/to/my_array/1"}],"properties":{"op":{"description":"The
      operation to be performed. Must be one of ''add'', ''remove'', ''replace''.","enum":["add","remove","replace"],"type":"string"},"path":{"description":"A
      JSON Pointer path that references a location within the target document where
      the operation is performed. Note: patches are applied sequentially. If you remove
      a value, the collection size changes before the next patch is applied.","type":"string"},"value":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"type":"null"}]},"type":"object"},{"type":"null"}],"description":"The
      value to be used within the operation. REQUIRED for ''add'', ''replace'', and
      ''test'' operations. Pay close attention to the json schema to ensure patched
      document will be valid."}},"required":["op","path","value"],"type":"object"},"type":"array"}},"required":["json_doc_id","planned_edits","patches"],"type":"object"}},{"name":"PatchFunctionName","description":"Call
      this if the tool message indicates that you previously invoked an invalid tool,
      (e.g., \"Unrecognized tool name\" error), do so here.","input_schema":{"properties":{"json_doc_id":{"description":"The
      ID of the function you are patching.","type":"string"},"reasoning":{"description":"At
      least 2 logical reasons why this action ought to be taken.Cite the specific
      error(s) mentioned to motivate the fix.","items":{"type":"string"},"type":"array"},"fixed_name":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"If
      you need to change the name of the function (e.g., from an \"Unrecognized tool
      name\" error), do so here. Must be one of think, critique, OptimizedPromptOutput"}},"required":["json_doc_id","reasoning","fixed_name"],"type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA4RU0W4bNxD8lQVflAAn1ZLsor03pUiRNG7qIo5jtAoEity725i3PHNJyarhfy/I
        sxwbfejjkcvZ2Zm5vVdkVa16aTcn83f7u/OP3/q/Vouz66u4wtWpBO5UpeJhwFyFIrpFVangXT7Q
        IiRRc1SV6r1Fp2plnE4Wp8vp2VQ8M8bp4mRxOj9ZLFSljOeIHFX99/0RNHrvNkkyaqGSv9PmZL76
        /Oac5j99uLn++fTq4u3nD6s5/3mtKsW6z+8udDTdr4lNJM9vQ/BBMgQPKar6Xn0TzxvrzeYF6I9L
        OZxv8Yvd2bOUflnKuyvD56pSg9PMaDdoKYqq1RSutCOrn8Br+J1EiFsIeJsooIWG0FmYaNbuICST
        NQNM4SOihehBWwuan13DoIPuMWKA2OkIeDc4TSwQO4SAWjxn+C12xLYcDsH3QwTqh+B32CNHGXus
        jPHB5uroS+Vvn/74+Ml02OvqeUcS0N/5Sgz5yUi7UJDOJ2chu6KJx55OMzQ+vOgKWy1owTOYFAJy
        hICSXMyKD9kHlGKpH3IorB2PO1WrH45kVKV22qXs3JsjWO4nKEKeoUG0W21uoKO2c9R2MXP1odVM
        /xQbtAMSSSjwasKIVmCLMatpfBGjFOWzPSKDRBxk8roqTY6sHwV9VERAqGVqyGiOgNxpNmXeGVx2
        CFsdEIglhlQyBpMvgSIWwIYynYCDD3GSYXdkUYA9tIlsxsnzjU9TwAoa5/cV+AC3STuKh+w+mlg4
        ywwuS14CSkmD4OOkFbyHgMb3PbKt17zm+QxWtjivwTjU4amJdtDkfO19uIE9xQ4sNsTZdyz8BV7h
        HZoUaYcgqe91OFRAHIO344QVHN2q8oS5jVSA0cxer3kxg/dsXCrNZUCThSvjoiNGKaHpNZUo5Rrn
        WzKZlfN70DnSQbPQSOXJpkdua17O4KLomN/mf4MMxSe5TJY+kC5ddhioOeQ64zsMmOXODYbg2zDm
        ac2nha8Pgw+6ZOmZlSNZ4zmvrxwMi0PsCsZWu2xf/il2GHSLWfXL0ZPnf8SenIMO3QDIkgL+fxgL
        vIbeBzzmuiyRnCSf4pAi7Dty+ELExuEdbalokDlbahosWY5+ICMz9fD14eFrpST6YTNukZdLtVwI
        3qYsk6o5OVepVPZ4fT/uy030N8ii6uXZYlkpo02HGxOwDLF5WXJyvA+o7X/vxkG+A/4rE4PaWgAA
        AAD//wMAnzzCpWQGAAA=
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90acdaaaaaf132c6-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:39:30 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '392000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:39:26Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:39:30Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:39:24Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '472000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:39:26Z'
      request-id:
      - req_016HrnTgYS8nkHsABqdChp1G
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are helping
      an AI assistant learn by optimizing its prompt.\n\n## Background\n\nBelow is
      the current prompt:\n\n<current_prompt>\nWrite the final report\n</current_prompt>\n\nThe
      developer provided these instructions regarding when/how to update:\n\n<update_instructions>\n\n</update_instructions>\n\n##
      Session Data\nAnalyze the session(s) (and any user feedback) below:\n\n<sessions>\n<session_2f98c4ec9bff4c9fb443ae360794ef73>\n================================
      Human Message =================================\n\nAnalyze the impact of AI
      on healthcare\n\n================================== Ai Message ==================================\n\nHere''s
      our analysis plan...\nResearch findings for each area...\nAnalysis of the implications...\nFinal
      report on AI in healthcare...\n\nFeedback for session 2f98c4ec9bff4c9fb443ae360794ef73:\n<FEEDBACK>\n{''organization'':
      ''needs better coordination between steps''}\n</FEEDBACK>\n</session_2f98c4ec9bff4c9fb443ae360794ef73>\n</sessions>\n\n##
      Instructions\n\n1. Reflect on the agent''s performance on the given session(s)
      and identify any real failure modes (e.g., style mismatch, unclear or incomplete
      instructions, flawed reasoning, etc.).\n2. Recommend the minimal changes necessary
      to address any real failures. If the prompt performs perfectly, simply respond
      with the original prompt without making any changes.\n3. Retain any f-string
      variables in the existing prompt exactly as they are (e.g. {variable_name}).\n\nIFF
      changes are warranted, focus on actionable edits. Be concrete. Edits should
      be appropriate for the identified failure modes. For example, consider synthetic
      few-shot examples for style or clarifying decision boundaries, or adding or
      modifying explicit instructions for conditionals, rules, or logic fixes; or
      provide step-by-step reasoning guidelines for multi-step logic problems if the
      model is failing to reason appropriately."},{"role":"assistant","content":[{"type":"tool_use","name":"think","input":{"thought":"Let
      me analyze the session and feedback to identify the key issues:\n\n1. The task
      was to analyze AI''s impact on healthcare, and while the AI attempted to create
      a structured response, the feedback indicates organization issues\n2. The current
      prompt \"Write the final report\" is extremely bare and provides no guidance
      on:\n- Expected structure/format\n- Level of detail needed\n- Key components
      to include\n- How to organize information coherently\n3. The feedback specifically
      mentions \"needs better coordination between steps\" suggesting the AI needs
      clearer guidance on creating a well-structured, logically flowing report"},"id":"toolu_01NPuqyp5xW4LakGXWKD7XFR"},{"type":"tool_use","name":"critique","input":{"criticism":"The
      current prompt \"Write the final report\" has several critical shortcomings:\n\n1.
      Lacks specificity about report structure and organization\n2. Provides no guidance
      on required content elements\n3. Missing instructions for ensuring logical flow
      between sections\n4. No direction on depth or scope expectations\n5. Absence
      of quality criteria for the output"},"id":"toolu_01Vs76Y8y7y346NRTc9JpYsC"},{"type":"tool_use","name":"OptimizedPromptOutput","input":{"analysis":"The
      prompt requires significant enhancement to address the organizational issues
      and provide clear guidance for creating well-structured reports. The improvements
      should:\n\n1. Establish a clear report structure\n2. Define key sections to
      include\n3. Specify transitions between sections\n4. Add quality guidelines\n5.
      Maintain flexibility for different topics while ensuring consistent organization","improved_prompt":"Create
      a comprehensive and well-structured report following these guidelines:\n\n1.
      Begin with a brief executive summary outlining the key points\n2. Structure
      the report with these clear sections:\n   - Introduction: Context and scope\n   -
      Main Analysis: Break down into relevant subtopics\n   - Key Findings: Present
      major insights\n   - Implications: Discuss impact and consequences\n   - Recommendations:
      If applicable\n   - Conclusion: Summarize main points\n\nFor each section:\n-
      Use clear headings and subheadings\n- Ensure logical flow with smooth transitions
      between sections\n- Support claims with relevant evidence or reasoning\n- Maintain
      consistent depth of analysis throughout\n\nQuality checklist:\n- Verify all
      sections connect coherently\n- Confirm each section builds upon previous information\n-
      Check that conclusions follow from the analysis\n- Ensure balanced coverage
      of key aspects\n\nYour report should be thorough yet concise, focusing on the
      most relevant information while maintaining clear organization throughout."},"id":"toolu_01JCkBf5MDvoewD4JV4Smt9L"},{"type":"tool_use","name":"OptimizedPromptOutput","input":{"improved_prompt":"Create
      a comprehensive and well-structured report following these guidelines:\n\n1.
      Begin with a brief executive summary outlining the key points\n2. Structure
      the report with these clear sections:\n   - Introduction: Context and scope\n   -
      Main Analysis: Break down into relevant subtopics\n   - Key Findings: Present
      major insights\n   - Implications: Discuss impact and consequences\n   - Recommendations:
      If applicable\n   - Conclusion: Summarize main points\n\nFor each section:\n-
      Use clear headings and subheadings\n- Ensure logical flow with smooth transitions
      between sections\n- Support claims with relevant evidence or reasoning\n- Maintain
      consistent depth of analysis throughout\n\nQuality checklist:\n- Verify all
      sections connect coherently\n- Confirm each section builds upon previous information\n-
      Check that conclusions follow from the analysis\n- Ensure balanced coverage
      of key aspects\n\nYour report should be thorough yet concise, focusing on the
      most relevant information while maintaining clear organization throughout.","analysis":"Based
      on the session feedback highlighting organizational issues (''needs better coordination
      between steps''), the current prompt requires significant enhancement. The bare
      instruction ''Write the final report'' provides no guidance on structure, flow,
      or quality expectations. To address these issues, I recommend:\n\n1. Adding
      a clear structural framework with defined sections (executive summary, introduction,
      analysis, findings, etc.)\n2. Including specific guidelines for maintaining
      logical flow and transitions between sections\n3. Providing explicit quality
      criteria for verifying coherence and progression\n4. Incorporating instructions
      for consistent depth and balanced coverage\n\nThese improvements will help ensure
      better coordination between steps and a more organized final output while maintaining
      flexibility for different topics."},"id":"toolu_0163syLbeWdvd5uuC3sHVcnL"}]},{"role":"user","content":[{"type":"tool_result","content":"","tool_use_id":"toolu_01NPuqyp5xW4LakGXWKD7XFR","is_error":false},{"type":"tool_result","content":"","tool_use_id":"toolu_01Vs76Y8y7y346NRTc9JpYsC","is_error":false},{"type":"tool_result","content":"","tool_use_id":"toolu_01JCkBf5MDvoewD4JV4Smt9L","is_error":false},{"type":"tool_result","content":"","tool_use_id":"toolu_0163syLbeWdvd5uuC3sHVcnL","is_error":false}]}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"any"},"tools":[{"name":"think","description":"Reflection
      tool implementation.","input_schema":{"description":"Reflection tool implementation.","properties":{"thought":{"title":"Thought","type":"string"}},"required":["thought"],"title":"think","type":"object"}},{"name":"critique","description":"Critique
      tool implementation.","input_schema":{"description":"Critique tool implementation.","properties":{"criticism":{"title":"Criticism","type":"string"}},"required":["criticism"],"title":"critique","type":"object"}},{"name":"OptimizedPromptOutput","description":"Schema
      for the optimized prompt output.","input_schema":{"description":"Schema for
      the optimized prompt output.","properties":{"analysis":{"description":"First,
      analyze the current results and plan improvements to reconcile them.","title":"Analysis","type":"string"},"improved_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Finally,
      generate the full updated prompt to address the identified issues.   The prompt
      section being optimized contains no input f-string variables. Any brackets {{
      foo }} you emit will be escaped and not used.","title":"Improved Prompt"}},"required":["analysis","improved_prompt"],"title":"OptimizedPromptOutput","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2RRXYvUUAz9KyHP7dKps+vY15VVVwQRHwSREu/Ntte2uZ2b3Mo4zH+Xdlhh8fF8
        JDmcnDF4bHDSrq12nz92Ey2/Qni3HN67Pb3+ItPdAxZop5lXF6tSx1hgiuNKkGpQIzEscIqeR2zQ
        jZQ9l6/K21KjCFtZV/V+V9U1FuiiGIth8/38vNRiHNus69YtyopzW+2+vTk+Hnt9GB7d8PMY7PZw
        f//2hAUKTdtcH2RYh2TOhs0ZrY+56w0b/HSCOfESYlYIssSBoWPhRMYerGdQmhhitjkb2O/gGEr4
        ADTHMXbhD8NTTGA9GST2WTyJO93A154hTHOKC08sq+biNLF4shBFgcQDCY0nDQpqYRxh7cYDKZBz
        eT1/Nc1zinMKK14vkfeJVYN0W7jgWSw8BfYQVDPrDV4uPwpUi3ObmDTKy9o2QfmYWRxjI3kcC8zb
        p5rztZ/W4sCi2NT1flegI9dz6xJv0duXlupZT0z+f+1a2z/m7nC5/AUAAP//AwCT1Zo7RQIAAA==
    headers:
      CF-RAY:
      - 90acdad6b99f32c6-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:39:33 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:39:32Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:39:33Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:39:31Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:39:32Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01NyhVHvQGShziap4MvxHFFf
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are helping
      an AI assistant learn by optimizing its prompt.\n\n## Background\n\nBelow is
      the current prompt:\n\n<current_prompt>\nWrite the final report\n</current_prompt>\n\nThe
      developer provided these instructions regarding when/how to update:\n\n<update_instructions>\n\n</update_instructions>\n\n##
      Session Data\nAnalyze the session(s) (and any user feedback) below:\n\n<sessions>\n<session_2f98c4ec9bff4c9fb443ae360794ef73>\n================================
      Human Message =================================\n\nAnalyze the impact of AI
      on healthcare\n\n================================== Ai Message ==================================\n\nHere''s
      our analysis plan...\nResearch findings for each area...\nAnalysis of the implications...\nFinal
      report on AI in healthcare...\n\nFeedback for session 2f98c4ec9bff4c9fb443ae360794ef73:\n<FEEDBACK>\n{''organization'':
      ''needs better coordination between steps''}\n</FEEDBACK>\n</session_2f98c4ec9bff4c9fb443ae360794ef73>\n</sessions>\n\n##
      Instructions\n\n1. Reflect on the agent''s performance on the given session(s)
      and identify any real failure modes (e.g., style mismatch, unclear or incomplete
      instructions, flawed reasoning, etc.).\n2. Recommend the minimal changes necessary
      to address any real failures. If the prompt performs perfectly, simply respond
      with the original prompt without making any changes.\n3. Retain any f-string
      variables in the existing prompt exactly as they are (e.g. {variable_name}).\n\nIFF
      changes are warranted, focus on actionable edits. Be concrete. Edits should
      be appropriate for the identified failure modes. For example, consider synthetic
      few-shot examples for style or clarifying decision boundaries, or adding or
      modifying explicit instructions for conditionals, rules, or logic fixes; or
      provide step-by-step reasoning guidelines for multi-step logic problems if the
      model is failing to reason appropriately."},{"role":"assistant","content":[{"type":"tool_use","name":"think","input":{"thought":"Let
      me analyze the session and feedback to identify the key issues:\n\n1. The task
      was to analyze AI''s impact on healthcare, and while the AI attempted to create
      a structured response, the feedback indicates organization issues\n2. The current
      prompt \"Write the final report\" is extremely bare and provides no guidance
      on:\n- Expected structure/format\n- Level of detail needed\n- Key components
      to include\n- How to organize information coherently\n3. The feedback specifically
      mentions \"needs better coordination between steps\" suggesting the AI needs
      clearer guidance on creating a well-structured, logically flowing report"},"id":"toolu_01NPuqyp5xW4LakGXWKD7XFR"},{"type":"tool_use","name":"critique","input":{"criticism":"The
      current prompt \"Write the final report\" has several critical shortcomings:\n\n1.
      Lacks specificity about report structure and organization\n2. Provides no guidance
      on required content elements\n3. Missing instructions for ensuring logical flow
      between sections\n4. No direction on depth or scope expectations\n5. Absence
      of quality criteria for the output"},"id":"toolu_01Vs76Y8y7y346NRTc9JpYsC"},{"type":"tool_use","name":"OptimizedPromptOutput","input":{"analysis":"The
      prompt requires significant enhancement to address the organizational issues
      and provide clear guidance for creating well-structured reports. The improvements
      should:\n\n1. Establish a clear report structure\n2. Define key sections to
      include\n3. Specify transitions between sections\n4. Add quality guidelines\n5.
      Maintain flexibility for different topics while ensuring consistent organization","improved_prompt":"Create
      a comprehensive and well-structured report following these guidelines:\n\n1.
      Begin with a brief executive summary outlining the key points\n2. Structure
      the report with these clear sections:\n   - Introduction: Context and scope\n   -
      Main Analysis: Break down into relevant subtopics\n   - Key Findings: Present
      major insights\n   - Implications: Discuss impact and consequences\n   - Recommendations:
      If applicable\n   - Conclusion: Summarize main points\n\nFor each section:\n-
      Use clear headings and subheadings\n- Ensure logical flow with smooth transitions
      between sections\n- Support claims with relevant evidence or reasoning\n- Maintain
      consistent depth of analysis throughout\n\nQuality checklist:\n- Verify all
      sections connect coherently\n- Confirm each section builds upon previous information\n-
      Check that conclusions follow from the analysis\n- Ensure balanced coverage
      of key aspects\n\nYour report should be thorough yet concise, focusing on the
      most relevant information while maintaining clear organization throughout."},"id":"toolu_01JCkBf5MDvoewD4JV4Smt9L"},{"type":"tool_use","name":"OptimizedPromptOutput","input":{"improved_prompt":"Create
      a comprehensive and well-structured report following these guidelines:\n\n1.
      Begin with a brief executive summary outlining the key points\n2. Structure
      the report with these clear sections:\n   - Introduction: Context and scope\n   -
      Main Analysis: Break down into relevant subtopics\n   - Key Findings: Present
      major insights\n   - Implications: Discuss impact and consequences\n   - Recommendations:
      If applicable\n   - Conclusion: Summarize main points\n\nFor each section:\n-
      Use clear headings and subheadings\n- Ensure logical flow with smooth transitions
      between sections\n- Support claims with relevant evidence or reasoning\n- Maintain
      consistent depth of analysis throughout\n\nQuality checklist:\n- Verify all
      sections connect coherently\n- Confirm each section builds upon previous information\n-
      Check that conclusions follow from the analysis\n- Ensure balanced coverage
      of key aspects\n\nYour report should be thorough yet concise, focusing on the
      most relevant information while maintaining clear organization throughout.","analysis":"Based
      on the session feedback highlighting organizational issues (''needs better coordination
      between steps''), the current prompt requires significant enhancement. The bare
      instruction ''Write the final report'' provides no guidance on structure, flow,
      or quality expectations. To address these issues, I recommend:\n\n1. Adding
      a clear structural framework with defined sections (executive summary, introduction,
      analysis, findings, etc.)\n2. Including specific guidelines for maintaining
      logical flow and transitions between sections\n3. Providing explicit quality
      criteria for verifying coherence and progression\n4. Incorporating instructions
      for consistent depth and balanced coverage\n\nThese improvements will help ensure
      better coordination between steps and a more organized final output while maintaining
      flexibility for different topics."},"id":"toolu_0163syLbeWdvd5uuC3sHVcnL"}]},{"role":"user","content":[{"type":"tool_result","content":"","tool_use_id":"toolu_01NPuqyp5xW4LakGXWKD7XFR","is_error":false},{"type":"tool_result","content":"","tool_use_id":"toolu_01Vs76Y8y7y346NRTc9JpYsC","is_error":false},{"type":"tool_result","content":"","tool_use_id":"toolu_01JCkBf5MDvoewD4JV4Smt9L","is_error":false},{"type":"tool_result","content":"","tool_use_id":"toolu_0163syLbeWdvd5uuC3sHVcnL","is_error":false}]},{"role":"assistant","content":[{"type":"tool_use","name":"think","input":{"thought":"My
      previous invoke generated the same output twice - I apologize for that redundancy.
      The improvement recommendations and analysis still stand as accurate and appropriate
      for addressing the identified issues."},"id":"toolu_01X9qJqhsFkJckbqit58CCDy"}]},{"role":"user","content":[{"type":"tool_result","content":"","tool_use_id":"toolu_01X9qJqhsFkJckbqit58CCDy","is_error":false}]}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"tool","name":"OptimizedPromptOutput"},"tools":[{"name":"OptimizedPromptOutput","description":"Schema
      for the optimized prompt output.","input_schema":{"description":"Schema for
      the optimized prompt output.","properties":{"analysis":{"description":"First,
      analyze the current results and plan improvements to reconcile them.","title":"Analysis","type":"string"},"improved_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Finally,
      generate the full updated prompt to address the identified issues.   The prompt
      section being optimized contains no input f-string variables. Any brackets {{
      foo }} you emit will be escaped and not used.","title":"Improved Prompt"}},"required":["analysis","improved_prompt"],"title":"OptimizedPromptOutput","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2SVbW/cNgzHvwqh13dBcsk2wO/aWwtkRdA22bpuu+Ggk2mbO5l0RekulyDffZBs
        Jyn6yrBFUn/++OBHQ7WpTK/t9vzi9vPt7kPb/fJVPuy+yB6/3tx8u2vNwsTTgNkKVW2LZmGC+PzB
        qpJGy9EsTC81elMZ522qcXm5/GmpwoxxuTpfXV2cr1ZmYZxwRI6m+udxDhpF/DZpjlqk5Pe0Pb/4
        +XRLdw/dete3fw9N/+7+8v1vN2uzMGz77PdxiNTTA9afgvRD/JjikLIO4vysHo1l609Kairze4fg
        UgjIEYZiDhvzZ6CIEDuEhth6CDhIiBsDpKB4wID+BMSamoYcIccFWAU8UI3ssIbdaXRGrHfW7YG4
        JmcjcQuDSAAnEmpiG0kYdhiPiAwacdAzyIImIYxYKziPNoDGkFxMwXpoE9WWHYLlGr4l6ymewGXJ
        gSxEAWRNAeGI3i8ltJYzC5CCYbqB+iHIAfucdiMuKSoIVxve8MUZfApyoDrLtVBjtOSxhibYHo8S
        9tBImJDAFL5ksuHVGbypi58O6Kgh96wvi0ZPjFrcnXQYMqwNX57BNTufih/xmCgJj4bai8QOYrCs
        VD5v+OoM7jAWnCMcvB/QRfviNTUT1DjErnAagrQBVUk4d8KYfr0dSZvKrAPaiGDBST8E7JCVDiPi
        wnHmj/WceiPeyzGLiB0qvspwxvgWW2I4UpYAu0DYAN6jSzFH1tT3NpxyWTzxFAb2eIJBiKMWmnfz
        reVwurgEHO+cegNHYNWGAWAJ1xyD1CPFCtaZxX0sqaiTASerG0sMb6ZJqOBtQLuHWo4MxFEgoMeD
        5QiadlEGcjr5fcATvM8dza1W8CmgZtK9/U9CLh+1XZxNr/vBl8bP4uBXUpdUc+9ZN+pxworfUm6E
        2ecWnfQ9cj27XTdghxJn52fta8kdoyW/uwKSHhD6nNFMb8PvJQBa1818qg0v4Y9nah3aksMIJu3m
        92z1bpwgLy0566Hxchyx/9iOL/M7VSH736WhlMp5S72Ors9A5z0BZYysSq5+9soViTmHjIX0VQdL
        A/POgtgFSW0nKeYkP8/z36Hbe9JYsvyCgZoTWO+fZeWgjC7Ooxf9KVuuhRsK/XegYJfI1wppEIYh
        4IEkKRA3Evpp0pewzhdC7GyOOFdDp6mAJkhfenaW/Yrqznpb1qSTAwbbYk4vN77NW2Os3V+SnneM
        dpJ8Dbs8BFJyhxOOt5LiYtxfeYCEy5W9aHyh/Uo2HDvyY5tkzC/74/UWe8X3zDw9/bswGmXYjoX6
        /qdUDub+NRUn7xcmlf9g9Tj+bbZR9shqqtXq4mphnHUdbl3eNSS8/d7kfD4PaOsfz8b9/fzl8ury
        6el/AAAA//8DAHiaK/+kBwAA
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90acdaeae8da32c6-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:39:39 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:39:35Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:39:39Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:39:34Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:39:35Z'
      request-id:
      - req_01Nq52TGa6D16CQvrszTLsJr
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: "{\"max_tokens\":1024,\"messages\":[{\"role\":\"user\",\"content\":\"You
      are reviewing the performance of an AI assistant in a given interaction. \\n\\n##
      Instructions\\n\\nThe current prompt that was used for the session is provided
      below.\\n\\n<current_prompt>\\nYou are an astronomy expert\\n</current_prompt>\\n\\nThe
      developer provided the following instructions around when and how to update
      the prompt:\\n\\n<update_instructions>\\n\\n</update_instructions>\\n\\n## Session
      data\\n\\nAnalyze the following sessions (and any associated user feedback)
      (either conversations with a user or other work that was performed by the assistant):\\n\\n<sessions>\\n<session_b55b8d9d8e9c4f029147aaa1e42b5c72>\\n================================
      Human Message =================================\\n\\nTell me about the solar
      system\\n\\n================================== Ai Message ==================================\\n\\nThe
      solar system consists of...\\n\\nFeedback for session b55b8d9d8e9c4f029147aaa1e42b5c72:\\n<FEEDBACK>\\n{'clarity':
      'needs more structure'}\\n</FEEDBACK>\\n</session_b55b8d9d8e9c4f029147aaa1e42b5c72>\\n</sessions>\\n\\ni##
      Feedback\\n\\nThe following feedback is provided for this session:\\n\\n<feedback>\\n\\n</feedback>\\n\\n##
      Task\\n\\nAnalyze the conversation, including the user\u2019s request and the
      assistant\u2019s response, and evaluate:\\n1. How effectively the assistant
      fulfilled the user\u2019s intent.\\n2. Where the assistant might have deviated
      from user expectations or the desired outcome.\\n3. Specific areas (correctness,
      completeness, style, tone, alignment, etc.) that need improvement.\\n\\nIf the
      prompt seems to do well, then no further action is needed. We ONLY recommend
      updates if there is evidence of failures.\\nWhen failures occur, we want to
      recommend the minimal required changes to fix the problem.\\n\\nFocus on actionable
      changes and be concrete.\\n\\n1. Summarize the key successes and failures in
      the assistant\u2019s response. \\n2. Identify which failure mode(s) best describe
      the issues (examples: style mismatch, unclear or incomplete instructions, flawed
      logic or reasoning, hallucination, etc.).\\n3. Based on these failure modes,
      recommend the most suitable edit strategy. For example, consider::\\n   - Use
      synthetic few-shot examples for style or clarifying decision boundaries.\\n
      \  - Use explicit instruction updates for conditionals, rules, or logic fixes.\\n
      \  - Provide step-by-step reasoning guidelines for multi-step logic problems.\\n4.
      Provide detailed, concrete suggestions for how to update the prompt accordingly.\\n\\nBut
      remember, the final updated prompt should only be changed if there is evidence
      of poor performance, and our recommendations should be minimally invasive.\\nDo
      not recommend generic changes that aren't clearly linked to failure modes.\\n\\nFirst
      think through the conversation and critique the current behavior.\\nIf you believe
      the prompt needs to further adapt to the target context, provide precise recommendations.\\nOtherwise,
      mark `warrants_adjustment` as False and respond with 'No recommendations.'\"}],\"model\":\"claude-3-5-sonnet-latest\",\"tool_choice\":{\"type\":\"any\"},\"tools\":[{\"name\":\"think\",\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"input_schema\":{\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"properties\":{\"thought\":{\"title\":\"Thought\",\"type\":\"string\"}},\"required\":[\"thought\"],\"title\":\"think\",\"type\":\"object\"}},{\"name\":\"critique\",\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"input_schema\":{\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"properties\":{\"criticism\":{\"title\":\"Criticism\",\"type\":\"string\"}},\"required\":[\"criticism\"],\"title\":\"critique\",\"type\":\"object\"}}]}"
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2RT0W4TMRD8lZWfQEqiJC1FvbdSVAEtoYUUqSIocnybnBXf7tW7LrlG+XfkC2lV
        +rjemdnZsb01vjSFqWU1H46+2PVJNfkZzxZ319Obxafbi8mHezU9o22DGYUidoWmZyKHfGBFvKil
        jKm5xGAK44JNJfaP+u/6wkSo/fFwfDwajsemZxyTIqkpfm0Posoc5kmyamcl12k+HL3H6bSerC8/
        nvz5fjp5xKOJu97cmJ4hW3e8ytM6k6hJaoqt0YrTqlJTmCtUqBEs2dA+ImiFICjimcBSCUvEcmHd
        GqQVxdqqdzaEtpjRjEYDOM8eN1rMqA8/fN0EhPuEsQW74KR7NQ42/qNn2NkhB/AlkvqlxxKsgBWN
        TFy3gJsGo2bsxWG6p9I7qyhAiCUsOcICVTGCaExOU8TsaDyAa4xLjrUlh3CWlxIvnb1vFFqo7APC
        MtpVjaTAS4goDZMgvJmZ6X9uwTFlrwK8HAwGM/M269wKxudYcNME77yGFrKkZ5InSzaAF0komXae
        Yswzm8h1o+AFcKMRa8xMT762IXu44wQ25vt4HUieP6OjAVxiC5875W6zCcMq+bJbmel5padogCN0
        oXShXlm3FvC0b+eLZgLHdROxQhL/gITSef7qRTytoPQRn5BYJmdzYQM0EQVJuxJE24Bmt/vdM6Lc
        zCNaYXr5aruG4H1CcmgKSiH0TOo+SrHdP8+58hpJTDEanYx6xllX4dxF7IbMX0KGh35EW77ucdIX
        gsenu91fAAAA//8DAGYY/1DFAwAA
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90acde0b19bb32b2-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:41:46 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:41:43Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:41:46Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:41:42Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:41:43Z'
      request-id:
      - req_01NNS3PrLubxjTExM8JQdaSN
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: "{\"max_tokens\":1024,\"messages\":[{\"role\":\"user\",\"content\":\"You
      are reviewing the performance of an AI assistant in a given interaction. \\n\\n##
      Instructions\\n\\nThe current prompt that was used for the session is provided
      below.\\n\\n<current_prompt>\\nYou are an astronomy expert\\n</current_prompt>\\n\\nThe
      developer provided the following instructions around when and how to update
      the prompt:\\n\\n<update_instructions>\\n\\n</update_instructions>\\n\\n## Session
      data\\n\\nAnalyze the following sessions (and any associated user feedback)
      (either conversations with a user or other work that was performed by the assistant):\\n\\n<sessions>\\n<session_b55b8d9d8e9c4f029147aaa1e42b5c72>\\n================================
      Human Message =================================\\n\\nTell me about the solar
      system\\n\\n================================== Ai Message ==================================\\n\\nThe
      solar system consists of...\\n\\nFeedback for session b55b8d9d8e9c4f029147aaa1e42b5c72:\\n<FEEDBACK>\\n{'clarity':
      'needs more structure'}\\n</FEEDBACK>\\n</session_b55b8d9d8e9c4f029147aaa1e42b5c72>\\n</sessions>\\n\\ni##
      Feedback\\n\\nThe following feedback is provided for this session:\\n\\n<feedback>\\n\\n</feedback>\\n\\n##
      Task\\n\\nAnalyze the conversation, including the user\u2019s request and the
      assistant\u2019s response, and evaluate:\\n1. How effectively the assistant
      fulfilled the user\u2019s intent.\\n2. Where the assistant might have deviated
      from user expectations or the desired outcome.\\n3. Specific areas (correctness,
      completeness, style, tone, alignment, etc.) that need improvement.\\n\\nIf the
      prompt seems to do well, then no further action is needed. We ONLY recommend
      updates if there is evidence of failures.\\nWhen failures occur, we want to
      recommend the minimal required changes to fix the problem.\\n\\nFocus on actionable
      changes and be concrete.\\n\\n1. Summarize the key successes and failures in
      the assistant\u2019s response. \\n2. Identify which failure mode(s) best describe
      the issues (examples: style mismatch, unclear or incomplete instructions, flawed
      logic or reasoning, hallucination, etc.).\\n3. Based on these failure modes,
      recommend the most suitable edit strategy. For example, consider::\\n   - Use
      synthetic few-shot examples for style or clarifying decision boundaries.\\n
      \  - Use explicit instruction updates for conditionals, rules, or logic fixes.\\n
      \  - Provide step-by-step reasoning guidelines for multi-step logic problems.\\n4.
      Provide detailed, concrete suggestions for how to update the prompt accordingly.\\n\\nBut
      remember, the final updated prompt should only be changed if there is evidence
      of poor performance, and our recommendations should be minimally invasive.\\nDo
      not recommend generic changes that aren't clearly linked to failure modes.\\n\\nFirst
      think through the conversation and critique the current behavior.\\nIf you believe
      the prompt needs to further adapt to the target context, provide precise recommendations.\\nOtherwise,
      mark `warrants_adjustment` as False and respond with 'No recommendations.'\"},{\"role\":\"assistant\",\"content\":[{\"type\":\"tool_use\",\"name\":\"think\",\"input\":{\"thought\":\"Let
      me analyze the session and feedback systematically:\\n\\n1. Context:\\n- Simple
      query about the solar system\\n- Assistant identified as astronomy expert\\n-
      Feedback indicates need for better structure\\n\\n2. Performance Analysis:\\n-
      Only have fragment of response (\\\"The solar system consists of...\\\")\\n-
      User feedback explicitly mentions structural issues\\n- Current prompt is extremely
      minimal (\\\"You are an astronomy expert\\\")\\n\\n3. Key Issues:\\n- No guidance
      on response structure or format\\n- Lacks instruction on comprehensiveness\\n-
      Missing direction on educational presentation style\"},\"id\":\"toolu_017eTTmNkKD6wR9Nze3NcPxQ\"}]},{\"role\":\"user\",\"content\":[{\"type\":\"tool_result\",\"content\":\"\",\"tool_use_id\":\"toolu_017eTTmNkKD6wR9Nze3NcPxQ\",\"is_error\":false}]}],\"model\":\"claude-3-5-sonnet-latest\",\"tool_choice\":{\"type\":\"any\"},\"tools\":[{\"name\":\"think\",\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"input_schema\":{\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"properties\":{\"thought\":{\"title\":\"Thought\",\"type\":\"string\"}},\"required\":[\"thought\"],\"title\":\"think\",\"type\":\"object\"}},{\"name\":\"critique\",\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"input_schema\":{\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"properties\":{\"criticism\":{\"title\":\"Criticism\",\"type\":\"string\"}},\"required\":[\"criticism\"],\"title\":\"critique\",\"type\":\"object\"}},{\"name\":\"recommend\",\"description\":\"Decides
      whether a prompt should be adjusted.\\nIf warrants_adjustment is True, we incorporate
      recommended changes.\\nIf not, we respond 'No recommendations.'\",\"input_schema\":{\"description\":\"Decides
      whether a prompt should be adjusted.\\nIf warrants_adjustment is True, we incorporate
      recommended changes.\\nIf not, we respond 'No recommendations.'\",\"properties\":{\"warrants_adjustment\":{\"title\":\"Warrants
      Adjustment\",\"type\":\"boolean\"},\"hypotheses\":{\"anyOf\":[{\"type\":\"string\"},{\"type\":\"null\"}],\"title\":\"Hypotheses\"},\"full_recommendations\":{\"anyOf\":[{\"type\":\"string\"},{\"type\":\"null\"}],\"title\":\"Full
      Recommendations\"}},\"required\":[\"warrants_adjustment\"],\"title\":\"recommend\",\"type\":\"object\"}}]}"
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2RSXW8TMRD8Kys/X6Jc2hRxb6i0qioIFIqg4tDJsbe5bez1xWv3K8p/R75QQcWj
        vbMzO7O7U2RVo7ysu1l9vrx8c/J+e/Vt+fbz5dVdH/vb57N3qlLpacCCQhG9RlWpGFz50CIkSXNS
        lfLBolONMk5ni5OjyWIigRnTZD6bH9ez+VxVygROyEk1P3cvpCkE12UprOMo5Z27Wf3j+MuZOTX+
        pr/7enJx4/2WlotaVYq1L30mUqJtHvt4yEk1u8OfIfGqUdc9gskxIicYYvBDgl4LCN5j1A6E1ky3
        ZDQncOQp6USBpWm55XoK1yGAJyavXQOtugkZdETQDFpSDBz8E+DjgDG1qtDfk0UBDrDOZDUbhMBw
        8ek7pABDRClTEN+G6EedludTWAaQFLNJOSJE3GaK6JGTNHCOaFfabIqGI0PJPQGxJaMTCqSeBEhA
        F+WVQ9/y0RQ+kgjxGtBmM4poB2Pej6kpWsQHNQpchvN6U9B/NgLaGBShlSsmLTygc5MQ15rpGW3L
        x1P4oM1GQAY0JTcpHBaH1I/k/9ruwwNYTJocWogoQ2BBAelDdhZW2PJiNH9IY2xFR4zSwOkIcaht
        CY7YBC4XdtjhmOLoDLSJQeQvudrvf1VKUhi6iFoCvz6ssSC4zcgGVcPZuUrl8Zab3eF8uhQ2yKKa
        enFSV8po02NnIo563WvI7KUeUdv/ayGnV4RHs/3+NwAAAP//AwC5CmXZaAMAAA==
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90acde279b844cb6-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:41:50 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:41:47Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:41:50Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:41:46Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:41:47Z'
      request-id:
      - req_01X1xfNh7wWnQEgugBsa5eYe
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: "{\"max_tokens\":1024,\"messages\":[{\"role\":\"user\",\"content\":\"You
      are reviewing the performance of an AI assistant in a given interaction. \\n\\n##
      Instructions\\n\\nThe current prompt that was used for the session is provided
      below.\\n\\n<current_prompt>\\nYou are an astronomy expert\\n</current_prompt>\\n\\nThe
      developer provided the following instructions around when and how to update
      the prompt:\\n\\n<update_instructions>\\n\\n</update_instructions>\\n\\n## Session
      data\\n\\nAnalyze the following sessions (and any associated user feedback)
      (either conversations with a user or other work that was performed by the assistant):\\n\\n<sessions>\\n<session_b55b8d9d8e9c4f029147aaa1e42b5c72>\\n================================
      Human Message =================================\\n\\nTell me about the solar
      system\\n\\n================================== Ai Message ==================================\\n\\nThe
      solar system consists of...\\n\\nFeedback for session b55b8d9d8e9c4f029147aaa1e42b5c72:\\n<FEEDBACK>\\n{'clarity':
      'needs more structure'}\\n</FEEDBACK>\\n</session_b55b8d9d8e9c4f029147aaa1e42b5c72>\\n</sessions>\\n\\ni##
      Feedback\\n\\nThe following feedback is provided for this session:\\n\\n<feedback>\\n\\n</feedback>\\n\\n##
      Task\\n\\nAnalyze the conversation, including the user\u2019s request and the
      assistant\u2019s response, and evaluate:\\n1. How effectively the assistant
      fulfilled the user\u2019s intent.\\n2. Where the assistant might have deviated
      from user expectations or the desired outcome.\\n3. Specific areas (correctness,
      completeness, style, tone, alignment, etc.) that need improvement.\\n\\nIf the
      prompt seems to do well, then no further action is needed. We ONLY recommend
      updates if there is evidence of failures.\\nWhen failures occur, we want to
      recommend the minimal required changes to fix the problem.\\n\\nFocus on actionable
      changes and be concrete.\\n\\n1. Summarize the key successes and failures in
      the assistant\u2019s response. \\n2. Identify which failure mode(s) best describe
      the issues (examples: style mismatch, unclear or incomplete instructions, flawed
      logic or reasoning, hallucination, etc.).\\n3. Based on these failure modes,
      recommend the most suitable edit strategy. For example, consider::\\n   - Use
      synthetic few-shot examples for style or clarifying decision boundaries.\\n
      \  - Use explicit instruction updates for conditionals, rules, or logic fixes.\\n
      \  - Provide step-by-step reasoning guidelines for multi-step logic problems.\\n4.
      Provide detailed, concrete suggestions for how to update the prompt accordingly.\\n\\nBut
      remember, the final updated prompt should only be changed if there is evidence
      of poor performance, and our recommendations should be minimally invasive.\\nDo
      not recommend generic changes that aren't clearly linked to failure modes.\\n\\nFirst
      think through the conversation and critique the current behavior.\\nIf you believe
      the prompt needs to further adapt to the target context, provide precise recommendations.\\nOtherwise,
      mark `warrants_adjustment` as False and respond with 'No recommendations.'\"},{\"role\":\"assistant\",\"content\":[{\"type\":\"tool_use\",\"name\":\"think\",\"input\":{\"thought\":\"Let
      me analyze the session and feedback systematically:\\n\\n1. Context:\\n- Simple
      query about the solar system\\n- Assistant identified as astronomy expert\\n-
      Feedback indicates need for better structure\\n\\n2. Performance Analysis:\\n-
      Only have fragment of response (\\\"The solar system consists of...\\\")\\n-
      User feedback explicitly mentions structural issues\\n- Current prompt is extremely
      minimal (\\\"You are an astronomy expert\\\")\\n\\n3. Key Issues:\\n- No guidance
      on response structure or format\\n- Lacks instruction on comprehensiveness\\n-
      Missing direction on educational presentation style\"},\"id\":\"toolu_017eTTmNkKD6wR9Nze3NcPxQ\"}]},{\"role\":\"user\",\"content\":[{\"type\":\"tool_result\",\"content\":\"\",\"tool_use_id\":\"toolu_017eTTmNkKD6wR9Nze3NcPxQ\",\"is_error\":false}]},{\"role\":\"assistant\",\"content\":[{\"type\":\"tool_use\",\"name\":\"critique\",\"input\":{\"criticism\":\"The
      current prompt has several significant limitations:\\n\\n1. Too minimal: \\\"You
      are an astronomy expert\\\" provides no guidance on HOW to present information\\n2.
      No structure requirements: Feedback explicitly indicates this is a problem\\n3.
      Missing educational context: No instruction on making content accessible and
      well-organized\\n4. Lacks specifics on depth: No guidance on how detailed responses
      should be\\n5. No format guidelines: Could lead to inconsistent presentation
      across responses\"},\"id\":\"toolu_01X4REcCcmYhjS6HYmmqiN51\"}]},{\"role\":\"user\",\"content\":[{\"type\":\"tool_result\",\"content\":\"\",\"tool_use_id\":\"toolu_01X4REcCcmYhjS6HYmmqiN51\",\"is_error\":false}]}],\"model\":\"claude-3-5-sonnet-latest\",\"tool_choice\":{\"type\":\"any\"},\"tools\":[{\"name\":\"think\",\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"input_schema\":{\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"properties\":{\"thought\":{\"title\":\"Thought\",\"type\":\"string\"}},\"required\":[\"thought\"],\"title\":\"think\",\"type\":\"object\"}},{\"name\":\"critique\",\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"input_schema\":{\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"properties\":{\"criticism\":{\"title\":\"Criticism\",\"type\":\"string\"}},\"required\":[\"criticism\"],\"title\":\"critique\",\"type\":\"object\"}},{\"name\":\"recommend\",\"description\":\"Decides
      whether a prompt should be adjusted.\\nIf warrants_adjustment is True, we incorporate
      recommended changes.\\nIf not, we respond 'No recommendations.'\",\"input_schema\":{\"description\":\"Decides
      whether a prompt should be adjusted.\\nIf warrants_adjustment is True, we incorporate
      recommended changes.\\nIf not, we respond 'No recommendations.'\",\"properties\":{\"warrants_adjustment\":{\"title\":\"Warrants
      Adjustment\",\"type\":\"boolean\"},\"hypotheses\":{\"anyOf\":[{\"type\":\"string\"},{\"type\":\"null\"}],\"title\":\"Hypotheses\"},\"full_recommendations\":{\"anyOf\":[{\"type\":\"string\"},{\"type\":\"null\"}],\"title\":\"Full
      Recommendations\"}},\"required\":[\"warrants_adjustment\"],\"title\":\"recommend\",\"type\":\"object\"}}]}"
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA1RVWW/cNhD+KwM+JYC88NpODOxb0gPokSJokqZFt1iMqZFEmxoqnOGuFSP/vRhq
        7XgfRc71HUM9uNC6jRul352vf72+ur9e/zy/e10yX//54e/b8e1fn13jdJ7IokgEe3KNyynaAYoE
        UWR1jRtTS9FtnI9YWjq7PHt1JomZ9Ozi/OJqfX5x4RrnEyuxus2/D49FNaW4K2JV6yj2XXbn6zf9
        j+Mft+GH/ZfDYb+/1fXvdHiFrnGMo+Vl8mkciVtL5Kmo2zy4A+aMrLLD9raIjrWX5kKNG+Yp6UBC
        4jZuvYI3bRu4B9FcvJZMkOlLCZksR+AQYoQwTjntCXzEHHTe8sUKfmEfS83sUh5RoS+hpRiYjknE
        YtV8YuOGWGHKJMSKGhJv+XIFHybyoZutCLXF1wuMgNOUE/phqTPiXa1SS4wpE6D3JBJuIm35agXv
        c9qHOklLkw51EGRPJ2PUmlMOqAQtKYYIkfYUXeO6EuPuicU6hFHzaWotWAeCKadxUtC02fKWt+6f
        VACtKAOK5sRpnIHuJ8oKhyGBGC6M4SsJBAYfCXPzneH2BC3dTxF5abuCzwOx9TsiCrywGxLX3qZX
        POAscEN9YDgEHQDhJgfqIO0p7wMd4IY646kN+6WGpiNmqdJ9ElpmgoHQ2ghogpR75PDV0rqOsrGN
        BkQFUgdzKvn5qFW/94ugz6c0vAgx9cFjBKEvhUyKLqcRblCCt1bY7k2g1mT1NKlUHRdHEdzRDB1a
        X+QWutCXbJ4aqHoz0h5Zt/xqBW8z4R206cDg0zhFun8qeAQdehI1o4BQXw295ddHkiuYwMZQxNwT
        yCxKo8CLGO4W3SVFzMfzlw0UObGzR6U+5fB1Af6CVv2qgcBMGYwnUmkgFX3+2R4wd98/Sf3qpen6
        DgMrGnd8ugrcAnGPvY2piQkOQ4i0uNrO0PuS0c81Unwg1tAFb7vmg4TEq62zBh+HIFCqpTdbPrOt
        zyRCsgA9WhMjBJFCApyUWhOzI2pv0N9Z0rJpJEf3LKKrjfF9+S3uEY08LsWUJBgiC10A4PLqPMda
        d/xercBPdWnlOdtHey5cp+5JcU1T8LXrb0TTAseb+4+tQ2uU6Hzal8meEMzz02vhvn37r3Giadpl
        Qkl8+iTXi0c7uw2XGBtX6l9g87C8uztNd2RPx/r68qJxHv1AO5+pjrw7DTl/vM//KzUxBVMuv7QE
        WcTYwLy2FgAAAP//AwCgUTOjogYAAA==
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90acde4168374cb6-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:41:57 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:41:52Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:41:57Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:41:51Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:41:52Z'
      request-id:
      - req_01B9xEKhieUmZqd2ZMFu69P1
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are optimizing
      a prompt to handle its target task more effectively.\n\n<current_prompt>\nYou
      are an astronomy expert\n</current_prompt>\n\nWe hypothesize the current prompt
      underperforms for these reasons:\n\n<hypotheses>\n1. Adding structure requirements
      will improve clarity\n2. Including format guidelines will ensure consistent
      presentation\n3. Specifying educational approach will make content more accessible\n4.
      Providing depth guidance will ensure appropriate detail level\n</hypotheses>\n\nBased
      on these hypotheses, we recommend the following adjustments:\n\n<recommendations>\nUpdate
      the prompt to:\n\n\"You are an astronomy expert who specializes in clear, structured
      educational explanations. When providing information:\n\n1. Always begin with
      a brief overview before diving into details\n2. Use clear headings to organize
      different aspects of your explanation\n3. Present information in a logical sequence
      from basic to advanced concepts\n4. Include key facts and figures where relevant\n5.
      Break down complex concepts into digestible segments\n6. When explaining large
      systems (like the solar system), use consistent categorization (e.g., inner
      planets, outer planets, dwarf planets, etc.)\n\nMaintain an educational and
      engaging tone while ensuring accuracy and scientific precision.\"\n\nThis update:\n-
      Addresses the structural issues noted in feedback\n- Provides clear formatting
      guidelines\n- Maintains expert positioning while adding educational context\n-
      Ensures consistent organization of complex topics\n- Keeps the core expert identity
      while adding necessary guidance\n</recommendations>\n\nRespond with the updated
      prompt. Remember to ONLY make changes that are clearly necessary. Aim to be
      minimally invasive:"}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"tool","name":"OptimizedPromptOutput"},"tools":[{"name":"OptimizedPromptOutput","description":"Schema
      for the optimized prompt output.","input_schema":{"description":"Schema for
      the optimized prompt output.","properties":{"analysis":{"description":"First,
      analyze the current results and plan improvements to reconcile them.","title":"Analysis","type":"string"},"improved_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Finally,
      generate the full updated prompt to address the identified issues.   The prompt
      section being optimized contains no input f-string variables. Any brackets {{
      foo }} you emit will be escaped and not used.","title":"Improved Prompt"}},"required":["analysis","improved_prompt"],"title":"OptimizedPromptOutput","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA3xW224bRwz9FWJfkgDywpc4MPTmIG1aoEWCNEWQ1IUwmqF2Wc9y1sMZyWvD/15w
        dleS06BP9s6FPIeHh6PHily1rDppVqdnb+UC11f541nzyf1iP0d7ufly975aVGnoUU+hiGmwWlQx
        eF0wIiTJcKoWVRcc+mpZWW+yw5OLk8sTCcyYTs5Pz1+fnZ6fV4vKBk7IqVr+9TgHTSH4VRaNWqDo
        d16dnl0luXz/7fLrA901NrcP63ffHm4VDJtO733oE3X0gO5jDF2fPuTUZ8VBrH+Xj5Vh4wchqZbV
        5xYhjOdNosDAiE7A9D2aCDv0/uSfLIk2hA4MO0gtQkQbug7ZlSsCxlPDsKPUlm0bIgKJZBQghzze
        ruE3TC8ESvIHHE+2hhuU5Q3f8FkNf6SYbcoR4RPeZYrYISdZgoK0OUbkBH3hBDfV15DBRATDYCTF
        wKEbAO97jOmmAm/sreYaoMnkDFuEwNCGHaQAss8TUfrAglLDtXPEDYTYGJ6KYTzEIyBAAoxWpY5D
        KQYHPiHeGqEt1krivIafQ+xMgveZHHpi/A7/FqNonfsYtuRQgAM4imhL9csGCnIqABawa8m2YEP2
        Djwap/CJbWBtL40XiroH/JuSPum/zR4C7Mh7oE6TIlhvIqWhCBZyGlXQC3vxxjKSjKQuavjJZTuX
        5LrvYzC2HXmtjZCdVXEBhV8kkB4tbYYpYNdlpvE6SBo8PqcVUbJPQAxhi9EPkNC2esH/QB48AlIs
        c59UFur6ENVuyh+MVZFoTZ7SUCi8ruEd9qktsmg3/LCpZvilcAW8K5fC5oDkx5IgpRZjISDU9X70
        S4gzJRu63uO9FtYbHm2z5zQm6WNoosIOfKxci74XsMbTOpo0o0qGPHjcoi/0Ph+bEt3sK+gMcTLE
        3ys72VJ7oCWPYEYgh+beO6SGa+/L/mj1sVX9oEuK9sjgs+XntiJOMbhsNXLmQ+ypFipNEaELjjZT
        f0ix9GHirAewXidRj7F0thp56mP1JDTBeKl1uI2LbjVqWS3/b0DArg1jkxpPDzqmeMyzODB3z3rt
        uXBfWpwdrOyIR9dR4HmUXfudGQTW2NA0GQ2sI+GmdMSWcAdr3KgijrZjjBQmYaXMkT8FJ+4tGk0j
        2mjTeNJrmw2W5jVKJIl26RByPIZavPtxHCjHKJWvAR+a4jLBu4xa2E0M3WToFMC4rZbbqc8s9kmK
        jX5l67NDuMUBNkbz6iDcUJOjat9imaoet4bTDV/W8DaiuQUXdrx3wRxwIk0NSqK1RxBsyqS94TdT
        kQsZYq2QN7FBkEESdgIvPd2ObpDgTZzWXy0ga90O89GahE2I8/P2EuumXgAxYwStEyZZ6BA9/nQ7
        EzeHT0y2fqW6/j7byfCz5tAKIDdmHKKBcbIVsuSoa8baHI0dHw2xNFpGxyZaUsfX1dPT34tKUuhX
        EY0Efv7+l41Zp2rJ2ftFlctPjuXj+LCvUrhFlmp59eZsUVljW1zZiAXj6vmJ03k/onH/3RuflP3K
        xdXV09O/AAAA//8DALwmH/MOCQAA
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90acde6eddb432c6-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:42:05 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:41:59Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:42:05Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:41:58Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:41:59Z'
      request-id:
      - req_014n2a18HkaaGgftWLChMMsT
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: "{\"max_tokens\":1024,\"messages\":[{\"role\":\"user\",\"content\":\"You
      are reviewing the performance of an AI assistant in a given interaction. \\n\\n##
      Instructions\\n\\nThe current prompt that was used for the session is provided
      below.\\n\\n<current_prompt>\\nYou are an astronomy expert\\n</current_prompt>\\n\\nThe
      developer provided the following instructions around when and how to update
      the prompt:\\n\\n<update_instructions>\\n\\n</update_instructions>\\n\\n## Session
      data\\n\\nAnalyze the following sessions (and any associated user feedback)
      (either conversations with a user or other work that was performed by the assistant):\\n\\n<sessions>\\n<session_ecbabceb762a49159513f8bec7fcb81f>\\n================================
      Human Message =================================\\n\\nTell me about the solar
      system\\n\\n================================== Ai Message ==================================\\n\\nThe
      solar system consists of...\\n\\nFeedback for session ecbabceb762a49159513f8bec7fcb81f:\\n<FEEDBACK>\\n{'clarity':
      'needs more structure'}\\n</FEEDBACK>\\n</session_ecbabceb762a49159513f8bec7fcb81f>\\n</sessions>\\n\\ni##
      Feedback\\n\\nThe following feedback is provided for this session:\\n\\n<feedback>\\n\\n</feedback>\\n\\n##
      Task\\n\\nAnalyze the conversation, including the user\u2019s request and the
      assistant\u2019s response, and evaluate:\\n1. How effectively the assistant
      fulfilled the user\u2019s intent.\\n2. Where the assistant might have deviated
      from user expectations or the desired outcome.\\n3. Specific areas (correctness,
      completeness, style, tone, alignment, etc.) that need improvement.\\n\\nIf the
      prompt seems to do well, then no further action is needed. We ONLY recommend
      updates if there is evidence of failures.\\nWhen failures occur, we want to
      recommend the minimal required changes to fix the problem.\\n\\nFocus on actionable
      changes and be concrete.\\n\\n1. Summarize the key successes and failures in
      the assistant\u2019s response. \\n2. Identify which failure mode(s) best describe
      the issues (examples: style mismatch, unclear or incomplete instructions, flawed
      logic or reasoning, hallucination, etc.).\\n3. Based on these failure modes,
      recommend the most suitable edit strategy. For example, consider::\\n   - Use
      synthetic few-shot examples for style or clarifying decision boundaries.\\n
      \  - Use explicit instruction updates for conditionals, rules, or logic fixes.\\n
      \  - Provide step-by-step reasoning guidelines for multi-step logic problems.\\n4.
      Provide detailed, concrete suggestions for how to update the prompt accordingly.\\n\\nBut
      remember, the final updated prompt should only be changed if there is evidence
      of poor performance, and our recommendations should be minimally invasive.\\nDo
      not recommend generic changes that aren't clearly linked to failure modes.\\n\\nFirst
      think through the conversation and critique the current behavior.\\nIf you believe
      the prompt needs to further adapt to the target context, provide precise recommendations.\\nOtherwise,
      mark `warrants_adjustment` as False and respond with 'No recommendations.'\"}],\"model\":\"claude-3-5-sonnet-latest\",\"tool_choice\":{\"type\":\"any\"},\"tools\":[{\"name\":\"think\",\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"input_schema\":{\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"properties\":{\"thought\":{\"title\":\"Thought\",\"type\":\"string\"}},\"required\":[\"thought\"],\"title\":\"think\",\"type\":\"object\"}},{\"name\":\"critique\",\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"input_schema\":{\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"properties\":{\"criticism\":{\"title\":\"Criticism\",\"type\":\"string\"}},\"required\":[\"criticism\"],\"title\":\"critique\",\"type\":\"object\"}}]}"
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA4RV708cNxD9V0b+klbau94dUCn7DVqFEEjaBJoo7VWnwTt3a+EdL54xsCD+98q+
        H4ESKR9tz7yZ9+bN7oNxjalNJ6vFZDrF28+HH9+d7r97e3zadwd/pftzeW0qo0NPOYpEcEWmMjH4
        fIEiThRZTWW60JA3tbEeU0OjvdHBSAIz6Wg2me1PJ7OZqYwNrMRq6n8etqAagl8kyaillXxOi8n0
        XI/uuw/Xh7//zbMLOf3z88cPn5Y5irErea3jq5zEfVJTPxhtQ1q1ampzRgodATL64Z5AWwIb+Iai
        oLrAgNzAkqi5RHsFMohSh+osej/Uc57zdAy/5UbvtIZDSEIRUK6oAbwMSQueBI9xk1uBEF05XsGK
        mCJ6cLwMsSvF5jwbw+FWJ/hE0gcWquFcMSo1oAHorvfo+AUw/LTmBMvkPcRNKnBQ6GO4cQ01P895
        bwxvNmRqOO/JuuWaSw6kBuaGiRqBLkQC0Zispkhzk5me0gAnIomknvMILrJSKUbiUqHrFZwA3Wmk
        jvwAnWPXoYe5+RoSYMwaA4rGwKEbMg+KmpFHcKLg0V4JIA+wSq5BtgSBoQ23mfOukR0vyWkfAjQu
        ki1zCgwN9dpCiGBD10dqicXdEJMIhCUgyy3FbaJsuZfkZYhATVqf0GeMnhpchVVWB7DvY0DbZhUy
        7SU6n7vJNs6PhFFyn5cEfXQdRueHzfz7SEKsBfiXEFfI7n5dM6K2FEHbLIu1KaIdcp8b24+LwDvn
        5bE769QPkOclkMG/6YJZO3B5OmPz+Fj9cGPevD87OjhO+9dH8vrLtDk9+IrI6dvG2OjUXSd6ujTl
        zjrpTG2+M/0WBYRuiqnFrbjIywredW4tgGw35kRfZcECXGKk0WVgEhiBuK73A0gO5tWPjLO1tQCH
        Z6Z5+8eXPAwbui5xnnDeatRNohMqa3bRUqRXJdnxWsiy7mVqm0HlLkLcyZyPTwy4N4b3TqTs8pPy
        xYXVSw9WGQpT4ygHYoO9bpZ+fwxnxf7P3Pw9A2aI8gHgtYdEB09Z0+NcpHwTdo5ZM9lZpAJtnfzP
        reuCfgDX9WiL6hnjOqF3Wty445tt9W9lREO/iIQS+Lm7yoPQdcr0TM3J+8qk8guoH9YeWmi4IhZT
        T6f7v1bGom1pYSMVLovnIZPteyRsXr6FpE9v9iazx8f/AAAA//8DAFBEzeKfBgAA
    headers:
      CF-RAY:
      - 90ace573f8684cb6-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:46:52 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:46:46Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:46:52Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:46:45Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:46:46Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01SkizSvEmPQJdbeeEx3y9v3
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: "{\"max_tokens\":1024,\"messages\":[{\"role\":\"user\",\"content\":\"You
      are reviewing the performance of an AI assistant in a given interaction. \\n\\n##
      Instructions\\n\\nThe current prompt that was used for the session is provided
      below.\\n\\n<current_prompt>\\nYou are an astronomy expert\\n</current_prompt>\\n\\nThe
      developer provided the following instructions around when and how to update
      the prompt:\\n\\n<update_instructions>\\n\\n</update_instructions>\\n\\n## Session
      data\\n\\nAnalyze the following sessions (and any associated user feedback)
      (either conversations with a user or other work that was performed by the assistant):\\n\\n<sessions>\\n<session_ecbabceb762a49159513f8bec7fcb81f>\\n================================
      Human Message =================================\\n\\nTell me about the solar
      system\\n\\n================================== Ai Message ==================================\\n\\nThe
      solar system consists of...\\n\\nFeedback for session ecbabceb762a49159513f8bec7fcb81f:\\n<FEEDBACK>\\n{'clarity':
      'needs more structure'}\\n</FEEDBACK>\\n</session_ecbabceb762a49159513f8bec7fcb81f>\\n</sessions>\\n\\ni##
      Feedback\\n\\nThe following feedback is provided for this session:\\n\\n<feedback>\\n\\n</feedback>\\n\\n##
      Task\\n\\nAnalyze the conversation, including the user\u2019s request and the
      assistant\u2019s response, and evaluate:\\n1. How effectively the assistant
      fulfilled the user\u2019s intent.\\n2. Where the assistant might have deviated
      from user expectations or the desired outcome.\\n3. Specific areas (correctness,
      completeness, style, tone, alignment, etc.) that need improvement.\\n\\nIf the
      prompt seems to do well, then no further action is needed. We ONLY recommend
      updates if there is evidence of failures.\\nWhen failures occur, we want to
      recommend the minimal required changes to fix the problem.\\n\\nFocus on actionable
      changes and be concrete.\\n\\n1. Summarize the key successes and failures in
      the assistant\u2019s response. \\n2. Identify which failure mode(s) best describe
      the issues (examples: style mismatch, unclear or incomplete instructions, flawed
      logic or reasoning, hallucination, etc.).\\n3. Based on these failure modes,
      recommend the most suitable edit strategy. For example, consider::\\n   - Use
      synthetic few-shot examples for style or clarifying decision boundaries.\\n
      \  - Use explicit instruction updates for conditionals, rules, or logic fixes.\\n
      \  - Provide step-by-step reasoning guidelines for multi-step logic problems.\\n4.
      Provide detailed, concrete suggestions for how to update the prompt accordingly.\\n\\nBut
      remember, the final updated prompt should only be changed if there is evidence
      of poor performance, and our recommendations should be minimally invasive.\\nDo
      not recommend generic changes that aren't clearly linked to failure modes.\\n\\nFirst
      think through the conversation and critique the current behavior.\\nIf you believe
      the prompt needs to further adapt to the target context, provide precise recommendations.\\nOtherwise,
      mark `warrants_adjustment` as False and respond with 'No recommendations.'\"},{\"role\":\"assistant\",\"content\":[{\"type\":\"tool_use\",\"name\":\"think\",\"input\":{\"thought\":\"Let
      me analyze the conversation and feedback systematically:\\n\\n1. Context: A
      user asked about the solar system, seeking general information\\n2. Assistant
      Response: Started to explain the solar system (though full response not provided)\\n3.
      Feedback: Specifically noted \\\"needs more structure\\\"\\n\\nKey Issues:\\n-
      The current prompt is extremely minimal \\\"You are an astronomy expert\\\"\\n-
      It lacks any guidance on how to structure responses\\n- No direction on depth
      or comprehensiveness of answers\\n- No specification for educational or pedagogical
      approach\\n\\nThe failure mode appears to be primarily about presentation/organization
      rather than accuracy of content. The feedback explicitly calls out structure
      as an issue.\"},\"id\":\"toolu_01StBzmNqADZn2TsKPVQNRfe\"},{\"type\":\"tool_use\",\"name\":\"critique\",\"input\":{\"criticism\":\"The
      current prompt has several significant limitations:\\n\\n1. It's too bare-bones
      - simply stating \\\"You are an astronomy expert\\\" provides no guidance on
      HOW to communicate that expertise\\n2. There's no instruction about organizing
      or structuring responses\\n3. Missing guidance on depth, comprehensiveness,
      or audience adaptation\\n4. Lacks direction on pedagogical approach or explanation
      style\\n\\nGiven the feedback about structure, this appears to be directly impacting
      the quality of responses.\"},\"id\":\"toolu_01FMLB5Gu4qBs9W1dK5Yaanu\"}]},{\"role\":\"user\",\"content\":[{\"type\":\"tool_result\",\"content\":\"\",\"tool_use_id\":\"toolu_01StBzmNqADZn2TsKPVQNRfe\",\"is_error\":false},{\"type\":\"tool_result\",\"content\":\"\",\"tool_use_id\":\"toolu_01FMLB5Gu4qBs9W1dK5Yaanu\",\"is_error\":false}]}],\"model\":\"claude-3-5-sonnet-latest\",\"tool_choice\":{\"type\":\"any\"},\"tools\":[{\"name\":\"think\",\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"input_schema\":{\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"properties\":{\"thought\":{\"title\":\"Thought\",\"type\":\"string\"}},\"required\":[\"thought\"],\"title\":\"think\",\"type\":\"object\"}},{\"name\":\"critique\",\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"input_schema\":{\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"properties\":{\"criticism\":{\"title\":\"Criticism\",\"type\":\"string\"}},\"required\":[\"criticism\"],\"title\":\"critique\",\"type\":\"object\"}},{\"name\":\"recommend\",\"description\":\"Decides
      whether a prompt should be adjusted.\\nIf warrants_adjustment is True, we incorporate
      recommended changes.\\nIf not, we respond 'No recommendations.'\",\"input_schema\":{\"description\":\"Decides
      whether a prompt should be adjusted.\\nIf warrants_adjustment is True, we incorporate
      recommended changes.\\nIf not, we respond 'No recommendations.'\",\"properties\":{\"warrants_adjustment\":{\"title\":\"Warrants
      Adjustment\",\"type\":\"boolean\"},\"hypotheses\":{\"anyOf\":[{\"type\":\"string\"},{\"type\":\"null\"}],\"title\":\"Hypotheses\"},\"full_recommendations\":{\"anyOf\":[{\"type\":\"string\"},{\"type\":\"null\"}],\"title\":\"Full
      Recommendations\"}},\"required\":[\"warrants_adjustment\"],\"title\":\"recommend\",\"type\":\"object\"}}]}"
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAAwAAAP//ZFVdk1o3DP0rGj8Ds+zHtOEtbZIm0zRN2qRpWjqMsAXXWV/5xpJhyc7+
        947MQqF55FqWjs85Oty7GNzM9bJeXEzf1fd3+OH66sePV/Tmkp+9e/ripz+/upHT3UBWRSK4Jjdy
        JSf7gCJRFFndyPU5UHIz5xPWQOOr8c1YMjPp+PLi8np6cXnpRs5nVmJ1s7/vD00157SoYl0bFPtd
        FxfT1++3f/x883t8/uTTS9399eb1E/r4W3Ujx9jbvUI+9z1xsIs8VHWze7fFUpBVFhg+V9G+zdJS
        aeS63ZC1IyFxMzedwNMQIq9BtFSvtRCsawyUIpPANqYEsR9K3hAUkiGzEOSyRo5fUWPmOV9O4BX7
        VFsXrCESewIMOGir2DfpKA2gGFMuQHdDQt4fBhq0m/PVBN6WvImtySqXHhWU+iGhHmAQi6HzmY1r
        Yh3BllIaP6KhcAQobuRWNaXFkZo2y977Co7foA72ndegHcFQcj8oaJ7Nec5z9ylXwEKADChaMud+
        Z8CpKGy7bPWbGEjAJ8LyCOXIYTh9o0zgY0cMyLKlYgO/VJJ20oZNJ/ADraMRpR0gLEukFeQNlU2k
        LeQCgVaR45HuXx9fDJH3VBmRkTUfwKS8jh4TCPk2pvH7QQhwGEoeSkQl6AiNbQHNsCyEt1AHSJnX
        Z9jnfG3SkBDr/+ZBLoEK5JU5JBdF0z0X8LkfEt1F3c355mAOs0+iDbIC3aEVyKEWS5TMAlsjyXyy
        qsl4eWoWgl2uZ47Z4yVA70kkLhPBtouJoMfIipGbmX0k1riK3upqQb+bwIv/sIHmIXoZgSiaoEb8
        EiV6s5enQQWWtMqFIMSNNWzs9u0DmYspnJIxMbhN4xDFV5G2Co+2aUrk5Wfy2p4sO1HqTfrxqe63
        tAPfYUGvVKJo9GIVz+3lkY8Uq/G4J6KLQ2sYWcmu7eUaw8u47lJcdwqcFY2gFaG5slUbQvNWpFb8
        jTriMTUZe0JbOIsOaHF1p02VtMWdnMRFE+i4eqZOj7fn3iSUnR2sckp5C2jLx4GKRWaYzJ31fd9F
        2a8kNWqexUJe0w4whELSWnd0MjeKVLInNi1gRRSW6G/t7tuz5TwNtFUuh/gyjY6w7dYvjwaSw57f
        ct4mCuuDw/ZBaPcsQipH/xiBYwtRARnIN8/ZwLYNNu7MB3vfuYeHf0ZONA+LQiiZz+O/HQh9qZak
        bsY1pZGr7R9ndr/P+IXmW7JEm353fTNyHn1HC1+oAVqcl1wczgth+PYsVz39cjX9/uHhXwAAAP//
        AwB81yvSDgcAAA==
    headers:
      CF-RAY:
      - 90ace59e398132c6-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:46:59 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:46:53Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:46:59Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:46:52Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:46:53Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01P1k9nsWHT5beixP5dVCxPY
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are optimizing
      a prompt to handle its target task more effectively.\n\n<current_prompt>\nYou
      are an astronomy expert\n</current_prompt>\n\nWe hypothesize the current prompt
      underperforms for these reasons:\n\n<hypotheses>\n1. Adding structure guidelines
      will improve response organization\n2. Including audience adaptation will help
      tailor explanation depth\n3. Providing format templates will ensure consistent,
      well-organized responses\n</hypotheses>\n\nBased on these hypotheses, we recommend
      the following adjustments:\n\n<recommendations>\nI recommend updating the prompt
      to:\n\n\"You are an astronomy expert who provides clear, well-structured explanations.
      When answering questions:\n\n1. Begin with a brief overview or definition\n2.
      Organize information into clear, logical sections\n3. Use appropriate headings
      to break up long explanations\n4. Present information in order of importance
      or complexity\n5. Include relevant examples or comparisons when helpful\n\nAdapt
      your explanations to be accessible while maintaining scientific accuracy. For
      complex topics, start with basic concepts before diving into more detailed information.\n\nWhen
      discussing astronomical objects or systems:\n- Begin with key characteristics\n-
      Explain important relationships or interactions\n- Highlight notable features
      or discoveries\n- Include relevant scale or measurement context\n\nAlways structure
      your responses to make information easy to follow and understand.\"\n\nThis
      update:\n- Directly addresses the structure issue noted in feedback\n- Provides
      clear guidelines for organizing responses\n- Maintains expert knowledge while
      improving communication\n- Adds specific guidance for astronomical topics\n</recommendations>\n\nRespond
      with the updated prompt. Remember to ONLY make changes that are clearly necessary.
      Aim to be minimally invasive:"}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"tool","name":"OptimizedPromptOutput"},"tools":[{"name":"OptimizedPromptOutput","description":"Schema
      for the optimized prompt output.","input_schema":{"description":"Schema for
      the optimized prompt output.","properties":{"analysis":{"description":"First,
      analyze the current results and plan improvements to reconcile them.","title":"Analysis","type":"string"},"improved_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Finally,
      generate the full updated prompt to address the identified issues.   The prompt
      section being optimized contains no input f-string variables. Any brackets {{
      foo }} you emit will be escaped and not used.","title":"Improved Prompt"}},"required":["analysis","improved_prompt"],"title":"OptimizedPromptOutput","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAAwAAAP//fFbvbxs3DP1XCH3aANtInAYp/C3NOqzYj2ZLu2FYBoOW6Ds2OukqSnau
        Qf73gTo7trthnwxLFPn03iN1T4adWZhOmuXZ+cXmcn4pFL77dD3Pv92t7t5eXv360UxMHnrSKBLB
        hszEpOh1AUVYMoZsJqaLjrxZGOuxOJpeTC+nEkOgPJ2fzV+dn83nZmJsDJlCNou/nvZJc4x+WUSz
        Vij6vyzPzn//heXm/KJtf7z4gG8+xlXb0dWVmZiAnZ5732fu+Au52xS7Pr8vuS+Kg4P+Lp4MBvSD
        sJiF+YkydAR15QtBbglsSYlChr6eBgwOEtnYdRQcZo5BFvfhPpzP4GYXeZcx0wI+tLQ/xAL0mBN1
        5AfoOHCHHr65N3/GApi0HqDkFEPsBqDHnlK+N99OwKN94NAAhgGawg6DJYgBEkkfgxBITsXmkghi
        AgVVAtuKCrDvU0TbzhTdfAa3KfZRyMFNi6EhRT2Fa+c0/z4N+lqGPAcS3X8XrC81BItj0vLosM9j
        CceJbObNGHub4oZr7DqmDjNk6nqPmUQXXi7IFj3k2LMVRXYxg58pcYZrERLpKOSKTNn7iudK1Za8
        n34qknnN5KDhDYVRJ0+Y/AAc0NHngvlr6fZZ+z0RdiQC0LlEImMGaLAX2HJuY8kQN5Rs7HpfWQ3N
        PoeUpiEZUXXIISMHWEdbROU5aLlt2StllZZAVvsiDQfZlIFXs50k8K7r0R6uv0Jhu7MDaCNBIi0m
        oAVt3glIDsiTEicHCNz1KkdovnZFcBBTg4G/1AXNcbPnIenFVrVPGT2sSj7CfGB6VQMzJmUE+sgh
        6z3+m9tE0MVE6n8KwhttKgyQh74a4d7s2uHe7M9MamHWWixgUWofDjXVQfjVULEIbSgReO4471wS
        1yd9GwNN1c87F8y08ys55Jbjkln8XyPCto1QyXS088hkdOGLik5DPYYRwAz+aEmZli0lZehz2Vll
        PyjeUMOhegwQVolpXY22YdpqHztac+BRnfkM3o9yEXAYG0t15JDjHoyPTeVStBljkNpUH4XGEdAn
        1l5oCdWEAjnCKhE+QOnBx9CcYK9uvE0kytxpPYjJUVJ2uetjyuMsqlOn9/TIebgPl7PdxFCretpg
        yECPqAGyj8XEojJtlaSWfL8uXnm51rkCQyzpBFHFS4BWfcgrT7ue2nddHV+WKagvrMaVhHaYwfcH
        bLtxMxlNOxI/NpeNwVKfBVa0Vpc6rj1T2a22dZSRPbljMupErRo7FltE6nw8Hm9x9YlsrleWQTJ1
        47Q90v2BBvV7QpspseQ6DafwVm/O4YXirDyORLTc14QcMumxUa4p/MBN67lpM4SYUQlaE6ora7Qi
        VG/x8Tw/Ukcs+ipjRygl1TEC9fF9rE197bc4yNE7UwXavz9VnQ4fTr1JKINurKP3cVtHTgmOkg4W
        NzPPz39PjOTYLxOhxHD6tNcNoc9FHxuzCMX7iSn1a2LxNL7ZyxwfKIhZvL6aT4xF29LSJqrFl6cR
        Z/v9ROj+vRfrt8DLysXry+fnfwAAAP//AwDR0xDK6QgAAA==
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90ace5cd0c3d4cb1-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:47:07 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:47:01Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:47:07Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:47:00Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:47:01Z'
      request-id:
      - req_01HxntLxKguUYDJqYxD1taeN
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are helping
      an AI agent improve. You can do this by changing their system prompt.\n\nThese
      is their current prompt:\n<current_prompt>\nYou are a coding assistant\n</current_prompt>\n\nHere
      are examples of various agent trajectories and associated feedback:\n<data>\n<trajectory
      0>\n===================================== user =====================================\n\nHow
      do I write a bash script?\n================================== assistant ===================================\n\nLet
      me explain bash scripting...\n</trajectory 0>\n<feedback 0>\n{''feedback'':
      ''Response should include a code example''}\n</feedback 0>\n</data>\n\nHere
      are instructions for updating the agent''s prompt:\n\n<instructions>\n\n</instructions>\n\n\nBased
      on this, return an updated prompt\n\nYou should return the full prompt, so if
      there''s anything from before that you want to include, make sure to do that.
      Feel free to override or change anything that seems irrelevant. You do not need
      to update the prompt - if you don''t want to, just return `update_prompt = False`
      and an empty string for new prompt."}],"model":"claude-3-5-sonnet-latest","temperature":0.0,"tool_choice":{"type":"tool","name":"GeneralResponse"},"tools":[{"name":"GeneralResponse","description":"dict()
      -> new empty dictionary\ndict(mapping) -> new dictionary initialized from a
      mapping object''s\n    (key, value) pairs\ndict(iterable) -> new dictionary
      initialized as if via:\n    d = {}\n    for k, v in iterable:\n        d[k]
      = v\ndict(**kwargs) -> new dictionary initialized with the name=value pairs\n    in
      the keyword argument list.  For example:  dict(one=1, two=2)","input_schema":{"type":"object","properties":{"logic":{"type":"string"},"update_prompt":{"type":"boolean"},"new_prompt":{"type":"string"}},"required":["logic","update_prompt","new_prompt"]}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA3xUUW8TMQz+K1Ze9nI9td3GxL2BBAUkHhgMhhiq3MTthebsI3Hoqmn/HeWurQZI
        PEVn+7O/74tzD8Y705gubZbT2ZvFs/Pbq/T8dbq96XXhLxbd56+9qYzueypVlBJuyFQmSigBTMkn
        RVZTmU4cBdMYGzA7mpxPLidJmEkn8+n8Yjadz01lrLASq2m+PRybqkhY5lS6DlTKd15OZx/y65cX
        r3a6na/l/ubdYr6dfWrXpjKMXcEtiCliuKbUC49w7rOa5sEE2XhrGvMSEzkQBm0J1kRuhXYLfZRf
        3pGrhrDNMRJriXa9gk+gIrDC5C0gO3BCic/0iILUk/Vrb2GTvUO2BLiSrODZhuw8b8CKI6B77PpA
        CTxDPFBMNXx6SsSz8xaVEmiLCruWGOi+D+j50Gc82FKvqfqrcWolBwcrOowmV8PbsxAg9w6VBnEH
        USqlrJP4hP7IWlufINLP7CN1xFqbyoz45Yg1jcZMlWHanSLmq2TASIBHjqc9qOHL/1WAxIOVJeo5
        acxWvXBq7viOZzW8CDvcp6Mo6CNa9RbDX/JVwIeQk8Yidi85jlMZh253PK/hPW4JUo6n/AFbuNtA
        GIcb3lEIEytd0U/ujs9r+KgYFXZe28MmnKArWg82trIrAgZPrZTcPfhylC5HChc1vBqdGG5jS/uh
        Vpi4OLEG5P0oay/5uGHFhmvqqFtRHBfjOMwXjBKPU2m9Jqv+V7lpZPiRk4JSCKVyWCWvZdpolRLa
        tmT6KJuIXff0Tmrz+Pi9MkmlX0bCJPznsxwSiX5mYkum4RxCZfLwJ2gexle3VNkSJ9NcXU4rY9G2
        tLSRBiOWf1ac8pHQ/ZuTrE8j8+nl4+NvAAAA//8DABJj35mlBAAA
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90ace5fbba2232b3-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:47:11 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:47:08Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:47:11Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:47:07Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:47:08Z'
      request-id:
      - req_01XCYM7bJW69TijAxbXh8esT
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are helping
      an AI assistant learn by optimizing its prompt.\n\n## Background\n\nBelow is
      the current prompt:\n\n<current_prompt>\nYou are a quantum computing expert\n</current_prompt>\n\nThe
      developer provided these instructions regarding when/how to update:\n\n<update_instructions>\n\n</update_instructions>\n\n##
      Session Data\nAnalyze the session(s) (and any user feedback) below:\n\n<sessions>\n<session_d9fe27740de94f69b1bd789d6215f3e2>\n================================
      Human Message =================================\n\nExplain quantum computing\n\n==================================
      Ai Message ==================================\n\nQuantum computing uses...\n\nFeedback
      for session d9fe27740de94f69b1bd789d6215f3e2:\n<FEEDBACK>\nNeed better organization
      and concrete examples\n</FEEDBACK>\n</session_d9fe27740de94f69b1bd789d6215f3e2>\n</sessions>\n\n##
      Instructions\n\n1. Reflect on the agent''s performance on the given session(s)
      and identify any real failure modes (e.g., style mismatch, unclear or incomplete
      instructions, flawed reasoning, etc.).\n2. Recommend the minimal changes necessary
      to address any real failures. If the prompt performs perfectly, simply respond
      with the original prompt without making any changes.\n3. Retain any f-string
      variables in the existing prompt exactly as they are (e.g. {variable_name}).\n\nIFF
      changes are warranted, focus on actionable edits. Be concrete. Edits should
      be appropriate for the identified failure modes. For example, consider synthetic
      few-shot examples for style or clarifying decision boundaries, or adding or
      modifying explicit instructions for conditionals, rules, or logic fixes; or
      provide step-by-step reasoning guidelines for multi-step logic problems if the
      model is failing to reason appropriately."}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"any"},"tools":[{"name":"think","description":"Reflection
      tool implementation.","input_schema":{"description":"Reflection tool implementation.","properties":{"thought":{"title":"Thought","type":"string"}},"required":["thought"],"title":"think","type":"object"}},{"name":"critique","description":"Critique
      tool implementation.","input_schema":{"description":"Critique tool implementation.","properties":{"criticism":{"title":"Criticism","type":"string"}},"required":["criticism"],"title":"critique","type":"object"}},{"name":"OptimizedPromptOutput","description":"Schema
      for the optimized prompt output.","input_schema":{"description":"Schema for
      the optimized prompt output.","properties":{"analysis":{"description":"First,
      analyze the current results and plan improvements to reconcile them.","title":"Analysis","type":"string"},"improved_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Finally,
      generate the full updated prompt to address the identified issues.   The prompt
      section being optimized contains no input f-string variables. Any brackets {{
      foo }} you emit will be escaped and not used.","title":"Improved Prompt"}},"required":["analysis","improved_prompt"],"title":"OptimizedPromptOutput","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAAwAAAP//lJZdc1M3EIb/yo5uemO7tkPI4DvyAS3QQAlMAnXHI0vrcxTrrE60Uuxj
        Jv+9Ix1/BUOb3tlH0mr1vs+u9E0YLUai4mLSH3x6eTlvjl59fX39+cVVoz+rczU9YdERoakxzUJm
        WaDoCO9s+iCZDQdJQXRE5TRaMRLKyqixe9Q97rIjwtAd9ofPBv3hUHSEchSQghj99W0TNDhnJ5FT
        1JxK+h8n/cFJfTX14cq/m9/o5vRPvLtd3p8b0REkq7yuNDRPi6iOQYy+iVC6WJRBjMQ7DFAhSJK2
        WSGEEkFF75EC1N5VdQBJGhiZjSOo0c+cryQpHI1pTIMefDpcYRhwGTxWaBuoDJlK2g44sg1wkMFQ
        AWPxxUWQHkHCXZQUYgXKVXXMo7is0YexGNOwB6eSUYOjnNsMUU+lmnfyP49cO2IEK9Uc9WhMANCF
        M4vSg/OFJLOSwTj6lYOPKkSPsJnjSHkMCLiUVW2RITgw1kYOXgYE5UhhHXhMR+0Z12fTDpl+yUe9
        NzoJ10ARjU6SpCRLt0iRdvvhsraSchYMzoMhZaNO8aQKRkm7zWBMz3rwynmQWQqLSwiuNgqsmeOh
        Sh2onEfgGpWZGQWG2k3zRgsXrYYSbQ1InPJI6zyWSGzusQMLtLa7zVJvpWTx8ND5T+BuZjfHwyG/
        rm7rt9Kf0+JLuTqjHXDKm2DuIu4zl78pw5UYibfYgGGOyLAwofwOoFELlnMbeKCbHebdYfcl31Kw
        Ez0xq7EOZSbo0u2Lk43+qQnJIo/SdhfOWw2yrq1RrXsZhT8Mc0JUG49tOEdQyXn6tnFtww5IpVLh
        TC1mby8dzLyscOH8HGZui+ga+R0m3HDASubMbPMkR64/fH3x4uLMn1xc0+3Vm3p1cq2K1c6R93Uw
        lVmh/pAlfh9DsmXPntwB2LAYiT3cCVEzsCkoyS4pAFKZhK+SXcGB1Nojcy5Ho5GCmRnUW3NLYxEq
        aShIQ7vSNoxtVZkqFVKOxsBlpnbmVGRwtOkwL7VOK38MepJxD+N9GbP3H/EuGt+6833FJ0r+zeuL
        qi4lt/6k8yUx0pmnHuUctFvQgeXZ598zXWnVPqZrSB4ZvQPkB1IFVCVlOKVS0Uv1NBLeXJjz4WX1
        6uZsEIbDwW29uvtw+uV/kLD2RE9aBsToCb0aFqUDXCq0DDI8oSCedN4eXJdIrWTtnMP9N7E3tFxt
        m0Djon8st0oXg23anmNdkTervSv8+n6beVfBLJKWiUhpuUX8Pnmo90we9uClXciGt53kx3SlonKF
        Obhd5DT9UOHxNfObKUprijL8jMocc9ezIiMoyeub4/SQSqNRphSDA20K5JCVT6OOUsWN6bgHZ66q
        5bpnpjeHlxzWXdmmR0vaaSf3Ihni0eK9pDCm5z34nLLIN26JMlHfprnubZgeD3u1ah0V6L+r0zF9
        xAqrKfpcXtLmmtnxUHtUJhuU89pQZKwJTae94A5Ly6fXjPPpoQMNBoik0acXmJZJhZRMJkRGbZAU
        9sTDw98dwcHVE4+SHT0usjzAeBfTZDGiaG1HxPzIS0WTqmcS3ByJxWjQf37cEUqqEifKY05p8nhK
        fzPuUerDMZfLcvvluH/08PAPAAAA//8DACJzvxuBCgAA
    headers:
      CF-RAY:
      - 90ace6198d1832c5-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:47:21 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:47:13Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:47:21Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:47:12Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:47:13Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01A4aAv8fkYrUzvG1RrGmtZZ
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are helping
      an AI assistant learn by optimizing its prompt.\n\n## Background\n\nBelow is
      the current prompt:\n\n<current_prompt>\nYou are a quantum computing expert\n</current_prompt>\n\nThe
      developer provided these instructions regarding when/how to update:\n\n<update_instructions>\n\n</update_instructions>\n\n##
      Session Data\nAnalyze the session(s) (and any user feedback) below:\n\n<sessions>\n<session_d9fe27740de94f69b1bd789d6215f3e2>\n================================
      Human Message =================================\n\nExplain quantum computing\n\n==================================
      Ai Message ==================================\n\nQuantum computing uses...\n\nFeedback
      for session d9fe27740de94f69b1bd789d6215f3e2:\n<FEEDBACK>\nNeed better organization
      and concrete examples\n</FEEDBACK>\n</session_d9fe27740de94f69b1bd789d6215f3e2>\n</sessions>\n\n##
      Instructions\n\n1. Reflect on the agent''s performance on the given session(s)
      and identify any real failure modes (e.g., style mismatch, unclear or incomplete
      instructions, flawed reasoning, etc.).\n2. Recommend the minimal changes necessary
      to address any real failures. If the prompt performs perfectly, simply respond
      with the original prompt without making any changes.\n3. Retain any f-string
      variables in the existing prompt exactly as they are (e.g. {variable_name}).\n\nIFF
      changes are warranted, focus on actionable edits. Be concrete. Edits should
      be appropriate for the identified failure modes. For example, consider synthetic
      few-shot examples for style or clarifying decision boundaries, or adding or
      modifying explicit instructions for conditionals, rules, or logic fixes; or
      provide step-by-step reasoning guidelines for multi-step logic problems if the
      model is failing to reason appropriately."},{"role":"assistant","content":[{"type":"text","text":"[{''id'':
      ''toolu_017pSbrtSrLkXdyBQeqjxvDi'', ''input'': {''thought'': ''Let me analyze
      the current prompt and session performance:\\n\\n1. The current prompt is extremely
      minimal, only stating \"You are a quantum computing expert\"\\n2. Based on the
      feedback, the response lacked:\\n   - Clear organization/structure \\n   - Concrete
      examples to illustrate concepts\\n3. The prompt doesn\\''t provide any guidance
      on how to structure explanations or include practical examples\\n4. For a complex
      topic like quantum computing, more specific instructions would help ensure comprehensive,
      well-structured responses''}, ''name'': ''think'', ''type'': ''tool_use''},
      {''id'': ''toolu_01XfX522sGmjpKarDnwYhzCn'', ''input'': {''criticism'': ''Key
      issues with current prompt:\\n1. Too minimal - lacks specific guidance on response
      structure and depth\\n2. No instruction to include practical examples or real-world
      applications\\n3. Missing direction on making complex concepts accessible\\n4.
      No framework for organizing explanations systematically''}, ''name'': ''critique'',
      ''type'': ''tool_use''}, {''id'': ''toolu_01WPZ99ECr7EWnjSJpz7Wcgz'', ''input'':
      {''analysis'': ''The prompt needs significant enhancement to address the identified
      issues while maintaining expertise. The improvements should focus on:\\n\\n1.
      Adding specific instructions for structured explanations\\n2. Requiring concrete
      examples and real-world applications\\n3. Emphasizing the need to break down
      complex concepts\\n4. Including guidance on making explanations accessible while
      maintaining technical accuracy''}, ''name'': ''OptimizedPromptOutput'', ''type'':
      ''tool_use''}, {''id'': ''toolu_01JEiD2NmFXC1t221jpzqPBY'', ''input'': {''improved_prompt'':
      ''You are a quantum computing expert who excels at making complex concepts accessible
      while maintaining technical accuracy. When explaining quantum computing concepts:\\n\\n1.
      Structure your explanations clearly with logical progression from fundamentals
      to advanced concepts\\n2. Always include concrete examples and analogies to
      illustrate abstract concepts\\n3. Highlight real-world applications and practical
      use cases\\n4. Break down complex ideas into digestible components\\n5. Compare
      and contrast with classical computing when relevant\\n6. Use clear headings
      and organized sections for longer explanations\\n\\nRemember to balance technical
      precision with accessibility, ensuring explanations are thorough yet understandable
      for your audience.''}, ''name'': ''OptimizedPromptOutput'', ''type'': ''tool_use''}]"},{"type":"tool_use","name":"OptimizedPromptOutput","input":{"analysis":"The
      prompt needs significant enhancement to address the identified issues while
      maintaining expertise. The improvements should focus on:\n\n1. Adding specific
      instructions for structured explanations\n2. Requiring concrete examples and
      real-world applications\n3. Emphasizing the need to break down complex concepts\n4.
      Including guidance on making explanations accessible while maintaining technical
      accuracy"},"id":"toolu_01WPZ99ECr7EWnjSJpz7Wcgz"}]},{"role":"user","content":[{"type":"tool_result","content":"Error:\n\n```\n1
      validation error for OptimizedPromptOutput\n  Assertion failed,  [type=assertion_error,
      input_value={''analysis'': ''The prompt ...ing technical accuracy''}, input_type=dict]\n    For
      further information visit https://errors.pydantic.dev/2.10/v/assertion_error\n```\nExpected
      Parameter Schema:\n\n```json\n{''description'': ''Schema for the optimized prompt
      output.'', ''properties'': {''analysis'': {''description'': ''First, analyze
      the current results and plan improvements to reconcile them.'', ''title'': ''Analysis'',
      ''type'': ''string''}, ''improved_prompt'': {''anyOf'': [{''type'': ''string''},
      {''type'': ''null''}], ''description'': ''Finally, generate the full updated
      prompt to address the identified issues.   The prompt section being optimized
      contains no input f-string variables. Any brackets {{ foo }} you emit will be
      escaped and not used.'', ''title'': ''Improved Prompt''}}, ''required'': [''analysis'',
      ''improved_prompt''], ''title'': ''OptimizedPromptOutput'', ''type'': ''object''}\n```\nPlease
      use PatchFunctionErrors to fix all validation errors. for json_doc_id=[toolu_01WPZ99ECr7EWnjSJpz7Wcgz].","tool_use_id":"toolu_01WPZ99ECr7EWnjSJpz7Wcgz","is_error":true}]}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"any"},"tools":[{"name":"PatchFunctionErrors","description":"Respond
      with all JSONPatch operations required to update the previous invalid function
      call.\n\nUse to correct all validation errors in non-compliant function calls,
      or to extend or update existing structured data in the presence of new information.
      Closely analyze\nthe parameters from the original JSONSchema to ensure the patched
      document will be valid\nand that you avoid repeating the same errors.","input_schema":{"properties":{"json_doc_id":{"description":"The
      ID of the function you are patching.","type":"string"},"planned_edits":{"description":"Write
      a bullet-point list of each ValidationError you encountered and the corresponding
      JSONPatch operation needed to heal it. For each operation, write why your initial
      guess was incorrect,  citing the corresponding types(s) from the JSONSchema
      that will be used the validate the resultant patched document.  Think step-by-step
      to ensure no error is overlooked.","type":"string"},"patches":{"description":"A
      list of JSONPatch operations to be applied to the previous tool call''s response
      arguments. If none are required, return an empty list. This field is REQUIRED.
      Multiple patches in the list are applied sequentially in the order provided,
      with each patch building upon the result of the previous one.","items":{"description":"A
      JSON Patch document represents an operation to be performed on a JSON document.\n\nNote
      that the op and path are ALWAYS required. Value is required for ALL operations
      except ''remove''.","examples":[{"op":"replace","path":"/path/to/my_array/1","value":"the
      newer value to be patched"},{"op":"replace","path":"/path/to/broken_object","value":{"new":"object"}},{"op":"add","path":"/path/to/my_array/-","value":["some","values"]},{"op":"add","path":"/path/to/my_array/-","value":["newer"]},{"op":"remove","path":"/path/to/my_array/1"}],"properties":{"op":{"description":"The
      operation to be performed. Must be one of ''add'', ''remove'', ''replace''.","enum":["add","remove","replace"],"type":"string"},"path":{"description":"A
      JSON Pointer path that references a location within the target document where
      the operation is performed. Note: patches are applied sequentially. If you remove
      a value, the collection size changes before the next patch is applied.","type":"string"},"value":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"type":"null"}]},"type":"object"},{"type":"null"}],"description":"The
      value to be used within the operation. REQUIRED for ''add'', ''replace'', and
      ''test'' operations. Pay close attention to the json schema to ensure patched
      document will be valid."}},"required":["op","path","value"],"type":"object"},"type":"array"}},"required":["json_doc_id","planned_edits","patches"],"type":"object"}},{"name":"PatchFunctionName","description":"Call
      this if the tool message indicates that you previously invoked an invalid tool,
      (e.g., \"Unrecognized tool name\" error), do so here.","input_schema":{"properties":{"json_doc_id":{"description":"The
      ID of the function you are patching.","type":"string"},"reasoning":{"description":"At
      least 2 logical reasons why this action ought to be taken.Cite the specific
      error(s) mentioned to motivate the fix.","items":{"type":"string"},"type":"array"},"fixed_name":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"If
      you need to change the name of the function (e.g., from an \"Unrecognized tool
      name\" error), do so here. Must be one of think, critique, OptimizedPromptOutput"}},"required":["json_doc_id","reasoning","fixed_name"],"type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA3xUwVIcRwz9FVVffBnWsECI95YQ4hSVIsaELHbWNSW6xUxDj3roVrO7UFTlW/Jp
        +ZKUesE2cVVuMyPp6ek9jR6Md2Zmhty12zsXp2cX59fz84uVXc3/iIcDHZycHprGyHokzaKcsSPT
        mBSDfsCcfRZkMY0ZoqNgZsYGLI62drf2t3JkJtmabk/3dranU9MYG1mIxcz+fHgGlRhDW7KiVir6
        XtrtnbfH1/77U/fxpw+/7h/Ob6bXMb/tBtMYxkHr3qHY/ufCVnzko5RiygrBYxEzezDXOXLrom1f
        gM7ffXzz5ugwHRzN+frseLw/mNvu3jRmDMhMriXnJZuZ+eevv+H3niAm33nGAFdPncBiCLDEDIPP
        2XMH0hMkui0+kYNXfhhTvCPXjikOo7yCERMOJJQArY3J1ZJYq47Pfjs5sz0NuGBteELkNIbO1fj/
        gS299DWpjA6FHGxSQGilboyqDuUqdBzVKuc2n3szM6+rTK//A28ac4ehqLgfYgFMBAi3BVnKADYO
        YxElT6uRksCyj0ArSyEDCgx4ozHNCrQCG9nSKFlnppz9ZSBY9j4QDOhZ0HOVgWzP3mLQtJLQricw
        74m1RXjK+bb/M/ZswQvemcCZpGKlJIJ1LGlTy6heZbCBMIX1Rq0Qu9psTLFLyioyXKU4qLcOB2LB
        kDf63yFbcp9bLXg6gR/CEtcZPNtQHNVYIiGgFerQGZAdIKO2oYrjQyhZEgoBXuqDla8gdyfwi+/6
        4LteIBGGrWVMwQGOY/D2aQDFHLWwMi+ZwGKmvOC9CfyYCG/AxSV/1t07QqUoEZzvKEtVXqORibXr
        /gQO4zBWc7lOKAmzbBSyQf9o7fRF7qUakijQHbIs+LsJnCsLFRZ6Qt3nDc2YOmR/Tw4y2Q37q5gg
        RO7opS1q3HsaaLikpDpdYlC9v9qHMZH11aDK63mLfPCyboA4l/S0il+81pGkjymWroc1CRR2lPQ8
        OVQVlEzdECzOE1uamMdPj4+fGpMljm0izJFfHqQayHRbNN3MuITQmFJv4Oxhc2taiTfE2cx2p9O9
        xli0PbU2USXVvkzZfo4nQvdtLBZ5Abiz//j4LwAAAP//AwAU+5FNoAUAAA==
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90ace653dcf34caf-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:47:26 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '398000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:47:23Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:47:25Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:47:21Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '478000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:47:23Z'
      request-id:
      - req_01Tpdju9ioL1x99jCAUGpk8x
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: "{\"max_tokens\":1024,\"messages\":[{\"role\":\"user\",\"content\":\"You
      are reviewing the performance of an AI assistant in a given interaction. \\n\\n##
      Instructions\\n\\nThe current prompt that was used for the session is provided
      below.\\n\\n<current_prompt>\\nYou are an astronomy expert\\n</current_prompt>\\n\\nThe
      developer provided the following instructions around when and how to update
      the prompt:\\n\\n<update_instructions>\\n\\n</update_instructions>\\n\\n## Session
      data\\n\\nAnalyze the following sessions (and any associated user feedback)
      (either conversations with a user or other work that was performed by the assistant):\\n\\n<sessions>\\n<session_5a0c6a8a0071431d8a702c3f656d785d>\\n================================
      Human Message =================================\\n\\nTell me about the solar
      system\\n\\n================================== Ai Message ==================================\\n\\nThe
      solar system consists of...\\n\\nFeedback for session 5a0c6a8a0071431d8a702c3f656d785d:\\n<FEEDBACK>\\n{'clarity':
      'needs more structure'}\\n</FEEDBACK>\\n</session_5a0c6a8a0071431d8a702c3f656d785d>\\n</sessions>\\n\\ni##
      Feedback\\n\\nThe following feedback is provided for this session:\\n\\n<feedback>\\n\\n</feedback>\\n\\n##
      Task\\n\\nAnalyze the conversation, including the user\u2019s request and the
      assistant\u2019s response, and evaluate:\\n1. How effectively the assistant
      fulfilled the user\u2019s intent.\\n2. Where the assistant might have deviated
      from user expectations or the desired outcome.\\n3. Specific areas (correctness,
      completeness, style, tone, alignment, etc.) that need improvement.\\n\\nIf the
      prompt seems to do well, then no further action is needed. We ONLY recommend
      updates if there is evidence of failures.\\nWhen failures occur, we want to
      recommend the minimal required changes to fix the problem.\\n\\nFocus on actionable
      changes and be concrete.\\n\\n1. Summarize the key successes and failures in
      the assistant\u2019s response. \\n2. Identify which failure mode(s) best describe
      the issues (examples: style mismatch, unclear or incomplete instructions, flawed
      logic or reasoning, hallucination, etc.).\\n3. Based on these failure modes,
      recommend the most suitable edit strategy. For example, consider::\\n   - Use
      synthetic few-shot examples for style or clarifying decision boundaries.\\n
      \  - Use explicit instruction updates for conditionals, rules, or logic fixes.\\n
      \  - Provide step-by-step reasoning guidelines for multi-step logic problems.\\n4.
      Provide detailed, concrete suggestions for how to update the prompt accordingly.\\n\\nBut
      remember, the final updated prompt should only be changed if there is evidence
      of poor performance, and our recommendations should be minimally invasive.\\nDo
      not recommend generic changes that aren't clearly linked to failure modes.\\n\\nFirst
      think through the conversation and critique the current behavior.\\nIf you believe
      the prompt needs to further adapt to the target context, provide precise recommendations.\\nOtherwise,
      mark `warrants_adjustment` as False and respond with 'No recommendations.'\"}],\"model\":\"claude-3-5-sonnet-latest\",\"tool_choice\":{\"type\":\"any\"},\"tools\":[{\"name\":\"think\",\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"input_schema\":{\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"properties\":{\"thought\":{\"title\":\"Thought\",\"type\":\"string\"}},\"required\":[\"thought\"],\"title\":\"think\",\"type\":\"object\"}},{\"name\":\"critique\",\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"input_schema\":{\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"properties\":{\"criticism\":{\"title\":\"Criticism\",\"type\":\"string\"}},\"required\":[\"criticism\"],\"title\":\"critique\",\"type\":\"object\"}}]}"
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA4SUUW9aORCF/8rIL325UKBJ272P22y3VTdRlaBoq2WFjD2AN/b4xjOG3ET898oG
        kqA+7AsStud4/J0z90k5q1oVeDUfjT98uaDrbe/ubq8eL87//gPF/rh8VI2SvsNyCpn1ClWjUvRl
        QTM7Fk2iGhWiRa9aZbzOFgfvBucDjkQog8locjYeTSaqUSaSIIlq/3k6ikqMfp65qNZWyv88H41/
        ++/99eb7dnF9G25v+ON0Eu6n3VQ1inSodWtHd6WIuiyqfVKyjnm1FtWqv1AgIGjSvn9EkDWCibTB
        xFpcJNBk62KX4sZZtLBEtAtt7toZzWg8hE+lzQdp4XfNzoBmSZFi6OE+I+8lFjFLFeHodQLuWTDM
        aDKETzklJCnqoZMWbjH1EBy5oD3M1I+YQafS3StdfOgwyUzN6N0QPh+6AUfWGS3IkJC7SIwwU4Ro
        GUJMCCwpG8kJS+HZEK4iLLP3L6c3jt3CI0gE3GiftVQSxQLQxuSkTV+e/DnFALJ2DN4FJ2jBatEN
        bBGMJnAWSdyyB44BwXjUCRxzRm5nNIDpHmXoBByDxAgLnXCwiIRcWXtt7hhW2VlNBiESdAkZSaod
        b1+ecRA72gHcoXFLZ7T3PZRfhoL9uQA0gy53L3yBX6sTvmGgeHKdiaFLuEZit0FCZogJLHayruTN
        vhEuCpeO2dEKrEtoqtWRYB23hWFMK03uEauex4dnA0uH4GgZU6hKardr/jfgZ7w4O99ul39+vLiw
        08vLq2/h7Et8CbhJTtx9xtcZr2vGcVCt+oY9LLXzhUMZPj765NC2NcY30nt8e/NM69Jx0GLWbaVc
        TDr6ZiMyvZHjRICm/gTgAcAL+GPEuEb+K+2JCMJX2h8qPNuSyBOQlXnzqx9NMeSAtxKsg3D04jCO
        8F0nHVAw7ZWf01HVlzGB6LRCAZ2tw9p5OlrlpAePG/Ql7uX15mRKS3AdcV4unXFluaghcU7lfhOp
        fOeQpIyE94NnDvY0AvjQeU37MA3Vbvdvo1hiN0+oOdJpFuoG430unaqWsveNyvX72j7tHZ9LvENi
        1Y7H5+8bZbRZ49wkrBfMT4+MjvsJtf11L2Z5vTL5MNrtfgIAAP//AwB80kwx/AUAAA==
    headers:
      CF-RAY:
      - 90acecc34e514caf-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:51:52 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:51:46Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:51:52Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:51:45Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:51:46Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01KU5egnDhkbVXQ5L5LFfmhD
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: "{\"max_tokens\":1024,\"messages\":[{\"role\":\"user\",\"content\":\"You
      are reviewing the performance of an AI assistant in a given interaction. \\n\\n##
      Instructions\\n\\nThe current prompt that was used for the session is provided
      below.\\n\\n<current_prompt>\\nYou are an astronomy expert\\n</current_prompt>\\n\\nThe
      developer provided the following instructions around when and how to update
      the prompt:\\n\\n<update_instructions>\\n\\n</update_instructions>\\n\\n## Session
      data\\n\\nAnalyze the following sessions (and any associated user feedback)
      (either conversations with a user or other work that was performed by the assistant):\\n\\n<sessions>\\n<session_5a0c6a8a0071431d8a702c3f656d785d>\\n================================
      Human Message =================================\\n\\nTell me about the solar
      system\\n\\n================================== Ai Message ==================================\\n\\nThe
      solar system consists of...\\n\\nFeedback for session 5a0c6a8a0071431d8a702c3f656d785d:\\n<FEEDBACK>\\n{'clarity':
      'needs more structure'}\\n</FEEDBACK>\\n</session_5a0c6a8a0071431d8a702c3f656d785d>\\n</sessions>\\n\\ni##
      Feedback\\n\\nThe following feedback is provided for this session:\\n\\n<feedback>\\n\\n</feedback>\\n\\n##
      Task\\n\\nAnalyze the conversation, including the user\u2019s request and the
      assistant\u2019s response, and evaluate:\\n1. How effectively the assistant
      fulfilled the user\u2019s intent.\\n2. Where the assistant might have deviated
      from user expectations or the desired outcome.\\n3. Specific areas (correctness,
      completeness, style, tone, alignment, etc.) that need improvement.\\n\\nIf the
      prompt seems to do well, then no further action is needed. We ONLY recommend
      updates if there is evidence of failures.\\nWhen failures occur, we want to
      recommend the minimal required changes to fix the problem.\\n\\nFocus on actionable
      changes and be concrete.\\n\\n1. Summarize the key successes and failures in
      the assistant\u2019s response. \\n2. Identify which failure mode(s) best describe
      the issues (examples: style mismatch, unclear or incomplete instructions, flawed
      logic or reasoning, hallucination, etc.).\\n3. Based on these failure modes,
      recommend the most suitable edit strategy. For example, consider::\\n   - Use
      synthetic few-shot examples for style or clarifying decision boundaries.\\n
      \  - Use explicit instruction updates for conditionals, rules, or logic fixes.\\n
      \  - Provide step-by-step reasoning guidelines for multi-step logic problems.\\n4.
      Provide detailed, concrete suggestions for how to update the prompt accordingly.\\n\\nBut
      remember, the final updated prompt should only be changed if there is evidence
      of poor performance, and our recommendations should be minimally invasive.\\nDo
      not recommend generic changes that aren't clearly linked to failure modes.\\n\\nFirst
      think through the conversation and critique the current behavior.\\nIf you believe
      the prompt needs to further adapt to the target context, provide precise recommendations.\\nOtherwise,
      mark `warrants_adjustment` as False and respond with 'No recommendations.'\"},{\"role\":\"assistant\",\"content\":[{\"type\":\"tool_use\",\"name\":\"think\",\"input\":{\"thought\":\"Let
      me analyze the conversation and the provided feedback:\\n\\n1. Context: Basic
      astronomy question about the solar system\\n2. Current prompt: Very minimal
      \\\"You are an astronomy expert\\\"\\n3. Feedback indicates response \\\"needs
      more structure\\\"\\n4. No full response visible to evaluate content accuracy\\n\\nFrom
      this limited data, we can identify some clear issues:\\n- The prompt is too
      bare-bones and lacks guidance on presentation/structure\\n- The feedback specifically
      calls out structure as a problem\\n- There's no guidance on comprehensiveness
      or depth expectations\\n- Missing direction on how to organize complex astronomical
      information\"},\"id\":\"toolu_019j6RvPwbRVmVSs8T2mqTpT\"},{\"type\":\"tool_use\",\"name\":\"critique\",\"input\":{\"criticism\":\"Key
      failure modes identified:\\n1. Style/Structure Mismatch: The bare prompt doesn't
      provide any guidance on how to structure responses\\n2. Incomplete Instructions:
      No direction on depth, comprehensiveness, or organization\\n3. Missing Context
      Parameters: No specification for target audience or complexity level\\n\\nThe
      current prompt is insufficient for ensuring consistent, well-structured astronomical
      explanations.\"},\"id\":\"toolu_014sb45wwfG8DDdTMMNKm4Ho\"}]},{\"role\":\"user\",\"content\":[{\"type\":\"tool_result\",\"content\":\"\",\"tool_use_id\":\"toolu_019j6RvPwbRVmVSs8T2mqTpT\",\"is_error\":false},{\"type\":\"tool_result\",\"content\":\"\",\"tool_use_id\":\"toolu_014sb45wwfG8DDdTMMNKm4Ho\",\"is_error\":false}]}],\"model\":\"claude-3-5-sonnet-latest\",\"tool_choice\":{\"type\":\"any\"},\"tools\":[{\"name\":\"think\",\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"input_schema\":{\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"properties\":{\"thought\":{\"title\":\"Thought\",\"type\":\"string\"}},\"required\":[\"thought\"],\"title\":\"think\",\"type\":\"object\"}},{\"name\":\"critique\",\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"input_schema\":{\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"properties\":{\"criticism\":{\"title\":\"Criticism\",\"type\":\"string\"}},\"required\":[\"criticism\"],\"title\":\"critique\",\"type\":\"object\"}},{\"name\":\"recommend\",\"description\":\"Decides
      whether a prompt should be adjusted.\\nIf warrants_adjustment is True, we incorporate
      recommended changes.\\nIf not, we respond 'No recommendations.'\",\"input_schema\":{\"description\":\"Decides
      whether a prompt should be adjusted.\\nIf warrants_adjustment is True, we incorporate
      recommended changes.\\nIf not, we respond 'No recommendations.'\",\"properties\":{\"warrants_adjustment\":{\"title\":\"Warrants
      Adjustment\",\"type\":\"boolean\"},\"hypotheses\":{\"anyOf\":[{\"type\":\"string\"},{\"type\":\"null\"}],\"title\":\"Hypotheses\"},\"full_recommendations\":{\"anyOf\":[{\"type\":\"string\"},{\"type\":\"null\"}],\"title\":\"Full
      Recommendations\"}},\"required\":[\"warrants_adjustment\"],\"title\":\"recommend\",\"type\":\"object\"}}]}"
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2xV224cNwz9FUJPLTC7tb1JWuxbijoXBG2DOEFbdIsFR+LsKNZQY5HazdbwvxfS
        eC+G+zgSSR2ec8i5N96ZpRlks764vPlp9+bdq8XPf47dh/yW3ribX/TzzjRG9yOVKBLBDZnGpBjK
        AYp4UWQ1jRmio2CWxgbMjmaL2cuZRGbS2dXF1YvLi6sr0xgbWYnVLP++PxTVGMM6S6laoZTvvL64
        XLTvrl992Pl3b79ct4vfth9f3i1efTSNYRxKXiIbh4HYlUQes5rlvdlhSsgqa3Rfs+hQ39KUqTH9
        fozak5CYpbmcw2vnPG9ANGWrORFssncUPJPAzocAfhhT3BIkkjGyEMS0Qfb/ovrIK76aw3u2Idcq
        mJ0ntgS1wW86VegpjGAx+DahEtC3MSDXdHA0ar/ixRw+prj1tUgX04BawshqDXtEQiwFoI1c6CZW
        uMsYvO5NY7ocwvrIxZRlluY9HM8gj+WcN6A9wZjiMCpoXK54xSvzV8yAiQAZUDRFjsO+QkgKuz5O
        oD0L2DiMgb4do7zFUCBZGlXAMyDYQJga2FEIsyOvDgZkpjSHP3oqjYtNvq2knVeK7VeyKhATyF6U
        BqkAL+dwo1iweO0BoU2eOohbSltPux8cdZ79UZDfJ4UIPE9kFqo9azxAC3FTXxOyE7/f0Xwzb2pz
        UWqh5mSJBmyPCa1S8qLeyvePipEUETq0h857TwmT7Wvxqd8GuhQH6DI7LD7EABphiInAkaIP5M5h
        rvjFHL4IAY5jimPyxTFiPbH6zltQSoPnGOJmD7veB5pcUXg885VAogELJGtJxLeBCouv6zRU/ZVs
        zxVmtSC0KOQgcr181NjrHmJXT+4ySWUR5ZbcHN7EBG2K6EDj6K00xVBb76jIH4cxUU8sfkvQZn3m
        hINuUx0ZydbeDo9IA120WaAOyMRRA4kCbZH1SZ/z0tYnGmhoKU1unsHNcZYPMyuTb6r6J9GRHWhC
        ngSXkjqNMp0e4zxQmnhCRdgV755JU3J+Rc9ayD6TCa3NCe1Bo1ui8ZlEmR2lsjYdVn1mk+6MxZ1U
        R6BQiclLXQHl6bJKuhzKjjhO4mH4VqaQ8bn3AsQ9siX3OOaVldfOJZLCRRH0tO+8SCbo/aYPftNr
        tSN0RK5Fe1sSp81E8kjf2X4sKB63YenuiY1PvAh0xUytL6uq5jjfdZTK7JTlL8VkR+1L5nVddPI/
        Tjr5+aSteXj4pzGicVwnQon89G9SL4TuclnMZsk5hMbk+gNb3k+/jLXGWyr78vLHq0VjLNqe1jZR
        bWX9NOTicJ8I3fO7mPX8ZLFYPDz8BwAA//8DAF59duNdBwAA
    headers:
      CF-RAY:
      - 90acecf0fa3732d2-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:51:58 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:51:53Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:51:58Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:51:52Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:51:53Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01K6J9naBihKdHNEFKP55dm2
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are optimizing
      a prompt to handle its target task more effectively.\n\n<current_prompt>\nYou
      are an astronomy expert\n</current_prompt>\n\nWe hypothesize the current prompt
      underperforms for these reasons:\n\n<hypotheses>\n1. Adding structure guidelines
      will improve response organization\n2. Including audience context will help
      calibrate explanation depth\n3. Providing format expectations will ensure consistent
      quality\n</hypotheses>\n\nBased on these hypotheses, we recommend the following
      adjustments:\n\n<recommendations>\nI recommend updating the prompt to:\n\n\"You
      are an astronomy expert who explains complex astronomical concepts in a clear,
      well-structured manner. When describing astronomical objects or systems:\n\n1.
      Start with a brief overview/definition\n2. Organize information into clear,
      logical sections (e.g., composition, structure, characteristics)\n3. Present
      facts in a hierarchical manner, from fundamental to more detailed information\n4.
      Use appropriate scientific terminology while ensuring explanations remain accessible\n\nAdjust
      the technical depth based on the complexity of the question asked. For broad
      topics, provide a comprehensive but well-structured overview. For specific questions,
      focus on detailed, relevant explanations.\n\nRemember to:\n- Structure responses
      with clear sections and transitions\n- Include relevant numerical data when
      appropriate\n- Maintain scientific accuracy while keeping explanations understandable\n-
      Use analogies or comparisons when helpful for complex concepts\"\n\nThis enhanced
      prompt:\n- Addresses the structure issue highlighted in feedback\n- Provides
      clear guidelines for organizing information\n- Maintains flexibility for different
      types of questions\n- Ensures comprehensive but accessible responses\n</recommendations>\n\nRespond
      with the updated prompt. Remember to ONLY make changes that are clearly necessary.
      Aim to be minimally invasive:"}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"tool","name":"OptimizedPromptOutput"},"tools":[{"name":"OptimizedPromptOutput","description":"Schema
      for the optimized prompt output.","input_schema":{"description":"Schema for
      the optimized prompt output.","properties":{"analysis":{"description":"First,
      analyze the current results and plan improvements to reconcile them.","title":"Analysis","type":"string"},"improved_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Finally,
      generate the full updated prompt to address the identified issues.   The prompt
      section being optimized contains no input f-string variables. Any brackets {{
      foo }} you emit will be escaped and not used.","title":"Improved Prompt"}},"required":["analysis","improved_prompt"],"title":"OptimizedPromptOutput","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAAwAAAP//fFTdbyM1EP9XRn7hJQltSnXHvkWc0AHSHdCDchAUTezJ7lB7vPVH0m3V
        /x2N0/R6gHhaeT0z/n3ZD4ad6UzI/ebs/Gr1kb9fxu3X4er6Tb379j5vb6ZLMzNlGkmrKGfsycxM
        il5/YM6cC0oxMxOiI286Yz1WR/OL+eU8RxEq8+XZ8qvzs+XSzIyNUkiK6f54OA0tMfpNzTq1QdF1
        3Zyd//zhMvz1ze/1zW9TvHi7rTfvfp2KmJkRDNr3fiwc+J7cjymGsbyvZayKg0W/3YNBQT9lzqYz
        HwYCW1MiKTC2clibj7ECJgIUwFxSlBgmoLuRUlkb4AwsjsjBntIEW8xsAcWBjdU72JLQjgvsUgxQ
        MPVUyAGHMcU9BZKSF6CnDtMYy0CZcmtOZGMIJA4LR8nAjqTwboI9enYKBzPsYgKSAcW2Sd1a1nK+
        gKuSqi01UQf/wcejvdEzJugrO+2FKDDEA5QIMfUofE+QKI9RMuW1LBewqo5JK1cOx9IgdfAuguNE
        VlcvRlj0vE1YSCXyKK0aHI1lWMvFAn6q6LlMcFVQHCaX26Q8kuUd2ye6yuwEQRcBCyjZu5Hs8fys
        ZN/GA+0pzaAM9EkycieunOG2ciG1ZhszNWkDTrAliHtKc5KehSiRW8A1gVWL7cC0J8gc2GP6zCo4
        cBkAIcREYKNY1pnjmCLaAcqA6sEcVs7lpyDkkxdNbfIsKukcvhPrq1OzT9KedOMoWnBFJYP1hAlu
        nxT7J/vrgT1BQJaCLCw9BBYO6MEOKD1ltWNMlCntqUlkFfcxSmVa6B04knObo2Cm+7+ww2GIR1NZ
        MtgYRk93TQYaT2D91DRGa6tmwE8v4ghTrJ9sPYrZtcSuYJuYduBox8JK8Eu1Z890aPn7gSbYoS16
        1cDHni16yMfo5ZaqlZowJtbcFbKDtJKWOnWCnCZUJbitlLXti2cGXCZV8xe18gk2ZMvtvrGFQimw
        RB/7CQ5N8RuiUdV+ke+srZQzbz2p6j0JJfTP7ubFyXFI5GmPUsBhwaNYgspJFRlIYCA/7qpfmMfH
        P2cmlzhu9LZH+fwNbBuZbqvON51U72emtme3ezg+bpsSb0iy6V6/fjUzFu1AG5uoId58XnF22k+E
        7t97sT2az3+Wl68eH/8GAAD//wMALBCU9xIGAAA=
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90aced1a5ab832c8-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:52:04 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:52:00Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:52:04Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:51:59Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:52:00Z'
      request-id:
      - req_0146qtsoSy8SMDN4eXnHWheW
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are helping
      an AI assistant learn by optimizing its prompt.\n\n## Background\n\nBelow is
      the current prompt:\n\n<current_prompt>\nYou are a quantum computing expert\n</current_prompt>\n\nThe
      developer provided these instructions regarding when/how to update:\n\n<update_instructions>\n\n</update_instructions>\n\n##
      Session Data\nAnalyze the session(s) (and any user feedback) below:\n\n<sessions>\n<session_3f5fab067f95499bb51d6f29982a7046>\n================================
      Human Message =================================\n\nExplain quantum computing\n\n==================================
      Ai Message ==================================\n\nQuantum computing uses...\n\nFeedback
      for session 3f5fab067f95499bb51d6f29982a7046:\n<FEEDBACK>\nNeed better organization
      and concrete examples\n</FEEDBACK>\n</session_3f5fab067f95499bb51d6f29982a7046>\n</sessions>\n\n##
      Instructions\n\n1. Reflect on the agent''s performance on the given session(s)
      and identify any real failure modes (e.g., style mismatch, unclear or incomplete
      instructions, flawed reasoning, etc.).\n2. Recommend the minimal changes necessary
      to address any real failures. If the prompt performs perfectly, simply respond
      with the original prompt without making any changes.\n3. Retain any f-string
      variables in the existing prompt exactly as they are (e.g. {variable_name}).\n\nIFF
      changes are warranted, focus on actionable edits. Be concrete. Edits should
      be appropriate for the identified failure modes. For example, consider synthetic
      few-shot examples for style or clarifying decision boundaries, or adding or
      modifying explicit instructions for conditionals, rules, or logic fixes; or
      provide step-by-step reasoning guidelines for multi-step logic problems if the
      model is failing to reason appropriately."}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"any"},"tools":[{"name":"think","description":"Reflection
      tool implementation.","input_schema":{"description":"Reflection tool implementation.","properties":{"thought":{"title":"Thought","type":"string"}},"required":["thought"],"title":"think","type":"object"}},{"name":"critique","description":"Critique
      tool implementation.","input_schema":{"description":"Critique tool implementation.","properties":{"criticism":{"title":"Criticism","type":"string"}},"required":["criticism"],"title":"critique","type":"object"}},{"name":"OptimizedPromptOutput","description":"Schema
      for the optimized prompt output.","input_schema":{"description":"Schema for
      the optimized prompt output.","properties":{"analysis":{"description":"First,
      analyze the current results and plan improvements to reconcile them.","title":"Analysis","type":"string"},"improved_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Finally,
      generate the full updated prompt to address the identified issues.   The prompt
      section being optimized contains no input f-string variables. Any brackets {{
      foo }} you emit will be escaped and not used.","title":"Improved Prompt"}},"required":["analysis","improved_prompt"],"title":"OptimizedPromptOutput","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA4yW224bNxCGX2XAqxaQHEtWEkN3jl0gbZLGcdykQVUII3KkZcQdrsmhpY3hdy/I
        1RFO21wuDzP/fP9wpAdljRqrOi6mp4MrfNm8vR6Olu/Ob+P53eULuTp/da16StqG8imKERekeip4
        lxcwRhsFWVRP1d6QU2OlHSZD/bP+8370zCT94elwNDgdDlVPac9CLGr818M2qHjvpinmqEVK/k7T
        08Hlzav51y/p1Z9nr68G8bWuLr+MDKueYqzLvcryMl/iJokaPyipfFpUosbqLQnUBMjo2m8EUhFE
        itF6BmQDcyIzQ708gduKdl9g2ViNQrFcCBQbz5HAoV6SAR8WyPYbyjaK9qwDCQGtsW4cxS6cTiEQ
        CzTB142AjUBrCVSTa6G2bGt0PfDsWoiCYnnRZfOOYGVzCQLILSySNciawDNUfgXiIUpIWlLYa4vg
        AwS6SzYnYIn5mGXtkjmWZSM4u8wSsgHBzpKQyYeRIfEusNlXLRUKrDBH9ICzKAG1nKjHx97/Gjec
        fdDrgfcf7vHj2ad6OWyu64tPe+N0sGLvEh16V9a0jbUaq+9QrDBCpHsK6GBJLawIl0wxUhxPeHAC
        v/sjYLsqdpU9O7RvwsNy5YDcIbgnxk74rJyPDWk7zz2Se8DPwVAj1TNDgtaBo3tyQOuGtJCZ8Kjc
        sRu6+YZ4qHGZE+Sw65KIGomAWuf2nDn6IcBv4m+31bn+6tcv2q/VcDF6d3V1R3vA7xuxtf1G5rrQ
        e58kUz6gXR5GtHEDewOZiUzpoBkBcZVhdj1iTKAYf+AF9GBVWUdQo2VBy7m7M5AgNtIJvKEWbN0E
        f7/p1pyRTGfhhTH5rLPaylGrH3T33IdyBrmIiMXId8gGhSBFyp5stRSFuVC/sBsLf90YfNgqNS6z
        yv+wpDj5sVjfdo53afYyMtquLDPtWKqx+uITYCBAuEvIkuqSI8meCawqD7TW5CKgdBE7Zk/UaEcY
        XFtqim0UqlGsRufaE/hcER9efppuG2Y84Q61W2EbDyC3Ph2DLaOoywqRdLeWk2eaGh3MnV8V+n/E
        XGJt1xmKkK647KPWKaDuFO9ZgkNeJFzQkR/bPupBIHT9lQ/O/IuP5Z06l/I8EtpV1nkkmKFm5XOf
        clNYz+j2FGc094FglqwzZfB6qPPCFrc1hHHCz0/gY2oaH+Q7TLYzALDJvbrZsvwUe4ZdvMGmCb4J
        FnOFs0C4BONX3FHfj3LL4scT7sNl1nTZiYZf9gry3k0G9LkAutj3dh+u83gu5C8OdOWd250nV2VO
        RfgJty/v56zxhmqqZxTKyw/WLLofzAU2MCNZEXH+9oG6+Ns6a9IVstWdQc0u/77tjgg9HQxRW2Lp
        WG66Jf++/N1TUXwzDYTR8/EULBuR7hKxJjXm5FxPpfKXZPzQjbep+CVxVOPB6YvTntKoK5rqQEXG
        9PjIbj8Qmqd7vszN3cpoNHh8/AcAAP//AwC4t+RNLwkAAA==
    headers:
      CF-RAY:
      - 90aced3cf86a4cae-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:52:13 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:52:05Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:52:13Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:52:04Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:52:05Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_013fT2gMNtbmf7P6cTeVMPUS
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are helping
      an AI assistant learn by optimizing its prompt.\n\n## Background\n\nBelow is
      the current prompt:\n\n<current_prompt>\nYou are a quantum computing expert\n</current_prompt>\n\nThe
      developer provided these instructions regarding when/how to update:\n\n<update_instructions>\n\n</update_instructions>\n\n##
      Session Data\nAnalyze the session(s) (and any user feedback) below:\n\n<sessions>\n<session_3f5fab067f95499bb51d6f29982a7046>\n================================
      Human Message =================================\n\nExplain quantum computing\n\n==================================
      Ai Message ==================================\n\nQuantum computing uses...\n\nFeedback
      for session 3f5fab067f95499bb51d6f29982a7046:\n<FEEDBACK>\nNeed better organization
      and concrete examples\n</FEEDBACK>\n</session_3f5fab067f95499bb51d6f29982a7046>\n</sessions>\n\n##
      Instructions\n\n1. Reflect on the agent''s performance on the given session(s)
      and identify any real failure modes (e.g., style mismatch, unclear or incomplete
      instructions, flawed reasoning, etc.).\n2. Recommend the minimal changes necessary
      to address any real failures. If the prompt performs perfectly, simply respond
      with the original prompt without making any changes.\n3. Retain any f-string
      variables in the existing prompt exactly as they are (e.g. {variable_name}).\n\nIFF
      changes are warranted, focus on actionable edits. Be concrete. Edits should
      be appropriate for the identified failure modes. For example, consider synthetic
      few-shot examples for style or clarifying decision boundaries, or adding or
      modifying explicit instructions for conditionals, rules, or logic fixes; or
      provide step-by-step reasoning guidelines for multi-step logic problems if the
      model is failing to reason appropriately."},{"role":"assistant","content":[{"type":"tool_use","name":"think","input":{"thought":"Let
      me analyze the session and feedback. The feedback indicates the response lacked
      organization and concrete examples. The current prompt is extremely minimal,
      only stating the role without any guidance on how to structure responses or
      requirements to include examples. This likely contributed to an unstructured
      response that was too abstract."},"id":"toolu_01CRBfjYuBX3HD1sHchCY4dn"},{"type":"tool_use","name":"critique","input":{"criticism":"The
      current prompt has several key weaknesses:\n1. No guidance on response structure/organization\n2.
      No requirement to include concrete examples\n3. No specification of depth/detail
      level expected\n4. No instruction to make complex concepts accessible"},"id":"toolu_012bQcx1ooQvaS3Vmk2pPmAV"},{"type":"tool_use","name":"OptimizedPromptOutput","input":{"analysis":"The
      prompt needs to be enhanced to address organization and concrete examples, while
      maintaining expertise. Key improvements needed:\n1. Add explicit structure requirements
      for explanations\n2. Mandate use of examples and analogies\n3. Include guidance
      on making complex concepts accessible\n4. Specify depth of explanations","improved_prompt":"You
      are a quantum computing expert who excels at explaining complex concepts clearly
      and systematically. When explaining quantum computing concepts:\n\n1. Always
      structure your explanations with clear sections and logical flow\n2. Use a mix
      of technical accuracy and accessible language\n3. Include concrete, real-world
      examples and analogies to illustrate concepts\n4. Start with foundational concepts
      before building to more complex ideas\n5. Support explanations with specific
      applications in quantum computing\n\nWhen appropriate, break down your responses
      into:\n- Core Concept Explanation\n- Real-World Analogies\n- Practical Applications\n-
      Technical Details (as needed)\n\nRemember to bridge the gap between theoretical
      quantum mechanics and practical computing applications while maintaining scientific
      accuracy."},"id":"toolu_01KsJTh8cjox6yjh2g4MDDqe"}]},{"role":"user","content":[{"type":"tool_result","content":"","tool_use_id":"toolu_01CRBfjYuBX3HD1sHchCY4dn","is_error":false},{"type":"tool_result","content":"","tool_use_id":"toolu_012bQcx1ooQvaS3Vmk2pPmAV","is_error":false},{"type":"tool_result","content":"","tool_use_id":"toolu_01KsJTh8cjox6yjh2g4MDDqe","is_error":false}]}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"any"},"tools":[{"name":"think","description":"Reflection
      tool implementation.","input_schema":{"description":"Reflection tool implementation.","properties":{"thought":{"title":"Thought","type":"string"}},"required":["thought"],"title":"think","type":"object"}},{"name":"critique","description":"Critique
      tool implementation.","input_schema":{"description":"Critique tool implementation.","properties":{"criticism":{"title":"Criticism","type":"string"}},"required":["criticism"],"title":"critique","type":"object"}},{"name":"OptimizedPromptOutput","description":"Schema
      for the optimized prompt output.","input_schema":{"description":"Schema for
      the optimized prompt output.","properties":{"analysis":{"description":"First,
      analyze the current results and plan improvements to reconcile them.","title":"Analysis","type":"string"},"improved_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Finally,
      generate the full updated prompt to address the identified issues.   The prompt
      section being optimized contains no input f-string variables. Any brackets {{
      foo }} you emit will be escaped and not used.","title":"Improved Prompt"}},"required":["analysis","improved_prompt"],"title":"OptimizedPromptOutput","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2ySwW7TQBCGX2W0ZztK3LRQ31pED4UKQSvRQlC07E7spetZd2c2aRrlKbjydDwJ
        WieliuBoz///M/PtbJSzqlYdN/Px5PzV+dvb5L7cnd6cf8Snyylfrk7fqULJusesQmbdoCpUDD7/
        0MyORZOoQnXBole1Ml4ni+VReVxyIEIpq3E1nYyrShXKBBIkUfXXzXOohODniXPqMEr+TvPx5OpC
        7t3t6+v++OLqhG8v76bhc/dDFYp0N/haR/fZRH0SVW+UtCE1rahavUeBDiHi0uEK3AK6Nbiuj2GJ
        FvoYul5AW3xIWtCvQVsbkRkZpEVwFkncwqEFx5yQ6xnNaDKCD7HR5J60uEDw+9dPKOHMWrSAj713
        xgmwxGQkxdz6IbmIHZIwaLLAaLKPZ1SN4E0gE1EQ8FF3vUfex33auSxE1L5chejtiySnaNI+NA55
        RkcjODMGmd13552sDyZqkrOaDEIgSOyoAb3XegSvqUm6QVi1ziN02pFoR3tVitqsZzTNU3Z9xBaJ
        3RLBhCXG7Nr1ue7R7CD1MTQZX6ayiKGDRUhkB0ragwQwIS/wCCaQwV4447zJoHcvsmPEbUjegkdt
        s6cLEV9w2mH5PYkyOtMOzDUNXfg/i+Bjj1FKj0v0f7caqe32W6FYQj+PqDnQ4fkNBcaHhGRQ1ZS8
        L1QaLr7e7O5sLuEeiVU9OamqQhltWpybiMMg80PJ+LkeUdt/ayHJQeC02m7/AAAA//8DAHPWPhKO
        AwAA
    headers:
      CF-RAY:
      - 90aced75bf8e4cae-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:52:16 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:52:14Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:52:16Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:52:13Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:52:14Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01MrrwbJ724TTue9ixRkgEuW
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: "{\"max_tokens\":1024,\"messages\":[{\"role\":\"user\",\"content\":\"You
      are helping an AI assistant learn by optimizing its prompt.\\n\\n## Background\\n\\nBelow
      is the current prompt:\\n\\n<current_prompt>\\nYou are a quantum computing expert\\n</current_prompt>\\n\\nThe
      developer provided these instructions regarding when/how to update:\\n\\n<update_instructions>\\n\\n</update_instructions>\\n\\n##
      Session Data\\nAnalyze the session(s) (and any user feedback) below:\\n\\n<sessions>\\n<session_3f5fab067f95499bb51d6f29982a7046>\\n================================
      Human Message =================================\\n\\nExplain quantum computing\\n\\n==================================
      Ai Message ==================================\\n\\nQuantum computing uses...\\n\\nFeedback
      for session 3f5fab067f95499bb51d6f29982a7046:\\n<FEEDBACK>\\nNeed better organization
      and concrete examples\\n</FEEDBACK>\\n</session_3f5fab067f95499bb51d6f29982a7046>\\n</sessions>\\n\\n##
      Instructions\\n\\n1. Reflect on the agent's performance on the given session(s)
      and identify any real failure modes (e.g., style mismatch, unclear or incomplete
      instructions, flawed reasoning, etc.).\\n2. Recommend the minimal changes necessary
      to address any real failures. If the prompt performs perfectly, simply respond
      with the original prompt without making any changes.\\n3. Retain any f-string
      variables in the existing prompt exactly as they are (e.g. {variable_name}).\\n\\nIFF
      changes are warranted, focus on actionable edits. Be concrete. Edits should
      be appropriate for the identified failure modes. For example, consider synthetic
      few-shot examples for style or clarifying decision boundaries, or adding or
      modifying explicit instructions for conditionals, rules, or logic fixes; or
      provide step-by-step reasoning guidelines for multi-step logic problems if the
      model is failing to reason appropriately.\"},{\"role\":\"assistant\",\"content\":[{\"type\":\"tool_use\",\"name\":\"think\",\"input\":{\"thought\":\"Let
      me analyze the session and feedback. The feedback indicates the response lacked
      organization and concrete examples. The current prompt is extremely minimal,
      only stating the role without any guidance on how to structure responses or
      requirements to include examples. This likely contributed to an unstructured
      response that was too abstract.\"},\"id\":\"toolu_01CRBfjYuBX3HD1sHchCY4dn\"},{\"type\":\"tool_use\",\"name\":\"critique\",\"input\":{\"criticism\":\"The
      current prompt has several key weaknesses:\\n1. No guidance on response structure/organization\\n2.
      No requirement to include concrete examples\\n3. No specification of depth/detail
      level expected\\n4. No instruction to make complex concepts accessible\"},\"id\":\"toolu_012bQcx1ooQvaS3Vmk2pPmAV\"},{\"type\":\"tool_use\",\"name\":\"OptimizedPromptOutput\",\"input\":{\"analysis\":\"The
      prompt needs to be enhanced to address organization and concrete examples, while
      maintaining expertise. Key improvements needed:\\n1. Add explicit structure
      requirements for explanations\\n2. Mandate use of examples and analogies\\n3.
      Include guidance on making complex concepts accessible\\n4. Specify depth of
      explanations\",\"improved_prompt\":\"You are a quantum computing expert who
      excels at explaining complex concepts clearly and systematically. When explaining
      quantum computing concepts:\\n\\n1. Always structure your explanations with
      clear sections and logical flow\\n2. Use a mix of technical accuracy and accessible
      language\\n3. Include concrete, real-world examples and analogies to illustrate
      concepts\\n4. Start with foundational concepts before building to more complex
      ideas\\n5. Support explanations with specific applications in quantum computing\\n\\nWhen
      appropriate, break down your responses into:\\n- Core Concept Explanation\\n-
      Real-World Analogies\\n- Practical Applications\\n- Technical Details (as needed)\\n\\nRemember
      to bridge the gap between theoretical quantum mechanics and practical computing
      applications while maintaining scientific accuracy.\"},\"id\":\"toolu_01KsJTh8cjox6yjh2g4MDDqe\"}]},{\"role\":\"user\",\"content\":[{\"type\":\"tool_result\",\"content\":\"\",\"tool_use_id\":\"toolu_01CRBfjYuBX3HD1sHchCY4dn\",\"is_error\":false},{\"type\":\"tool_result\",\"content\":\"\",\"tool_use_id\":\"toolu_012bQcx1ooQvaS3Vmk2pPmAV\",\"is_error\":false},{\"type\":\"tool_result\",\"content\":\"\",\"tool_use_id\":\"toolu_01KsJTh8cjox6yjh2g4MDDqe\",\"is_error\":false}]},{\"role\":\"assistant\",\"content\":[{\"type\":\"tool_use\",\"name\":\"think\",\"input\":{\"thought\":\"Let
      me review if my improved prompt adequately addresses the identified issues:\\n\\n1.
      Organization \u2713 - Added explicit structure requirements and sections\\n2.
      Concrete examples \u2713 - Required real-world examples and analogies\\n3. Accessibility
      \u2713 - Added guidance on using accessible language while maintaining accuracy\\n4.
      Comprehensive coverage \u2713 - Specified progression from foundational to complex
      concepts\\n\\nThe improvements should lead to more structured and example-rich
      explanations while maintaining expert-level accuracy.\"},\"id\":\"toolu_01MFtkiX8Sp5FM6sXJY4oWmj\"}]},{\"role\":\"user\",\"content\":[{\"type\":\"tool_result\",\"content\":\"\",\"tool_use_id\":\"toolu_01MFtkiX8Sp5FM6sXJY4oWmj\",\"is_error\":false}]}],\"model\":\"claude-3-5-sonnet-latest\",\"tool_choice\":{\"type\":\"tool\",\"name\":\"OptimizedPromptOutput\"},\"tools\":[{\"name\":\"OptimizedPromptOutput\",\"description\":\"Schema
      for the optimized prompt output.\",\"input_schema\":{\"description\":\"Schema
      for the optimized prompt output.\",\"properties\":{\"analysis\":{\"description\":\"First,
      analyze the current results and plan improvements to reconcile them.\",\"title\":\"Analysis\",\"type\":\"string\"},\"improved_prompt\":{\"anyOf\":[{\"type\":\"string\"},{\"type\":\"null\"}],\"description\":\"Finally,
      generate the full updated prompt to address the identified issues.   The prompt
      section being optimized contains no input f-string variables. Any brackets {{
      foo }} you emit will be escaped and not used.\",\"title\":\"Improved Prompt\"}},\"required\":[\"analysis\",\"improved_prompt\"],\"title\":\"OptimizedPromptOutput\",\"type\":\"object\"}}]}"
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2yU3W4jNwyFX4XQVQvYru1kt+jcZbcFtuiiu0j2vy4MWkPPCNFQikjFdoK8e6EZ
        j5MgvbIlasjvHFK6N642lemkWc8Xb1L69fuXhb26+PL57HJP79I7Xu7MxOghUjlFItiQmZgUfNlA
        ESeKrGZiulCTN5WxHnNN07Ppq6kEZtLpcr48X8yXSzMxNrASq6n+uR+Tagh+naVk7VHKOq/ni79v
        fvz15j3fJXst29vlVfPtfXcoMIxd+e5DVNe5O6o/ptBF/ZA15sLhuPxW9wYZ/UGcmMp8agnGJSTq
        0LGAtgSCHcG0/2tzSsQKsU8HTFQLiGvYbZ1FViBukS115ZAGwLpOJAIhNcjuDtUFRg+iKVvNqRSs
        wQa2iZSA9thFTwK71nmCQqDo2HEDtI+U1AnNoHC6LqZwS/UIQtstWXW35A9jTerhhY6Q2qaQm7Yk
        8s46PTGghya7mrxjkp4n0U12qdcgsA3pxPVLsSc0jmRWPDwyrAcGU5nvIQMWUXCTkTV3YEMXsz4K
        gF0bgPaWvABqD3MUWE562vdmUFQB6wlTkcM1yEGUOlRn0fvDDL62xE8/flluTFOteMWLGVz4HR7k
        ifGHkNOQgvuuCOyctkNVkGJm2SvFi2KLHrY+7Fa8nMFnKRI7t4ewBSXbch9Ha3NCOxCjtSTiNp7A
        IzcZG1rx2Qz+ZOtzTaeeTyAR+ukuJF8/9r/PMHpd5sh5n0UTKp2Urfh8BleKxdRCvg2Z63HATi5u
        aBsSwSY7XxdfNEBXNka7XU0oK341g6scY0j6P55IJFvmGzCW2TmGHL+0vZjd9wZjTCEmh0XhJhFe
        Qx12PLieSGLgMqCONVQrnsLbwvR2gIY/HglK7LIY9LU36GL0pOx/TGj7iYCLJ1wl8unUk99J0XmB
        n1D6e0D1z4XxkjrqNpSKHZvk6ob6291ghA3pjojLOiQa8o86O7ItsrNDg+Kp/uPYPXPo5S0W64h1
        8PI4LTPz8PDvxIiGuE6EEvj5c9cHhG4ysSVTcfZ+YnL/wlb3wzu21nBNLKZavH7928RYtC2tbaIe
        Y/38yHyMJ8L6ZSz0D+RpZ3k+f3j4DwAA//8DAD984UD+BQAA
    headers:
      CF-RAY:
      - 90aced8d986d32c6-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:52:21 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:52:19Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:52:21Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:52:17Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:52:19Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_015NDt9yfezkimTQen1Rkem6
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"messages":[{"content":"You are tasked with summarizing the following
      conversation.","role":"system"},{"content":"Summarize the conversation below:\n\n<conversation_d34b1024-09ae-41db-9c8f-2363c1c5214f>\n<function
      get_conversation at 0x10f49cea0>\n</conversation_d34b1024-09ae-41db-9c8f-2363c1c5214f>","role":"user"}],"model":"gpt-4","stream":false,"tool_choice":"required","tools":[{"type":"function","function":{"name":"SummarizeThread","description":"Summarize
      the thread.","parameters":{"description":"Summarize the thread.","properties":{"title":{"title":"Title","type":"string"},"summary":{"title":"Summary","type":"string"}},"required":["title","summary"],"title":"SummarizeThread","type":"object"}}}]}'
    headers: {}
    method: POST
    uri: https://api.openai.com/v1/chat/completions
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA4xUTW/bMAy951cQuuSSFHGcpkluTfqBHrcVRYFlMGSZttXKkiDRabOg/32QncZu
        1wHzwbD5yPdIitRhAMBkxlbARMlJVFaNL3d0/Vg+zNbPa/7wiPcpprdr68vXdHIds1GIMOkTCnqP
        OhOmsgpJGt3CwiEnDKzRRbyI55P44qIBKpOhCmGFpfFsPJlHR0JRGinQsxX8HAAAHJp3yE1n+MpW
        MBm9Wyr0nhfIVicnAOaMChbGvZeeuCY26kBhNKEO6epaqR5AxqhEcKU64fY59L67BnGlku/f1ovb
        q+Xief6ye5iW64Loyd5NbE+vpd7bJqG81uLUmB5+sq8+iQEwzasm9kddVdzJ33hfOuTZJwoAxl1R
        V6gppM8OW71lJEnhlq1gyzZG79B5HlTgKp6to8l0Np4sL6/Hs+hqPV5uFjfjaTyPN9HmfBrNbrZs
        FCh8o7pvSe5o6EEbAmu8l6lCyI2DCoEMWGd2MkPgcAxpMCqlB9HXTlHw2iNQiXA8CjD5+2/nJ70e
        EhRyh/oM7kBwDUarPXgMGqHO4GVyKJBI6gKG/fDhCNKa4EVSaWoCnmUymLlqNV8JmuQQuKC6tXbS
        AR/1ChE8pJIiHCf5bMu2+o196P/b4KvvX73xcpjXnqvj3B3tb6dBVqawzqT+01yyXGrpy8Qh9818
        ME/GttpBp1Fg9YcdYNaZylJC5hl1IIxmUcvHut3s0OXsCJIhrjr7ND4ffcGXZEhcNkty2kvBRYlZ
        F9rtJ68zaXrAoFf139l8xd1WLnXxP/QdIARawiyxDjMpPlbcuTkMV9e/3E5dbhJmHt1OCkxIogsn
        kWHOa9VeLszvPWGV5FIX6KyTpxtm8Db4AwAA//8DALT9vPRYBQAA
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90acee899e604cb2-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:53:03 GMT
      Server:
      - cloudflare
      Set-Cookie:
      - __cf_bm=CUHDqMv.wzvlXLBt6RYsgciaB1Q6.95PMSmMAVs50T0-1738360383-1.0.1.1-1TcPbZCwZldrNEsFVhrsPLKo8aIhv9wAUDMrXhTDsa3SdemtakYhmCVkM_1CmLsj.wx4LkAMdyznUNu_CvePUw;
        path=/; expires=Fri, 31-Jan-25 22:23:03 GMT; domain=.api.openai.com; HttpOnly;
        Secure; SameSite=None
      - _cfuvid=AzzkzqA116HDQ1XqmFUym8a1h3e9AEqReH2H.b1XT48-1738360383406-0.0.1.1-604800000;
        path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None
      Transfer-Encoding:
      - chunked
      X-Content-Type-Options:
      - nosniff
      access-control-expose-headers:
      - X-Request-ID
      alt-svc:
      - h3=":443"; ma=86400
      openai-organization:
      - langchain
      openai-processing-ms:
      - '5452'
      openai-version:
      - '2020-10-01'
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      x-ratelimit-limit-requests:
      - '10000'
      x-ratelimit-limit-tokens:
      - '1000000'
      x-ratelimit-remaining-requests:
      - '9999'
      x-ratelimit-remaining-tokens:
      - '999921'
      x-ratelimit-reset-requests:
      - 6ms
      x-ratelimit-reset-tokens:
      - 4ms
      x-request-id:
      - req_4cc7b6f61afa43798d625bde00d2c392
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are tasked
      with extracting or upserting memories for all entities, concepts, etc.\n\nExtract
      all important facts or entities. If an existing MEMORY is incorrect or outdated,
      update it based on the new information.\n\n\nEnrich, prune, and organize memories
      based on any new information. If an existing memory is incorrect or outdated,
      update it based on the new information. All operations must be done in single
      parallel call.\n\n<session_9d6d214d-1fab-428a-b944-c947548f66e6>\n================================
      Human Message =================================\n\nI prefer dark mode in all
      my apps\n\n================================== Ai Message ==================================\n\nI''ll
      remember that preference\n</session_9d6d214d-1fab-428a-b944-c947548f66e6>"}],"model":"claude-3-5-sonnet-latest","system":"You
      are a memory subroutine for an AI.\n\n","tool_choice":{"type":"any"},"tools":[{"name":"Memory","description":"Call
      this tool once for each new memory you want to record. Use multi-tool calling
      to record multiple new memories.","input_schema":{"description":"Call this tool
      once for each new memory you want to record. Use multi-tool calling to record
      multiple new memories.","properties":{"content":{"description":"The memory as
      a well-written, standalone episode/fact/note/preference/etc. Refer to the user''s
      instructions for more information the prefered memory organization.","title":"Content","type":"string"}},"required":["content"],"title":"Memory","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2RQyWrDMBD9FTFnmTpummIdS5dTiqFOwSlFCHmamMiSo5FKg/G/F7l0Cb3NvG0e
        M0LXgoCedjJfbN631bXDuimfqm0dG62K9fABHMJpwKRCIrVD4OCdSYAi6igoG4BD71o0IEAbFVvM
        LrOrjJy1GLIiL5aLvCiAg3Y2oA0gXsbv0OCckZFS6lwl7VHmi+e+apq6Kt32WD7W6v7m4a4vboGD
        VX3yrbF3/pRcdogBxPgbDpXHN/RoNQq2IfRsmAFirfIHlppezFPYY4+ss0wZw9QwmE6r0DlLME2v
        HCi4QXpU5Ox50ZkgPMZ0AoSNxnCI82/E+FVIBndASyBWq5yDVnqPUnuc4+W54of3qNr/nIvhL7Is
        p+kTAAD//wMAjLJ+ZbYBAAA=
    headers:
      CF-RAY:
      - 90aceeafa8a332b3-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:53:05 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:53:05Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:53:05Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:53:03Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:53:05Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01VrGvnLDtLYZBZPuBYsLder
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are tasked
      with extracting or upserting memories for all entities, concepts, etc.\n\nExtract
      all important facts or entities. If an existing MEMORY is incorrect or outdated,
      update it based on the new information.\n\n\nEnrich, prune, and organize memories
      based on any new information. If an existing memory is incorrect or outdated,
      update it based on the new information. All operations must be done in single
      parallel call.\n\n<session_6ef5c761-b134-4573-8b00-2aa341e85ece>\n================================
      Human Message =================================\n\nI prefer dark mode in all
      my apps\n\n================================== Ai Message ==================================\n\nI''ll
      remember that preference\n</session_6ef5c761-b134-4573-8b00-2aa341e85ece>"}],"model":"claude-3-5-sonnet-latest","system":"You
      are a memory subroutine for an AI.\n\n","tool_choice":{"type":"any"},"tools":[{"name":"PreferenceMemory","description":"Store
      the user''s preference","input_schema":{"description":"Store the user''s preference","properties":{"category":{"title":"Category","type":"string"},"preference":{"title":"Preference","type":"string"},"context":{"title":"Context","type":"string"}},"required":["category","preference","context"],"title":"PreferenceMemory","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2RQbUvDMBD+K+E+p9B21m35qoIKwnATRJFypLetLk1qLgHn6H+XdGwqfrzn7Z67
        A7QNKOh4U+fFst3Nsai289bd0FXTT/trzwVICPuekoqYcUMgwTuTAGRuOaANIKFzDRlQoA3GhrJJ
        VmXsrKWQlXl5UeRlCRK0s4FsAPV6OIUG50wdOaWOVdIc67x4XL8s9Op9+TzDOd5OV/fVV7FkkGCx
        S76FpzV5spoeqHN+n/y2jwHUATQG2iRMwdOd+FEme3+eQEGDfidS81O3zwAKIpMXRx2Ls0S0NpBf
        oyaB2jtmgcYI7HvTagytswzD8CaBg+trT8jO/j1vJJg+4nG5jcZIiONH1eFYvg5uR5ZBXU5KCRr1
        lmrtaYyv/yryE+8Jm/+ci+E3MquG4RsAAP//AwDajiXG7AEAAA==
    headers:
      CF-RAY:
      - 90aceebb79ce4cac-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:53:08 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:53:07Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:53:08Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:53:05Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:53:07Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01MjtbCHg8bZnJKVihZxvZoU
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are tasked
      with extracting or upserting memories for all entities, concepts, etc.\n\nExtract
      all important facts or entities. If an existing MEMORY is incorrect or outdated,
      update it based on the new information.\n\n\nEnrich, prune, and organize memories
      based on any new information. If an existing memory is incorrect or outdated,
      update it based on the new information. All operations must be done in single
      parallel call.\n\n<session_ecb5f704-a993-444a-95cc-239d8020948b>\n================================
      Human Message =================================\n\nActually I changed my mind,
      dark mode hurts my eyes\n\n================================== Ai Message ==================================\n\nI''ll
      update your preference\n</session_ecb5f704-a993-444a-95cc-239d8020948b>"}],"model":"claude-3-5-sonnet-latest","system":"You
      are a memory subroutine for an AI.\n\n\n\nGenerate JSONPatches to update the
      existing schema instances. If you need to extract or insert *new* instances
      of the schemas, call the relevant function(s).\n<existing>\n<instance id=488022b0-8426-4c1a-95f6-c729593ad3f2
      schema_type=\"PreferenceMemory\">\n{''category'': ''UI Preferences'', ''preference'':
      ''dark mode'', ''context'': ''user prefers dark mode interface across all applications''}\n</instance>\n</existing>\n","tool_choice":{"type":"any"},"tools":[{"name":"PatchDoc","description":"Respond
      with JSONPatch operations to update the existing JSON document based on the
      provided text and schema.","input_schema":{"properties":{"json_doc_id":{"description":"The
      json_doc_id of the document you are patching.","type":"string"},"planned_edits":{"description":"Think
      step-by-step, reasoning over each required update and the corresponding JSONPatch
      operation to accomplish it. Cite the fields in the JSONSchema you referenced
      in developing this plan. Address each path as a group; don''t switch between
      paths.\n Plan your patches in the following order:1. replace - this keeps collection
      size the same.\n2. remove - BE CAREFUL ABOUT ORDER OF OPERATIONS. Each operation
      is applied sequentially. For arrays, remove the highest indexed value first
      to avoid shifting indices. This ensures subsequent remove operations remain
      valid.\n 3. add (for arrays, use /- to efficiently append to end).","type":"string"},"patches":{"description":"A
      list of JSONPatch operations to be applied to the previous tool call''s response
      arguments. If none are required, return an empty list. This field is REQUIRED.
      Multiple patches in the list are applied sequentially in the order provided,
      with each patch building upon the result of the previous one. Take care to respect
      array bounds. Order patches as follows:\n 1. replace - this keeps collection
      size the same\n 2. remove - BE CAREFUL about order of operations. For arrays,
      remove the highest indexed value first to avoid shifting indices.\n 3. add -
      for arrays, use /- to efficiently append to end.","items":{"description":"A
      JSON Patch document represents an operation to be performed on a JSON document.\n\nNote
      that the op and path are ALWAYS required. Value is required for ALL operations
      except ''remove''.","examples":[{"op":"replace","path":"/path/to/my_array/1","value":"the
      newer value to be patched"},{"op":"replace","path":"/path/to/broken_object","value":{"new":"object"}},{"op":"add","path":"/path/to/my_array/-","value":["some","values"]},{"op":"add","path":"/path/to/my_array/-","value":["newer"]},{"op":"remove","path":"/path/to/my_array/1"}],"properties":{"op":{"description":"The
      operation to be performed. Must be one of ''add'', ''remove'', ''replace''.","enum":["add","remove","replace"],"type":"string"},"path":{"description":"A
      JSON Pointer path that references a location within the target document where
      the operation is performed. Note: patches are applied sequentially. If you remove
      a value, the collection size changes before the next patch is applied.","type":"string"},"value":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"type":"null"}]},"type":"object"},{"type":"null"}],"description":"The
      value to be used within the operation. REQUIRED for ''add'', ''replace'', and
      ''test'' operations. Pay close attention to the json schema to ensure patched
      document will be valid."}},"required":["op","path","value"],"type":"object"},"type":"array"}},"required":["json_doc_id","planned_edits","patches"],"type":"object"}},{"name":"PreferenceMemory","description":"Store
      the user''s preference","input_schema":{"properties":{"category":{"type":"string"},"preference":{"type":"string"},"context":{"type":"string"}},"required":["category","preference","context"],"type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA3SSW2/bMAyF/wrBZ7uznTQXP+4GZNiKomiBFUNhqBITe1UoT6K7JkH++yAlWVMM
        exKkQ344POIOO4M1rsOqKcoPkxs3NeOr1odP27sp396PZtJihrLpKVZRCGpFmKF3Nj6oELogigUz
        XDtDFmvUVg2G8lF+mQfHTJJXRTUui6rCDLVjIRasf+xOUHHONkOI1GQl3oemKL/fljfP26stj6qS
        J++399Ovm+oLZshqHfuulej2o9Oxj/tBsN7hz+C4MU43iTSezYqqeizy2bia5GNdqnx+uZzkelrN
        L+cjZUbL6Km3iplMQ6aTgDV+9m4N0hJox8/kg5LOcQYL0IohECVtCOShVQF0q3hFJj52Hu4W0Hta
        kifWBMtIMso/QQwHxIHtVq2k2wUsgCk2Ohh6o4Tg0Umb4GeIZ2UHAsUGUnQvEus9LS1pAWm7k4GI
        +91Ze2JFDL10QTpewfVf3jdaO7+BjuOv6ThG1BXEwxJ46q3SBK4nn8a+iPnEoCmkP3M91nisOkgt
        1vju1TBmmCxjja+z4j77b+txrLO+FO2BGM4Cg46F/DLaU+Es1XbwEo7x04YC7h/2+4cMg7i+8aSC
        47dbloRAv4bkt+bB2gyHtNj17rBLjbgn4oB1OR+XGWqlW2q0p5RJ87akOOmelPlXc4Ocv1TVbL//
        AwAA//8DAEFtx7J1AwAA
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90aceecbbc5c4cac-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:53:12 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:53:09Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:53:12Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:53:08Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:53:09Z'
      request-id:
      - req_01PWbvHwfxhmzxw8AcyBJEsc
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: "{\"max_tokens\":1024,\"messages\":[{\"role\":\"user\",\"content\":\"You
      are reviewing the performance of an AI assistant in a given interaction. \\n\\n##
      Instructions\\n\\nThe current prompt that was used for the session is provided
      below.\\n\\n<current_prompt>\\nYou are an astronomy expert\\n</current_prompt>\\n\\nThe
      developer provided the following instructions around when and how to update
      the prompt:\\n\\n<update_instructions>\\n\\n</update_instructions>\\n\\n## Session
      data\\n\\nAnalyze the following sessions (and any associated user feedback)
      (either conversations with a user or other work that was performed by the assistant):\\n\\n<sessions>\\n<session_45c35858b8b94156b72fa0ae55bd065b>\\n================================
      Human Message =================================\\n\\nTell me about the solar
      system\\n\\n================================== Ai Message ==================================\\n\\nThe
      solar system consists of...\\n\\nFeedback for session 45c35858b8b94156b72fa0ae55bd065b:\\n<FEEDBACK>\\n{'clarity':
      'needs more structure'}\\n</FEEDBACK>\\n</session_45c35858b8b94156b72fa0ae55bd065b>\\n</sessions>\\n\\ni##
      Feedback\\n\\nThe following feedback is provided for this session:\\n\\n<feedback>\\n\\n</feedback>\\n\\n##
      Task\\n\\nAnalyze the conversation, including the user\u2019s request and the
      assistant\u2019s response, and evaluate:\\n1. How effectively the assistant
      fulfilled the user\u2019s intent.\\n2. Where the assistant might have deviated
      from user expectations or the desired outcome.\\n3. Specific areas (correctness,
      completeness, style, tone, alignment, etc.) that need improvement.\\n\\nIf the
      prompt seems to do well, then no further action is needed. We ONLY recommend
      updates if there is evidence of failures.\\nWhen failures occur, we want to
      recommend the minimal required changes to fix the problem.\\n\\nFocus on actionable
      changes and be concrete.\\n\\n1. Summarize the key successes and failures in
      the assistant\u2019s response. \\n2. Identify which failure mode(s) best describe
      the issues (examples: style mismatch, unclear or incomplete instructions, flawed
      logic or reasoning, hallucination, etc.).\\n3. Based on these failure modes,
      recommend the most suitable edit strategy. For example, consider::\\n   - Use
      synthetic few-shot examples for style or clarifying decision boundaries.\\n
      \  - Use explicit instruction updates for conditionals, rules, or logic fixes.\\n
      \  - Provide step-by-step reasoning guidelines for multi-step logic problems.\\n4.
      Provide detailed, concrete suggestions for how to update the prompt accordingly.\\n\\nBut
      remember, the final updated prompt should only be changed if there is evidence
      of poor performance, and our recommendations should be minimally invasive.\\nDo
      not recommend generic changes that aren't clearly linked to failure modes.\\n\\nFirst
      think through the conversation and critique the current behavior.\\nIf you believe
      the prompt needs to further adapt to the target context, provide precise recommendations.\\nOtherwise,
      mark `warrants_adjustment` as False and respond with 'No recommendations.'\"}],\"model\":\"claude-3-5-sonnet-latest\",\"tool_choice\":{\"type\":\"any\"},\"tools\":[{\"name\":\"think\",\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"input_schema\":{\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"properties\":{\"thought\":{\"title\":\"Thought\",\"type\":\"string\"}},\"required\":[\"thought\"],\"title\":\"think\",\"type\":\"object\"}},{\"name\":\"critique\",\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"input_schema\":{\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"properties\":{\"criticism\":{\"title\":\"Criticism\",\"type\":\"string\"}},\"required\":[\"criticism\"],\"title\":\"critique\",\"type\":\"object\"}}]}"
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA4RVXW8bNxD8Kwu+pAVOrmS7aXtvtlunjiPDcJwmRVUIFLmnY8Xjnrl7ss+G/3tB
        6rsJ0EeRO8PZ2dnTi3JWlarh+XQ4+vB8+/k+3P9ycUPLfy4/PglxNfuiCiV9i6kKmfUcVaEi+XSg
        mR2LDqIK1ZBFr0plvO4sDk4GPw6YQkAZHA+PT0fD42NVKENBMIgq/3rZkAqRn3acWLOU9LubDken
        5/Lut/H4oYpn4wtqbXX2e3zLqlBBNxlXu7BIoNB2osoXJTV181pUqT6gQIOgg/b9M4LUCIbCEiNr
        cRRAB5sPt/LfMLQYK4qNDgbLSZiE0RF8Yoxwhw8dspRwxgu0oGfUSQYzeR2BexZsYAAaZpG0LYBa
        DAMMFi1kZHpQai0Q8aFzERkMNW3EGgO7JRbwiN4PWGJnpItowYUsJAEn4fgIzjYq4Q65pcBYwrlm
        tJCZESpEO9NmAd9NVEC0DA1FhC3lRH1f5MK4xoN3C/Q9tJGWzh4+CbNOwGuTmqU418E9r6WcHMFF
        FyMGgdtITSslTNSf1IGOyWvQLJECNT3gU4tRJgoGsMTYQ+OCa7QvMi/DvHM2+Zz0txEZg6yeZuk9
        5ulYbKVOY7jGHq6YO+RyEgZwX+OGLalvWgFLyOGNbJo5YK/pEYR2Tmwd4ER2Q+DC6i6nIo/2YDgB
        mYHif4zISOsirnDrKXhcogeqwKJo57MJRtCm+rFjdmF+oA1tZzKh9j/gU+t10EKxB922kbSp1etr
        8b9Lcnlz/nn5ZfHH9S2a9z9f9/Hybrl8v1sSE524hw739ySfGceNKtWldj75MiabHR4dwcc8hLHj
        Roupy2z5LjirYLSRWox7vlrk1gnCDFObVaQmJWKiNknIQf4UjEcd4WpnOq/4zTpX65E6BiGC2SpY
        djviZN+emFVmczCvQpqbR0F4l4q8C8jlV3OqdbA+Kcy7Cks+Am7RuMqZ7bJyit23RbnAXVU549Lx
        DI3uGHMsrwQo+B6QRc+84xp5vQSOMW9UIPlG1hP214PmUpL205YCtWrtabtgzmh/+JXYJazVUTco
        GDnZs2vYuqrC3E5KFCfavYZzoquEfKS4yEgM3MWEPFgI6FFAG4PMbuYRNsFNNOr19e9CsVA7jaiZ
        wmFu8wWnr2kwqMrQeV+oLv+flC+rdE6FFhhYlaPR6WmhjDY1Tk3EzD89LBlu7iNq+/UddbJ/cjL6
        6V/V1gIAAAD//wMAn6+WS+wGAAA=
    headers:
      CF-RAY:
      - 90aceeec385f6991-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:53:20 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:53:14Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:53:20Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:53:13Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:53:14Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_012cwHJpMmwXvtMm1RdZzjLm
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: "{\"max_tokens\":1024,\"messages\":[{\"role\":\"user\",\"content\":\"You
      are reviewing the performance of an AI assistant in a given interaction. \\n\\n##
      Instructions\\n\\nThe current prompt that was used for the session is provided
      below.\\n\\n<current_prompt>\\nYou are an astronomy expert\\n</current_prompt>\\n\\nThe
      developer provided the following instructions around when and how to update
      the prompt:\\n\\n<update_instructions>\\n\\n</update_instructions>\\n\\n## Session
      data\\n\\nAnalyze the following sessions (and any associated user feedback)
      (either conversations with a user or other work that was performed by the assistant):\\n\\n<sessions>\\n<session_45c35858b8b94156b72fa0ae55bd065b>\\n================================
      Human Message =================================\\n\\nTell me about the solar
      system\\n\\n================================== Ai Message ==================================\\n\\nThe
      solar system consists of...\\n\\nFeedback for session 45c35858b8b94156b72fa0ae55bd065b:\\n<FEEDBACK>\\n{'clarity':
      'needs more structure'}\\n</FEEDBACK>\\n</session_45c35858b8b94156b72fa0ae55bd065b>\\n</sessions>\\n\\ni##
      Feedback\\n\\nThe following feedback is provided for this session:\\n\\n<feedback>\\n\\n</feedback>\\n\\n##
      Task\\n\\nAnalyze the conversation, including the user\u2019s request and the
      assistant\u2019s response, and evaluate:\\n1. How effectively the assistant
      fulfilled the user\u2019s intent.\\n2. Where the assistant might have deviated
      from user expectations or the desired outcome.\\n3. Specific areas (correctness,
      completeness, style, tone, alignment, etc.) that need improvement.\\n\\nIf the
      prompt seems to do well, then no further action is needed. We ONLY recommend
      updates if there is evidence of failures.\\nWhen failures occur, we want to
      recommend the minimal required changes to fix the problem.\\n\\nFocus on actionable
      changes and be concrete.\\n\\n1. Summarize the key successes and failures in
      the assistant\u2019s response. \\n2. Identify which failure mode(s) best describe
      the issues (examples: style mismatch, unclear or incomplete instructions, flawed
      logic or reasoning, hallucination, etc.).\\n3. Based on these failure modes,
      recommend the most suitable edit strategy. For example, consider::\\n   - Use
      synthetic few-shot examples for style or clarifying decision boundaries.\\n
      \  - Use explicit instruction updates for conditionals, rules, or logic fixes.\\n
      \  - Provide step-by-step reasoning guidelines for multi-step logic problems.\\n4.
      Provide detailed, concrete suggestions for how to update the prompt accordingly.\\n\\nBut
      remember, the final updated prompt should only be changed if there is evidence
      of poor performance, and our recommendations should be minimally invasive.\\nDo
      not recommend generic changes that aren't clearly linked to failure modes.\\n\\nFirst
      think through the conversation and critique the current behavior.\\nIf you believe
      the prompt needs to further adapt to the target context, provide precise recommendations.\\nOtherwise,
      mark `warrants_adjustment` as False and respond with 'No recommendations.'\"},{\"role\":\"assistant\",\"content\":[{\"type\":\"tool_use\",\"name\":\"think\",\"input\":{\"thought\":\"Let
      me analyze the conversation and the assistant's performance:\\n\\n1. User Request:
      Asked about the solar system - a broad, open-ended question that requires comprehensive,
      well-structured information\\n2. Assistant Response: Based on the feedback (\\\"needs
      more structure\\\"), the response likely provided information but lacked organization\\n3.
      Current Prompt: \\\"You are an astronomy expert\\\" - very minimal, lacks guidance
      on presentation style and depth\\n\\nKey Issues:\\n- The minimal prompt doesn't
      provide guidance on how to structure responses\\n- No instruction about comprehensiveness
      or organization\\n- No direction on the level of detail expected\\n- Missing
      guidance on educational/explanatory approach\"},\"id\":\"toolu_014BtGEMMqfrAMCopdfAHr6s\"},{\"type\":\"tool_use\",\"name\":\"critique\",\"input\":{\"criticism\":\"Failure
      Modes:\\n1. Style Mismatch: The response lacked proper structure despite being
      from an \\\"expert\\\"\\n2. Unclear Instructions: The current prompt is too
      bare and doesn't guide response format\\n3. Incomplete Guidelines: No direction
      on handling broad vs. specific questions\\n\\nThe current prompt is insufficient
      because:\\n- It only establishes expertise but not presentation style\\n- Doesn't
      guide the organization of complex astronomical information\\n- Missing parameters
      for handling different types of questions\\n- No framework for ensuring comprehensive
      yet accessible explanations\"},\"id\":\"toolu_01FNBWvXkVKPecJ8KyrFRvvJ\"}]},{\"role\":\"user\",\"content\":[{\"type\":\"tool_result\",\"content\":\"\",\"tool_use_id\":\"toolu_014BtGEMMqfrAMCopdfAHr6s\",\"is_error\":false},{\"type\":\"tool_result\",\"content\":\"\",\"tool_use_id\":\"toolu_01FNBWvXkVKPecJ8KyrFRvvJ\",\"is_error\":false}]}],\"model\":\"claude-3-5-sonnet-latest\",\"tool_choice\":{\"type\":\"any\"},\"tools\":[{\"name\":\"think\",\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"input_schema\":{\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"properties\":{\"thought\":{\"title\":\"Thought\",\"type\":\"string\"}},\"required\":[\"thought\"],\"title\":\"think\",\"type\":\"object\"}},{\"name\":\"critique\",\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"input_schema\":{\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"properties\":{\"criticism\":{\"title\":\"Criticism\",\"type\":\"string\"}},\"required\":[\"criticism\"],\"title\":\"critique\",\"type\":\"object\"}},{\"name\":\"recommend\",\"description\":\"Decides
      whether a prompt should be adjusted.\\nIf warrants_adjustment is True, we incorporate
      recommended changes.\\nIf not, we respond 'No recommendations.'\",\"input_schema\":{\"description\":\"Decides
      whether a prompt should be adjusted.\\nIf warrants_adjustment is True, we incorporate
      recommended changes.\\nIf not, we respond 'No recommendations.'\",\"properties\":{\"warrants_adjustment\":{\"title\":\"Warrants
      Adjustment\",\"type\":\"boolean\"},\"hypotheses\":{\"anyOf\":[{\"type\":\"string\"},{\"type\":\"null\"}],\"title\":\"Hypotheses\"},\"full_recommendations\":{\"anyOf\":[{\"type\":\"string\"},{\"type\":\"null\"}],\"title\":\"Full
      Recommendations\"}},\"required\":[\"warrants_adjustment\"],\"title\":\"recommend\",\"type\":\"object\"}}]}"
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2xUXW9bNwz9K4SeNuDasPPVwm/NkHUP29CmCYZtHgxaou9Vo0vdipQdN8h/H6Rr
        O8vaR0nkIXnOoZ6Md2ZhemlXs/mbX9/v4t3NtfvdX37+651e396vH25NY3Q/UIkiEWzJNCbFUC5Q
        xIsiq2lMHx0FszA2YHY0OZ9cTiQyk07OZmcX89nZmWmMjazEahZ/Px1BNcawylJQayvlnFez+f36
        5ubqJ/f26v7jp8ePF6xJ+q+9aQxjX/IS2dj3xK4k8pDVLJ7MDlNCVlmh+5xF+1pLU6bGdPshakdC
        YhbmriMYUuwHBSZyAqIpW82JJptos5AD3w8pbqlACGhcLHk+hffZO4JEMkQWgphaZP8V1Ude8tkU
        PpECPQ5ktd4JbGICG/shUUcsfktMIks+n8INS04E5LKtsRjABkxe90u+mMJv6FnRc4VLOgm0pQBo
        bU5o96YxmxzC6kTCWM4szP3gUAn0ZcDa+5KX5s+YARMBMqBoihz7/QEedl0s8VvvSMAGwtTAjkKY
        nIhxJTQgj5Wm8EdHDMiyo+S5hS+ZpL7UYvMpfFIsuF47QFgnTxuIW0pbTztY0yYmAue3JdWzRnCk
        6INUFu+Fxh5AyI48VhxHYpMf1G8JOkLnuRXYlT5qa54LWmE70CNoHLwdqf6QSIgVPG9i6usA4BkQ
        Qmy9xQBCXzKxJfiBpu20gU2KPTBhIin8wQZTsY42EDC1h0vpMYR6WTTuCp9HvJgcJUABHIYUh+RR
        6ccq6zUGLIWUbMc19ijpgSprScSvfahGuJzCzzHBOkV0h4mao06Ar50F66xHR5J7ITtu4IH2METP
        Kku+GiFlIOs33r4I10C1PkQ+iPE/yWHX+UDQH4w5cs1Kj1oUv6We+jWlwswxBNZROxDribXWOs2K
        7L7n/KpKCKcFk+nSFPC7zgvk6mx3sPViyRN451wiEZLq95NVwYtkgs63XfBtV5I8w4bIrdE+lMTj
        do2Jhx0YovjSj+e2xHx4tQ7QltUPnmlc6gPRhYVTtyXrFwqDQIfsAo3zj+KVib/lvGSMH4F8R8yj
        GQK9EsI8P//TGNE4rBKhRH79i9aHo6PNgnMIjcn14148jV/lSuMDle9i/ubybWMs2o5WNlHFX70O
        mR3fE6H79i1m/e/N+ez8+flfAAAA//8DAOn3GytVBgAA
    headers:
      CF-RAY:
      - 90acef17dea54cac-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:53:27 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:53:22Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:53:27Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:53:20Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:53:22Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01DVcu9Bxvczb238UUBYa4D8
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are optimizing
      a prompt to handle its target task more effectively.\n\n<current_prompt>\nYou
      are an astronomy expert\n</current_prompt>\n\nWe hypothesize the current prompt
      underperforms for these reasons:\n\n<hypotheses>\nThe prompt needs structure-focused
      improvements to:\n1. Guide response organization\n2. Set expectations for comprehensiveness\n3.
      Ensure educational clarity\n4. Maintain expert-level accuracy\n</hypotheses>\n\nBased
      on these hypotheses, we recommend the following adjustments:\n\n<recommendations>\nUpdate
      the prompt to:\n\n\"You are an astronomy expert who provides clear, well-structured
      explanations. When answering questions:\n\n1. Start with a brief overview before
      diving into details\n2. Use clear sections with descriptive headings when explaining
      complex topics\n3. Present information in a logical sequence (e.g., from nearest
      to farthest, largest to smallest, or chronological order as appropriate)\n4.
      Balance technical accuracy with accessibility\n5. For broad topics, provide
      a comprehensive but organized overview of key points\n6. For specific questions,
      focus on detailed explanations while maintaining context\n\nRemember to maintain
      both scientific accuracy and educational clarity in all responses.\"\n\nThis
      updated prompt:\n- Addresses the structure issue highlighted in feedback\n-
      Maintains the expert positioning\n- Provides clear guidelines for organizing
      responses\n- Helps handle both broad and specific questions\n- Ensures comprehensive
      but accessible explanations\n</recommendations>\n\nRespond with the updated
      prompt. Remember to ONLY make changes that are clearly necessary. Aim to be
      minimally invasive:"}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"tool","name":"OptimizedPromptOutput"},"tools":[{"name":"OptimizedPromptOutput","description":"Schema
      for the optimized prompt output.","input_schema":{"description":"Schema for
      the optimized prompt output.","properties":{"analysis":{"description":"First,
      analyze the current results and plan improvements to reconcile them.","title":"Analysis","type":"string"},"improved_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Finally,
      generate the full updated prompt to address the identified issues.   The prompt
      section being optimized contains no input f-string variables. Any brackets {{
      foo }} you emit will be escaped and not used.","title":"Improved Prompt"}},"required":["analysis","improved_prompt"],"title":"OptimizedPromptOutput","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA3xV728bNwz9Vwh9WQucjSRt0s7f1gLFsLVr0fTHinkwaIl3x0UnXUTJrhPkfx+o
        s52mK/bpcJJIPr33SN0admZhBulWJ6cfL/64ubr4ZD98vjx/89v786tT9+eLS9OYvBtJT5EIdmQa
        k6LXBRRhyRiyacwQHXmzMNZjcTR7MjufSQyB8uzs5Ozp6cnZmWmMjSFTyGbx1+0haY7Rr4po1gpF
        /8vq5PTVy/7yy80vL+XZ85t3Z7/+8cmV338upjEBB417O2Ye+IbcuxSHMb8teSyKg4N+F7cGA/qd
        sJiFeU0ZBoK6ckOQe4I4hWPmGCAQOVkswzKczuFt4o4DehhrYni0NF9iAUyaAFByiiEOO6CvI6W8
        NI+BBeKGkt/BwIEH9A14tFccOugKOwyWIAZIJGMMQnBd0HPeAQYHklOxuSRahrM5fOgJ+t0Yc09C
        AjamRDb7HbCjkLndwRXtoMNRgMN9bAM2DmOinoLwhgKJNGA9Js67ppZBa0tCu4MBWSVQTMvwZKqY
        yMZhoOAqG6IX37AjQNiS97Pcx9L1eRZLhjbhQNuYriD3mAGdSyQKtSKekG1ZI3LlZKbAPFvMHLpl
        eDoVlNJ1JJkc8KDFaKCQZcKGHPTetOcXxiissJTNbc+etKj+BLLqx7SDrmByCdnLMpxPFWyPoSOp
        qv1TJHPL5GCNQk6lsJ4wTbJP9DgHMpLllm0DaLUgrj0d9VNvPKCK3IMa92DWZLEILZZhVpHE7+y0
        J1cgxB+746gqxASOxtzvUyX6qUY5VlOob2OAHoPzSofjtqVEIYM2lkBs4bpQYhINf8MiekpJtXmv
        cxsTkCu2/qI/OGZP80GNQ1jKLKS5XqO9km+coGli6jDwjZ6titPXY6ew1dQxWBqzHHgcUxyjilFG
        h3lPIo66nBgz+R2IjSO5SZ5NZAcl3LO8L3KPdu/ECUAiYJFCMteBMFnMrSYBzOL/2hm2fbyXqNqk
        mbrgKIvTox7DROIcPvcUAINsKWn160JSdw7z5DKj5uXcA8I6MbW1MzZMW1hTq2AdbzSUQ47gKE9O
        PpvDR6G9VWVSfGoucCQ28Zh5Q9ATajsIbBVHhTZpdtAhx5Gt1GZ/l0jUIRzamIZp9nEABB+7KpPQ
        dSE15COad/MG2hQHCISJJEOO0GLSRs864FK3X5QBva+LMYHtlc9DvpgcJUD5VtrHdQy8QF+dn8n2
        oZ49jqiJKqtS85p1Uta2fhUTrFNEt79R882cejD+YK3DZzKktvuB7NjW6TlGDmrEiynloe3vhWug
        jbaIdtckxneS/6A/6rv2Navi72mgYU1JmTkOtHXMPYjlOsTZ3t9V3f2jFlRVvD8OBZmbu7u/GyM5
        jqtEKDE8fDrrxkE9swjF+8aU+lovbqc3cZXjFQUxi+fnzxpj0fa0solq5dXDEyeH/UTo/rsX61t7
        XHlycXp39y8AAAD//wMAnu8IPUkIAAA=
    headers:
      CF-RAY:
      - 90acef437bcc32c6-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:53:34 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:53:28Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:53:34Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:53:27Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:53:28Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01VPGk15Y6rJvcgomzJ2P18L
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are helping
      an AI assistant learn by optimizing its prompt.\n\n## Background\n\nBelow is
      the current prompt:\n\n<current_prompt>\nYou are a quantum computing expert\n</current_prompt>\n\nThe
      developer provided these instructions regarding when/how to update:\n\n<update_instructions>\n\n</update_instructions>\n\n##
      Session Data\nAnalyze the session(s) (and any user feedback) below:\n\n<sessions>\n<session_fe5a7bb133ab46b78bb798dde66453c0>\n================================
      Human Message =================================\n\nExplain quantum computing\n\n==================================
      Ai Message ==================================\n\nQuantum computing uses...\n\nFeedback
      for session fe5a7bb133ab46b78bb798dde66453c0:\n<FEEDBACK>\nNeed better organization
      and concrete examples\n</FEEDBACK>\n</session_fe5a7bb133ab46b78bb798dde66453c0>\n</sessions>\n\n##
      Instructions\n\n1. Reflect on the agent''s performance on the given session(s)
      and identify any real failure modes (e.g., style mismatch, unclear or incomplete
      instructions, flawed reasoning, etc.).\n2. Recommend the minimal changes necessary
      to address any real failures. If the prompt performs perfectly, simply respond
      with the original prompt without making any changes.\n3. Retain any f-string
      variables in the existing prompt exactly as they are (e.g. {variable_name}).\n\nIFF
      changes are warranted, focus on actionable edits. Be concrete. Edits should
      be appropriate for the identified failure modes. For example, consider synthetic
      few-shot examples for style or clarifying decision boundaries, or adding or
      modifying explicit instructions for conditionals, rules, or logic fixes; or
      provide step-by-step reasoning guidelines for multi-step logic problems if the
      model is failing to reason appropriately."}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"any"},"tools":[{"name":"think","description":"Reflection
      tool implementation.","input_schema":{"description":"Reflection tool implementation.","properties":{"thought":{"title":"Thought","type":"string"}},"required":["thought"],"title":"think","type":"object"}},{"name":"critique","description":"Critique
      tool implementation.","input_schema":{"description":"Critique tool implementation.","properties":{"criticism":{"title":"Criticism","type":"string"}},"required":["criticism"],"title":"critique","type":"object"}},{"name":"OptimizedPromptOutput","description":"Schema
      for the optimized prompt output.","input_schema":{"description":"Schema for
      the optimized prompt output.","properties":{"analysis":{"description":"First,
      analyze the current results and plan improvements to reconcile them.","title":"Analysis","type":"string"},"improved_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Finally,
      generate the full updated prompt to address the identified issues.   The prompt
      section being optimized contains no input f-string variables. Any brackets {{
      foo }} you emit will be escaped and not used.","title":"Improved Prompt"}},"required":["analysis","improved_prompt"],"title":"OptimizedPromptOutput","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAAwAAAP//lFZhbxs3DP0rhL5sA5wgdpMW9be4aLu2yxqsSYN2GQJaou9Y66SLRNm5
        FPnvg3S248Rd2308SRQf33vk6atio8aqidXVwXCCF7E+8d78eW7a2cK/psn12Sc1UNK1lE9RjFiR
        GqjgbV7AGDkKOlED1XhDVo2VtpgM7T3ZO9qL3jmSvdHB6HB4MBqpgdLeCTlR47+/ri8V7+1VivnW
        AiV/p6uD4bN4fvblc4M+LX5/ejz68qxZTt4t1EA5bEpczW6eg1ybRI2/Kql9qmpRY/UHCTQE6NB2
        twRSE8yIzBT1HNAZaINvfSTgpg1+QQ05iSAeGpz3p9vgm1ag8YGAZjPSwguCmQ9AN61FduwquE7o
        JDWgfdMmySvaO02txH11dzf4YYEf57IYvTisPj55uXh5zHo4n0/a0X2BOrDwdaLtGsua5tiosXpH
        HXCMiSKwISc8YzLjSzfch7OaQKcQyMm6Fs4VemjYcYO20GBRzyPEljTPWEOV2KDTBN5B7ZeZkCgh
        aUmZhVy3Q2Hv4qUb7cOfHtj1+3mtkJPZZLNmIpDkOGxaS/HSPdmHE44x725n8qFCx7d9UD568x1i
        SxZtMbB0l+6woDAcqGDIt6HBtkRs4y1RhmczKoTMnV9aMhWBpQXZ+FNiTU5ns4vP4qZn7fD5efX8
        8OXTj9en92K9b4UbviVzWuh+nyQrtqVcMWPkqMbq2+rQjQRqyHYwxci6KGQ8RfeLrIglIJctfs9f
        Liz79fhNVsuQ5QUFWJK1exvpzGBbjS1W/Ox7FoYJRjKZ0wftE+g6USxHpyRCYS1gubSA3tF+AEuC
        WPtksz2LQY+NuTfejo/use/67o3TNhkqQDiserfY4nHaAibT7iteGfBDSdltmWFVb0K7cgP82tMv
        HtAsMsvmNyhey5gz82TZUZ+zwfm2cTc2Ra0pRp5a+jlzdRe3J4fDYXMyeev9q/T21Yunp0f/w1yr
        QWauejupsfrkE2AgwG9oTDctBYFl7YFudK4ZZXuw7ZSjLWGwXSE0dlGoQWGN1nb7cFGT+7mpuNb+
        w2aodD6Fh55kBwhZMI02u74KmUfvxpcOAPbgg2BGzlLDzCdnShjaTY7VsUliayC1ZajnIb4uiQ3h
        +tB5pL4yiKsBUhMaCo/nhfiWdR9UHHhsl9hlqL0Rf+C78Va2QGj3lj5YUwBh4Li2PE6jBNTyuJLT
        VedvmmWT5Zvti21rWa/bpdywbpgNIpAaBQJZFMoE0YJCZ7DrfcHkdO6W0i/HeZzuyFRmzX+O03XB
        E6rY9VLdtwOwk+BN0uJD96i5S9TrgCZlZ21OEgjp2hVHCIWGnbe+6tZZAufUO5btLYINW8byy4ix
        3LBry1zq4T6c5H//jgog6KoCfNrdK5nDFxzz0DAUdeC2d+8y90Lr+1I3AKkfEsYv3QZng1L3XZSN
        VPis8ljNmVqmokAJf5GfULoAlpp8IFmVscbnoc2Iy+pD9S/dX9RQM6XQv23YCbKDqLl/LOisSwqo
        O1jWbAnmRO3Ov3NLu+xrchVW7Kr8xPlnoKL49ioQRu8ezreyEfPPwmlSY5esHahUXo95XuXBdSV+
        Ti6q8fDg6PlAadQ1XelAJfHVwyMH6/1AaHb3fJmIm5Wj4bO7u38BAAD//wMAE6HtitoKAAA=
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90acef721bcd32c6-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:53:44 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:53:36Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:53:44Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:53:35Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:53:36Z'
      request-id:
      - req_01PJspNpauKh7BMsF3SEpx7N
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are helping
      an AI assistant learn by optimizing its prompt.\n\n## Background\n\nBelow is
      the current prompt:\n\n<current_prompt>\nYou are a quantum computing expert\n</current_prompt>\n\nThe
      developer provided these instructions regarding when/how to update:\n\n<update_instructions>\n\n</update_instructions>\n\n##
      Session Data\nAnalyze the session(s) (and any user feedback) below:\n\n<sessions>\n<session_fe5a7bb133ab46b78bb798dde66453c0>\n================================
      Human Message =================================\n\nExplain quantum computing\n\n==================================
      Ai Message ==================================\n\nQuantum computing uses...\n\nFeedback
      for session fe5a7bb133ab46b78bb798dde66453c0:\n<FEEDBACK>\nNeed better organization
      and concrete examples\n</FEEDBACK>\n</session_fe5a7bb133ab46b78bb798dde66453c0>\n</sessions>\n\n##
      Instructions\n\n1. Reflect on the agent''s performance on the given session(s)
      and identify any real failure modes (e.g., style mismatch, unclear or incomplete
      instructions, flawed reasoning, etc.).\n2. Recommend the minimal changes necessary
      to address any real failures. If the prompt performs perfectly, simply respond
      with the original prompt without making any changes.\n3. Retain any f-string
      variables in the existing prompt exactly as they are (e.g. {variable_name}).\n\nIFF
      changes are warranted, focus on actionable edits. Be concrete. Edits should
      be appropriate for the identified failure modes. For example, consider synthetic
      few-shot examples for style or clarifying decision boundaries, or adding or
      modifying explicit instructions for conditionals, rules, or logic fixes; or
      provide step-by-step reasoning guidelines for multi-step logic problems if the
      model is failing to reason appropriately."},{"role":"assistant","content":[{"type":"text","text":"[{''id'':
      ''toolu_017sUTjZmaouvH6A2j7mwBKv'', ''input'': {''thought'': ''Let me analyze
      the feedback and propose improvements to make the prompt more effective for
      explaining quantum computing concepts.''}, ''name'': ''think'', ''type'': ''tool_use''},
      {''id'': ''toolu_01Vktv2C4gV3EvEAic1kkBp2'', ''input'': {''criticism'': ''Key
      issues identified:\\n1. The current prompt is too minimal and lacks specific
      guidance on how to structure explanations\\n2. No instructions for providing
      concrete examples\\n3. Missing guidance on organizing complex quantum computing
      concepts for clarity\\n4. No direction on adapting explanations for different
      knowledge levels''}, ''name'': ''critique'', ''type'': ''tool_use''}, {''id'':
      ''toolu_01BPffWZtnbTp19Ug94E6VqP'', ''input'': {''analysis'': \"The current
      prompt is extremely basic and doesn''t provide enough guidance for the AI to
      deliver well-structured, concrete explanations of quantum computing concepts.
      Based on the feedback requesting better organization and concrete examples,
      we should:\\n\\n1. Add specific instructions for structured explanations\\n2.
      Include requirements for concrete examples and analogies\\n3. Specify different
      conceptual levels (basic to advanced) \\n4. Add guidelines for making complex
      concepts accessible\"}, ''name'': ''OptimizedPromptOutput'', ''type'': ''tool_use''},
      {''id'': ''toolu_01ByWzM411mMBJooFuJFC6P5'', ''input'': {''improved_prompt'':
      ''You are a quantum computing expert who excels at explaining complex concepts
      clearly and systematically. When explaining quantum computing concepts:\\n\\n1.
      Structure your explanations in a logical progression:\\n   - Start with foundational
      concepts\\n   - Build up to more complex ideas\\n   - Use clear section headers
      for different topics\\n   \\n2. Always include concrete examples and analogies:\\n   -
      Use real-world comparisons for abstract concepts\\n   - Provide specific examples
      of quantum computing applications\\n   - Include analogies that relate to everyday
      experiences\\n\\n3. Adapt your explanation to different knowledge levels:\\n   -
      Begin with accessible introductory explanations\\n   - Gradually introduce technical
      terminology\\n   - Bridge complex concepts with familiar classical computing
      concepts\\n\\n4. Make abstract concepts tangible by:\\n   - Using visual descriptions
      when possible\\n   - Breaking down complex mathematics into digestible pieces\\n   -
      Connecting theoretical concepts to practical applications\\n\\nRemember to maintain
      scientific accuracy while keeping explanations accessible and engaging.''},
      ''name'': ''OptimizedPromptOutput'', ''type'': ''tool_use''}]"},{"type":"tool_use","name":"OptimizedPromptOutput","input":{"analysis":"The
      current prompt is extremely basic and doesn''t provide enough guidance for the
      AI to deliver well-structured, concrete explanations of quantum computing concepts.
      Based on the feedback requesting better organization and concrete examples,
      we should:\n\n1. Add specific instructions for structured explanations\n2. Include
      requirements for concrete examples and analogies\n3. Specify different conceptual
      levels (basic to advanced) \n4. Add guidelines for making complex concepts accessible"},"id":"toolu_01BPffWZtnbTp19Ug94E6VqP"}]},{"role":"user","content":[{"type":"tool_result","content":"Error:\n\n```\n1
      validation error for OptimizedPromptOutput\n  Assertion failed,  [type=assertion_error,
      input_value={''analysis'': \"The current...ex concepts accessible\"}, input_type=dict]\n    For
      further information visit https://errors.pydantic.dev/2.10/v/assertion_error\n```\nExpected
      Parameter Schema:\n\n```json\n{''description'': ''Schema for the optimized prompt
      output.'', ''properties'': {''analysis'': {''description'': ''First, analyze
      the current results and plan improvements to reconcile them.'', ''title'': ''Analysis'',
      ''type'': ''string''}, ''improved_prompt'': {''anyOf'': [{''type'': ''string''},
      {''type'': ''null''}], ''description'': ''Finally, generate the full updated
      prompt to address the identified issues.   The prompt section being optimized
      contains no input f-string variables. Any brackets {{ foo }} you emit will be
      escaped and not used.'', ''title'': ''Improved Prompt''}}, ''required'': [''analysis'',
      ''improved_prompt''], ''title'': ''OptimizedPromptOutput'', ''type'': ''object''}\n```\nPlease
      use PatchFunctionErrors to fix all validation errors. for json_doc_id=[toolu_01BPffWZtnbTp19Ug94E6VqP].","tool_use_id":"toolu_01BPffWZtnbTp19Ug94E6VqP","is_error":true}]}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"any"},"tools":[{"name":"PatchFunctionErrors","description":"Respond
      with all JSONPatch operations required to update the previous invalid function
      call.\n\nUse to correct all validation errors in non-compliant function calls,
      or to extend or update existing structured data in the presence of new information.
      Closely analyze\nthe parameters from the original JSONSchema to ensure the patched
      document will be valid\nand that you avoid repeating the same errors.","input_schema":{"properties":{"json_doc_id":{"description":"The
      ID of the function you are patching.","type":"string"},"planned_edits":{"description":"Write
      a bullet-point list of each ValidationError you encountered and the corresponding
      JSONPatch operation needed to heal it. For each operation, write why your initial
      guess was incorrect,  citing the corresponding types(s) from the JSONSchema
      that will be used the validate the resultant patched document.  Think step-by-step
      to ensure no error is overlooked.","type":"string"},"patches":{"description":"A
      list of JSONPatch operations to be applied to the previous tool call''s response
      arguments. If none are required, return an empty list. This field is REQUIRED.
      Multiple patches in the list are applied sequentially in the order provided,
      with each patch building upon the result of the previous one.","items":{"description":"A
      JSON Patch document represents an operation to be performed on a JSON document.\n\nNote
      that the op and path are ALWAYS required. Value is required for ALL operations
      except ''remove''.","examples":[{"op":"replace","path":"/path/to/my_array/1","value":"the
      newer value to be patched"},{"op":"replace","path":"/path/to/broken_object","value":{"new":"object"}},{"op":"add","path":"/path/to/my_array/-","value":["some","values"]},{"op":"add","path":"/path/to/my_array/-","value":["newer"]},{"op":"remove","path":"/path/to/my_array/1"}],"properties":{"op":{"description":"The
      operation to be performed. Must be one of ''add'', ''remove'', ''replace''.","enum":["add","remove","replace"],"type":"string"},"path":{"description":"A
      JSON Pointer path that references a location within the target document where
      the operation is performed. Note: patches are applied sequentially. If you remove
      a value, the collection size changes before the next patch is applied.","type":"string"},"value":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"type":"null"}]},"type":"object"},{"type":"null"}],"description":"The
      value to be used within the operation. REQUIRED for ''add'', ''replace'', and
      ''test'' operations. Pay close attention to the json schema to ensure patched
      document will be valid."}},"required":["op","path","value"],"type":"object"},"type":"array"}},"required":["json_doc_id","planned_edits","patches"],"type":"object"}},{"name":"PatchFunctionName","description":"Call
      this if the tool message indicates that you previously invoked an invalid tool,
      (e.g., \"Unrecognized tool name\" error), do so here.","input_schema":{"properties":{"json_doc_id":{"description":"The
      ID of the function you are patching.","type":"string"},"reasoning":{"description":"At
      least 2 logical reasons why this action ought to be taken.Cite the specific
      error(s) mentioned to motivate the fix.","items":{"type":"string"},"type":"array"},"fixed_name":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"If
      you need to change the name of the function (e.g., from an \"Unrecognized tool
      name\" error), do so here. Must be one of think, critique, OptimizedPromptOutput"}},"required":["json_doc_id","reasoning","fixed_name"],"type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2xV224bNxD9lQFf/CI5luyk9b4lRWoUjQu3duI0dSCMyNEua+6QJoeSF4aBfks/
        rV9SkGvJdpzHHc7lzDmH3DtljWpUn9rFwez8aPmFT2ezy8/2ZHNz+jYf//jDr6wmSoZAJYtSwpbU
        REXvSgBTskmQRU1U7w051SjtMBuaHk5fT5NnJpnOD+ZHs4P5XE2U9izEopq/7rZNxXu3yKl0rVDK
        d14czE4v48n1xflluPw95Q+fXh99vvhgejVRjH2pO0PR3c+ZtVjP72P0MZUWHLKo5k79nTwvjNeL
        Z03fna1Wl1+ElxdhdvyxPT56/+bTzZmaqOCQmcyCjJWkGvXfP//CJ3TW4K59A6c2JcstRLrJNpKB
        lSVnYM/2Ifo1mUWIvg+yd8VT+I3IgHhAY0A6epkEASP2JBRhY6WrSdr3wZEQ5GBQyMCYW/pddARJ
        d9TjdnyCpZcO9pDRDcmmPUD+DpgRZOEmFMYoVfJ9KPIZM4Y71ahXlbpX35SriVqjy4XwP30GjAQI
        NxlZcl/hZimM0G2gKLDpPNCtJpcApQQdWi7n42K3oD1rCpJAO8Lohgo5DUmoR7EanRv24bIjflr8
        cty2TXPFVzzbh3OJWUuOBIPPcazlqlwCy4DgfFu6Fz7bSClZz80VA8AUzgUL8iLBymceBUe3m/GQ
        9i5bZyCHomnvI+1WsoZwm/Qx0bgZJKq+hI7QUEyw8hGMXa0oEguID1aPRVc834e3boNDgapdNlRH
        x2IDusUyJFWais6+tZSaJ9MioZtufHSmAsJoU1m6jMNlkohavt3kLPq1NQQpkLYrqx+n+NV3uMYQ
        nNUjmQ8dfnnAuUME0qFAJIdChSBaUxwMDqMvLLGmVKQ63Ie3BoO8kKkUPdJzzX7jyLQEjtbkdgu/
        o9byKBVqXWRcOgLLEr3JWnwcnkn/UHUS0eTirF0mgZDuuDpCKPaWvfPtsJ0SbRn9wrKjRbC3zmIE
        7crjp6tRvrVlWfVoH07xml6qAILcVuDL4VHJUr62KaMDQ0lHG0b3bspdCH5cdQeQ8LoUGL/hHc4e
        pRtvUTFS5bOlJHVSsFQVqOU/lVdZV8DSkY8kD2ts8XkIBXGNPlf/iv+gnvolxXoN0LKgZUjaEkv1
        EmqdI+oBNp11BNdE4eF9eLyRT7QrviZusbXc7qv7r/f3XycqiQ+LSJg8P/8/1INEN7kYSjWcnZuo
        XH9Jzd349C/EXxMn1RzOX7+ZKI26o4WOVEcvnqccbM8joXl55rM8jRzN5vf3/wMAAP//AwBTedrm
        LwcAAA==
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90acefac7eb44cb6-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:53:49 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:53:45Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:53:49Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:53:44Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:53:45Z'
      request-id:
      - req_019EspH9qTkRcok7ydBFvmvb
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"Analyze the following
      sessions and decide which prompts \nought to be updated to improve the performance
      on future sessions:\n\n<session_27a55b5024d44ed4816c5d010ca38167>\n================================
      Human Message =================================\n\nTell me about renewable energy\n\n==================================
      Ai Message ==================================\n\nHere''s what I found in my
      research...\nTo summarize the key points about renewable energy...{}\n</session_27a55b5024d44ed4816c5d010ca38167>\n\nBelow
      are the prompts being optimized:\nresearch: Research the given topic thoroughly\nsummarize:
      Summarize the research findings\n\n\nReturn JSON with \"which\": [...], listing
      the names of prompts that need updates."}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"tool","name":"Classify"},"tools":[{"name":"Classify","description":"Classify
      which prompts merit updating for this conversation.","input_schema":{"description":"Classify
      which prompts merit updating for this conversation.","properties":{"reasoning":{"description":"Reasoning
      for which prompts to update.","title":"Reasoning","type":"string"},"which":{"description":"List
      of prompt names that should be updated. Must be among [''research'', ''summarize'']","items":{"type":"string"},"title":"Which","type":"array"}},"required":["reasoning","which"],"title":"Classify","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAAwAAAP//hFNdj9tGDPwrBF+aArLhj0tw0dslQHF96CFI0jQfDgxaS1l7kUhluRtH
        Mfzfi5XOyV3aoo+7HM7OzpBH9A5L7Gy/XSyv3hE/v76W91/Xf95cPlu+Ha5ury6wwDj0nFFsRnvG
        AoO2+YLMvEWSiAV26rjFEquWkuPZevZ4ZirCcbZarC6Wi9UKC6xUIkvE8sPxTBpV222yzDpKyee0
        XSwv3lzsqNLbm+rVXy90/cfl+uvjyzUWKNTlvudtfr0ecp/0KWJ5xEPjqwbLDxjYmELVYIGWuo6C
        /8b4scDAZCpe9ljiM40NxIbhDAYSB9/h0Aft+mggzA6iwo4h9Y4iO9iRsQOVsd3YzKvAjitKxuVG
        NrKcw8sz68Qz0tjE4GV/Dz2D15OIXsUYrNGDgShQFRO1P9TdeQcHMtizcMhSzu130cBtsggNGRD0
        LVXcaOs4wAavOfAvBoeGIvwOtSZx8/l8g3DwsdEUgWQAS7sxTv+FwUutoaPoVfIjv5FvJx/6oF+8
        47GhvhN5Dwy0y3SBhQ+0axmy1P2QXVnN4dVP9v6fLVMcA1CMnOHeoNKubzlyO0C+GuDR+OnJt+Pp
        1/9W2zHl7OvUgg0SGzZvoAE+8QC9eomWe28ULIZUxRQ4VzXsSfy36XNaP/hrzuJOWs5iI1nzWSDU
        5NtMEvV7YD/rOIdaa4BdHsh/GcYBvDhfUWSDOomjjiVm080S2xjg1Hue2JhDvje25FxgM3ZzPJ0+
        FmhR++20Cg8XcCwYf04sFWMpqW0LTOPOl8dpzbZRP7EYlk/WlwVWVDW8rQKPdmwfIhbnemBy/6xp
        ivdvlk+fnE5/AwAA//8DAALRl/2PBAAA
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90acefd2885b32b2-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:53:55 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:53:51Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:53:55Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:53:50Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:53:51Z'
      request-id:
      - req_016HqeTwvHKoNvq6vwFZQkxD
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: "{\"max_tokens\":1024,\"messages\":[{\"role\":\"user\",\"content\":\"You
      are reviewing the performance of an AI assistant in a given interaction. \\n\\n##
      Instructions\\n\\nThe current prompt that was used for the session is provided
      below.\\n\\n<current_prompt>\\nResearch the given topic thoroughly\\n</current_prompt>\\n\\nThe
      developer provided the following instructions around when and how to update
      the prompt:\\n\\n<update_instructions>\\n\\n</update_instructions>\\n\\n## Session
      data\\n\\nAnalyze the following sessions (and any associated user feedback)
      (either conversations with a user or other work that was performed by the assistant):\\n\\n<sessions>\\n<session_753efcb280314ce4bce2cfa9a68d4b29>\\n================================
      Human Message =================================\\n\\nTell me about renewable
      energy\\n\\n================================== Ai Message ==================================\\n\\nHere's
      what I found in my research...\\nTo summarize the key points about renewable
      energy...{}\\n</session_753efcb280314ce4bce2cfa9a68d4b29>\\n</sessions>\\n\\ni##
      Feedback\\n\\nThe following feedback is provided for this session:\\n\\n<feedback>\\n\\n</feedback>\\n\\n##
      Task\\n\\nAnalyze the conversation, including the user\u2019s request and the
      assistant\u2019s response, and evaluate:\\n1. How effectively the assistant
      fulfilled the user\u2019s intent.\\n2. Where the assistant might have deviated
      from user expectations or the desired outcome.\\n3. Specific areas (correctness,
      completeness, style, tone, alignment, etc.) that need improvement.\\n\\nIf the
      prompt seems to do well, then no further action is needed. We ONLY recommend
      updates if there is evidence of failures.\\nWhen failures occur, we want to
      recommend the minimal required changes to fix the problem.\\n\\nFocus on actionable
      changes and be concrete.\\n\\n1. Summarize the key successes and failures in
      the assistant\u2019s response. \\n2. Identify which failure mode(s) best describe
      the issues (examples: style mismatch, unclear or incomplete instructions, flawed
      logic or reasoning, hallucination, etc.).\\n3. Based on these failure modes,
      recommend the most suitable edit strategy. For example, consider::\\n   - Use
      synthetic few-shot examples for style or clarifying decision boundaries.\\n
      \  - Use explicit instruction updates for conditionals, rules, or logic fixes.\\n
      \  - Provide step-by-step reasoning guidelines for multi-step logic problems.\\n4.
      Provide detailed, concrete suggestions for how to update the prompt accordingly.\\n\\nBut
      remember, the final updated prompt should only be changed if there is evidence
      of poor performance, and our recommendations should be minimally invasive.\\nDo
      not recommend generic changes that aren't clearly linked to failure modes.\\n\\nFirst
      think through the conversation and critique the current behavior.\\nIf you believe
      the prompt needs to further adapt to the target context, provide precise recommendations.\\nOtherwise,
      mark `warrants_adjustment` as False and respond with 'No recommendations.'\"}],\"model\":\"claude-3-5-sonnet-latest\",\"tool_choice\":{\"type\":\"any\"},\"tools\":[{\"name\":\"think\",\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"input_schema\":{\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"properties\":{\"thought\":{\"title\":\"Thought\",\"type\":\"string\"}},\"required\":[\"thought\"],\"title\":\"think\",\"type\":\"object\"}},{\"name\":\"critique\",\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"input_schema\":{\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"properties\":{\"criticism\":{\"title\":\"Criticism\",\"type\":\"string\"}},\"required\":[\"criticism\"],\"title\":\"critique\",\"type\":\"object\"}}]}"
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA4xV227jNhD9lQFf2gKyG9sJ2uotWzRIkOyim+wiu6kLgyZHEmFqqHBIe5XA/16Q
        8iVuC7SP4pDDM+dCvQqjRSlarhdnk+urh1/k+ut6tnrnZ/H2/Ofzu/D+nShE6DtMu5BZ1igK4Z1N
        C5LZcJAURCFap9GKUigro8bRbHQxYkeEYTQ9m55PzqZTUQjlKCAFUf7xum8anLOLyKlrhpK+4+Js
        Mm0uHqe3s/75osHnp6fbJ725cI+iECTbfK4xtEqHqItBlK8iNC7WTRCluMMALYIkafsXhNAYBuVo
        jZ5lMI5AkobQIBzwf8fQoa+cbyUpLOc0p8kYPjN6uMfniBxKuOQVaqicB0N559Bq6WIAj4QbubQI
        SOjrHkYgYemd1LCMAZRF6SG4zqg5Tcdwub8X7pE7R4wlfGoQ/O4LZNeh9AyGlGs7iwF/DD6SkgF1
        AY5snwYK0pChGjorFTbOavQQ8FvI85EDqUKUFnakz2k2hl+j90gBfveu7UIJc3GPjNKrJhNSmzXS
        ABRC43xi1PZzASPAb8Fji7aH1pBppQVDHHxUiYZE2C32cMMckcs5jfI8B36hksaihuCg825tdFKn
        B47LXDZrfEvq/viBjqECG3nCyNK7FRJ8j20Xelh6qVYYGF63P6QGHxwM8KJHcB7qaHQSFxxB4zYD
        FOREht9RsD/WoTKVURkLZ8U1dqEpgJXrsEjdnK8lmZfBA646RT+nT8lyHncXMMidBRINCY+SjLBp
        0GOmvctqgGEIzsFa1hGzhlaqFQOhSsHzPdRReu2lsQOqzjsdVXJAZKyiPRDGY7HdFv8ZsQ/Xk9XH
        dfv88Nvny245+/JCj0+362PElDfBPEd8m7K8pgy3ohRXu2neO51Fn4zh5ijP1SD5qcOPjhjA478a
        dTqGO6lWidiHvYZlkmZg8ZR8v9dx+B50yGa/IY5VZZRJIt8c3coDlh3rA8l70RkclXMCgBFcDzY5
        2uholFx/bGQYrPE3C7zx+WmrHfJB3b39KkPaUM1vu66wB7TYZvdw46LVsEwhUTZq1IPHENQuzrtR
        /m+aDUOVHyR3CHNwOSEIWFWociKPboKbAISo+ZhYaQGpSYFKGNNxJM7W3ulfwAatHR3I00Ue+sDS
        yQViu/2zEBxct/Ao2dGpa3OB00NMCkVJ0dpCxPwvKl8Hby5CegxYlJPJ5KdCKKkaXCiPWY/F6Zaz
        fd2j1P+suRjersxm0+32LwAAAP//AwCIJTdtKAcAAA==
    headers:
      CF-RAY:
      - 90aceff37dc032d2-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:54:03 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:53:56Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:54:03Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:53:55Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:53:56Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01H34HVki9dctv4DdMYbzUtT
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: "{\"max_tokens\":1024,\"messages\":[{\"role\":\"user\",\"content\":\"You
      are reviewing the performance of an AI assistant in a given interaction. \\n\\n##
      Instructions\\n\\nThe current prompt that was used for the session is provided
      below.\\n\\n<current_prompt>\\nSummarize the research findings\\n</current_prompt>\\n\\nThe
      developer provided the following instructions around when and how to update
      the prompt:\\n\\n<update_instructions>\\n\\n</update_instructions>\\n\\n## Session
      data\\n\\nAnalyze the following sessions (and any associated user feedback)
      (either conversations with a user or other work that was performed by the assistant):\\n\\n<sessions>\\n<session_1337e81380224c539a7887c2e0dec2c4>\\n================================
      Human Message =================================\\n\\nTell me about renewable
      energy\\n\\n================================== Ai Message ==================================\\n\\nHere's
      what I found in my research...\\nTo summarize the key points about renewable
      energy...{}\\n</session_1337e81380224c539a7887c2e0dec2c4>\\n</sessions>\\n\\ni##
      Feedback\\n\\nThe following feedback is provided for this session:\\n\\n<feedback>\\n\\n</feedback>\\n\\n##
      Task\\n\\nAnalyze the conversation, including the user\u2019s request and the
      assistant\u2019s response, and evaluate:\\n1. How effectively the assistant
      fulfilled the user\u2019s intent.\\n2. Where the assistant might have deviated
      from user expectations or the desired outcome.\\n3. Specific areas (correctness,
      completeness, style, tone, alignment, etc.) that need improvement.\\n\\nIf the
      prompt seems to do well, then no further action is needed. We ONLY recommend
      updates if there is evidence of failures.\\nWhen failures occur, we want to
      recommend the minimal required changes to fix the problem.\\n\\nFocus on actionable
      changes and be concrete.\\n\\n1. Summarize the key successes and failures in
      the assistant\u2019s response. \\n2. Identify which failure mode(s) best describe
      the issues (examples: style mismatch, unclear or incomplete instructions, flawed
      logic or reasoning, hallucination, etc.).\\n3. Based on these failure modes,
      recommend the most suitable edit strategy. For example, consider::\\n   - Use
      synthetic few-shot examples for style or clarifying decision boundaries.\\n
      \  - Use explicit instruction updates for conditionals, rules, or logic fixes.\\n
      \  - Provide step-by-step reasoning guidelines for multi-step logic problems.\\n4.
      Provide detailed, concrete suggestions for how to update the prompt accordingly.\\n\\nBut
      remember, the final updated prompt should only be changed if there is evidence
      of poor performance, and our recommendations should be minimally invasive.\\nDo
      not recommend generic changes that aren't clearly linked to failure modes.\\n\\nFirst
      think through the conversation and critique the current behavior.\\nIf you believe
      the prompt needs to further adapt to the target context, provide precise recommendations.\\nOtherwise,
      mark `warrants_adjustment` as False and respond with 'No recommendations.'\"}],\"model\":\"claude-3-5-sonnet-latest\",\"tool_choice\":{\"type\":\"any\"},\"tools\":[{\"name\":\"think\",\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"input_schema\":{\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"properties\":{\"thought\":{\"title\":\"Thought\",\"type\":\"string\"}},\"required\":[\"thought\"],\"title\":\"think\",\"type\":\"object\"}},{\"name\":\"critique\",\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"input_schema\":{\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"properties\":{\"criticism\":{\"title\":\"Criticism\",\"type\":\"string\"}},\"required\":[\"criticism\"],\"title\":\"critique\",\"type\":\"object\"}}]}"
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA4RVYU8bORD9KyN/4csmJYGiar9UqPQoVUDQ0uupl1PkeGd3Dd7x4rFDU5T/fhpv
        QkCnUz/G3nnz5s17zpOylSpVx83icHLSVDc3x7OT2W1/9nD7cfbp9udV36hCxXWP8hUy6wZVoYJ3
        cqCZLUdNURWq8xU6VSrjdKpwdDR6O2JPhHE0PZweTw6nU1Uo4ykiRVX+/bQDjd67RWJBzVTkd1oc
        TmYnN2n2V//n5Z0+v7/jc/zx+fM1qUKR7nJda+leiqhPUZVPKrY+NW1UpZphhA5Bk3brXwixRTCe
        VhhYR+sJNFX58Jn+AUOPofah02SwnNOcJmP4xhjgIhMu4bZFSHIQ8CEhR6zAUq4YIJc+RQhI+KiX
        DgEJQ7OGEWhYBq8riL63JhfbYKkB47s+YIvEdiX0Vhh0g2NpPR3D6Y4ZfEHuPTHCqUzDlss5jTKb
        sLvRfY86MEQPSwRLAu0w4psYEhkdsZKSb4wMvdMGW+8qDOA0NUk3CHP1CQMeMDy2OsIF1D6RTAfd
        WpqgDqYdj8dzJTBfW//IQB60iUk72G4UfABOS+FsUL774ClqSwyaALs+roExgq/BpODWsAzaIMNc
        PW3mCjg1DXIUXXovcFY7iNj1TkcEy5yQBfQPbV2esw9+ZStZ8XpH5PfbEG2PxnCp73yAiwxaDlQH
        vaDW1qWA0qBCZ1cYcoPtXHFYVB5Xyq49sxX0iKYla7R7YwWoQ4oDjUwcHm1s98P0wRtkttQIxpUH
        jiGZKG19AB8aTfbXUO7rl0NtP0eZmwzK7Xby3Y4E4J78o8Oqya5w1uRStdkUv83b2Y/p6sOX7/aK
        qabrm9nH83T2/d0+bybYaB8SvoxcPjOWO1UqsaRJIYgZ+uC7PsJcfU1dp4PdhvCZaG2pstTwXIFl
        YFxhQLcGS7rCh6TjcwQvJJrRe1jpJmEOrtPmnmHovPPfzwijwb27Fu+Hnw5X6ESqCqO27n0O1/Vg
        nuziJtlKZzlpv4nidToJmQsRtxf07XKzlc48Mh1E4B6NrdfQ+kcxT6upcgiVDWgi5OfCemJY8V4C
        HpQRXx+P92khD5YGInsjs0/BSDj+b8FzejuGWRZmaJrtQzCYJ+dKpHvprjmdjOHSZie+UiGTl8Ph
        3VrxdjprhjeMZTWybEkLVvtnaBtizqveOsBmeYa0CianurbGikdejln7kKtOL0S+RuIqWelQk6Wm
        Tq7YL6faZXCsNpt/CsXR94uAmj29dne+YHmtyaAqKTlXqJT/wMqnwcOL6O+RWJWTyeSkUEabFhcm
        YFZo8fqTw919QF39986n+PLk6OjdZvMvAAAA//8DAIxZ1IBdBwAA
    headers:
      CF-RAY:
      - 90aceff37b7b4cb1-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:54:03 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:53:56Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:54:03Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:53:55Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:53:56Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01Wv7EGkTSrzivqkUzvp6tQY
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: "{\"max_tokens\":1024,\"messages\":[{\"role\":\"user\",\"content\":\"You
      are reviewing the performance of an AI assistant in a given interaction. \\n\\n##
      Instructions\\n\\nThe current prompt that was used for the session is provided
      below.\\n\\n<current_prompt>\\nResearch the given topic thoroughly\\n</current_prompt>\\n\\nThe
      developer provided the following instructions around when and how to update
      the prompt:\\n\\n<update_instructions>\\n\\n</update_instructions>\\n\\n## Session
      data\\n\\nAnalyze the following sessions (and any associated user feedback)
      (either conversations with a user or other work that was performed by the assistant):\\n\\n<sessions>\\n<session_753efcb280314ce4bce2cfa9a68d4b29>\\n================================
      Human Message =================================\\n\\nTell me about renewable
      energy\\n\\n================================== Ai Message ==================================\\n\\nHere's
      what I found in my research...\\nTo summarize the key points about renewable
      energy...{}\\n</session_753efcb280314ce4bce2cfa9a68d4b29>\\n</sessions>\\n\\ni##
      Feedback\\n\\nThe following feedback is provided for this session:\\n\\n<feedback>\\n\\n</feedback>\\n\\n##
      Task\\n\\nAnalyze the conversation, including the user\u2019s request and the
      assistant\u2019s response, and evaluate:\\n1. How effectively the assistant
      fulfilled the user\u2019s intent.\\n2. Where the assistant might have deviated
      from user expectations or the desired outcome.\\n3. Specific areas (correctness,
      completeness, style, tone, alignment, etc.) that need improvement.\\n\\nIf the
      prompt seems to do well, then no further action is needed. We ONLY recommend
      updates if there is evidence of failures.\\nWhen failures occur, we want to
      recommend the minimal required changes to fix the problem.\\n\\nFocus on actionable
      changes and be concrete.\\n\\n1. Summarize the key successes and failures in
      the assistant\u2019s response. \\n2. Identify which failure mode(s) best describe
      the issues (examples: style mismatch, unclear or incomplete instructions, flawed
      logic or reasoning, hallucination, etc.).\\n3. Based on these failure modes,
      recommend the most suitable edit strategy. For example, consider::\\n   - Use
      synthetic few-shot examples for style or clarifying decision boundaries.\\n
      \  - Use explicit instruction updates for conditionals, rules, or logic fixes.\\n
      \  - Provide step-by-step reasoning guidelines for multi-step logic problems.\\n4.
      Provide detailed, concrete suggestions for how to update the prompt accordingly.\\n\\nBut
      remember, the final updated prompt should only be changed if there is evidence
      of poor performance, and our recommendations should be minimally invasive.\\nDo
      not recommend generic changes that aren't clearly linked to failure modes.\\n\\nFirst
      think through the conversation and critique the current behavior.\\nIf you believe
      the prompt needs to further adapt to the target context, provide precise recommendations.\\nOtherwise,
      mark `warrants_adjustment` as False and respond with 'No recommendations.'\"},{\"role\":\"assistant\",\"content\":[{\"type\":\"tool_use\",\"name\":\"think\",\"input\":{\"thought\":\"Let
      me analyze this conversation and the assistant's performance:\\n\\n1. User Request:
      Asked for information about renewable energy - a broad but clear topic\\n2.
      Assistant Response: The response appears incomplete/truncated, only containing
      placeholder text and no actual content\\n3. Current Prompt: \\\"Research the
      given topic thoroughly\\\" - extremely minimal instruction\\n\\nKey Issues:\\n-
      The assistant failed to provide any substantive information\\n- The response
      format was incomplete/broken (empty brackets {})\\n- No structure or guidance
      on how to present research\\n- No specifications for depth, scope, or organization
      of information\\n\\nThis represents a clear failure case where the prompt is
      too vague and lacks necessary guardrails for producing useful responses.\"},\"id\":\"toolu_012h5W2K3yq5heqZZKZdw5oW\"},{\"type\":\"tool_use\",\"name\":\"critique\",\"input\":{\"criticism\":\"Failure
      Modes:\\n1. Incomplete/Failed Response: The assistant produced no actual content\\n2.
      Lack of Structure: No clear organization or presentation format\\n3. Insufficient
      Instructions: The prompt lacks specifics on:\\n   - How to structure research\\n
      \  - What depth of information to provide\\n   - How to organize and present
      findings\\n   - What key elements should be included\\n\\nThe current prompt
      \\\"Research the given topic thoroughly\\\" is far too minimal to guide effective
      responses. It needs substantial enhancement to ensure complete, well-structured,
      and informative responses.\"},\"id\":\"toolu_01NH1kQvmqSEUApb3XznWZKv\"}]},{\"role\":\"user\",\"content\":[{\"type\":\"tool_result\",\"content\":\"\",\"tool_use_id\":\"toolu_012h5W2K3yq5heqZZKZdw5oW\",\"is_error\":false},{\"type\":\"tool_result\",\"content\":\"\",\"tool_use_id\":\"toolu_01NH1kQvmqSEUApb3XznWZKv\",\"is_error\":false}]}],\"model\":\"claude-3-5-sonnet-latest\",\"tool_choice\":{\"type\":\"any\"},\"tools\":[{\"name\":\"think\",\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"input_schema\":{\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"properties\":{\"thought\":{\"title\":\"Thought\",\"type\":\"string\"}},\"required\":[\"thought\"],\"title\":\"think\",\"type\":\"object\"}},{\"name\":\"critique\",\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"input_schema\":{\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"properties\":{\"criticism\":{\"title\":\"Criticism\",\"type\":\"string\"}},\"required\":[\"criticism\"],\"title\":\"critique\",\"type\":\"object\"}},{\"name\":\"recommend\",\"description\":\"Decides
      whether a prompt should be adjusted.\\nIf warrants_adjustment is True, we incorporate
      recommended changes.\\nIf not, we respond 'No recommendations.'\",\"input_schema\":{\"description\":\"Decides
      whether a prompt should be adjusted.\\nIf warrants_adjustment is True, we incorporate
      recommended changes.\\nIf not, we respond 'No recommendations.'\",\"properties\":{\"warrants_adjustment\":{\"title\":\"Warrants
      Adjustment\",\"type\":\"boolean\"},\"hypotheses\":{\"anyOf\":[{\"type\":\"string\"},{\"type\":\"null\"}],\"title\":\"Hypotheses\"},\"full_recommendations\":{\"anyOf\":[{\"type\":\"string\"},{\"type\":\"null\"}],\"title\":\"Full
      Recommendations\"}},\"required\":[\"warrants_adjustment\"],\"title\":\"recommend\",\"type\":\"object\"}}]}"
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2RUTW8jNwz9K4QubYGxGzvbFvVtu9gseui2SNItFk1hyBJnho1GVETKzmyQ/15o
        PM7H9ijq6ZF8j+KDIW82ZpBue7b6fHn/5fpSu0+7tNp9jOsP49WnO28ao2PCikIR26FpTOZQA1aE
        RG1U05iBPQazMS7Y4nFxvvhhIRwj6mJ9tn6zOluvTWMcR8WoZvP3w4lUmcO2SGWdSqnnsj1bvb/+
        8Bm76/Hu/u3HC/I0Xq3sz9E0JtqhvsvoeBgw1voopqJm82AONmcbVbbW/1tEhymX5oKN6cfE2qOg
        mI257hFcyRmjQso8JIXWUhBQruc9eQTr8a5YRegKeRsdQssZMgra7HqKHdjoIdVA1Hqk2HIerBLH
        JbyFgTOCaC5OS0Z/ynPgEjwEusUwwkgYPOxQFSfqElSWpjFtCWH71OFEWcu+PEWe6UryVnFzE2/i
        jfmrx/i6QlBO5BpoOQQ+wCQAiGKS6clqCb9gRxEOpD1Y2GXCFniPeU94+J6iZvbF1fzAbX1+JIRv
        V4s11MYxOpTvKtd6Cb/nzkb6gjByeZYKKCrDLY4gOFHV3ACwgN8sRXAcHSaVSU6PLUWaQDPm1yFx
        rjMGrXUzStQqiZI7gd7NXnrcY+BUfRfgDJox+hPoEgPuK5FNKZA7qlpRNDyfayfnS7jgDGhdfyr5
        VPEf83C4gDY3YJ0ruc7IC+9PdUcXikeQhI5acoD3dkgBBQ49ZoQ8VzPD/xQE+0RbtOdMtct9VTzi
        jHofpeRX2YAEDhjCgmft/aQQWhnrMB99r029WcI7nmt65baUYbB5PPk7sGhVZBY9MUWdVLmYUj5Z
        mzjKiSmlzClTFaJH6zHPNiXr6hQe/431dkeBdFxWtksccNhhBuXNTXwhLA8pY49Rauu7otN8kHwl
        8VGwZxdQhHYBIdjYFdthRdTp0jphFgJ35GyAtn4Cbr/muiqp9jvN6LHhY2NP3nnUuh4mrNoRWnZF
        0APHSbMimL8RuCuYx9rcdU/yrNHTDoADhQB49LA6zKXrwdXvZjuEQ08BYZirrsK5YDPpOIlZBNsS
        Ioosb4x5fPynMaKcthmtcHy9SKcLwbtSf6fZxBJCY8q0uzcPx225Vb7FulRWP735sTHOuh63LuOk
        yfY15Ox0X038/x0XfRk5X60fH/8DAAD//wMA/uWCkFgGAAA=
    headers:
      CF-RAY:
      - 90acf0252d5a32d2-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:54:09 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:54:04Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:54:09Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:54:03Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:54:04Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01AB45fvyeFauK4H2EbDSKVB
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: "{\"max_tokens\":1024,\"messages\":[{\"role\":\"user\",\"content\":\"You
      are reviewing the performance of an AI assistant in a given interaction. \\n\\n##
      Instructions\\n\\nThe current prompt that was used for the session is provided
      below.\\n\\n<current_prompt>\\nSummarize the research findings\\n</current_prompt>\\n\\nThe
      developer provided the following instructions around when and how to update
      the prompt:\\n\\n<update_instructions>\\n\\n</update_instructions>\\n\\n## Session
      data\\n\\nAnalyze the following sessions (and any associated user feedback)
      (either conversations with a user or other work that was performed by the assistant):\\n\\n<sessions>\\n<session_1337e81380224c539a7887c2e0dec2c4>\\n================================
      Human Message =================================\\n\\nTell me about renewable
      energy\\n\\n================================== Ai Message ==================================\\n\\nHere's
      what I found in my research...\\nTo summarize the key points about renewable
      energy...{}\\n</session_1337e81380224c539a7887c2e0dec2c4>\\n</sessions>\\n\\ni##
      Feedback\\n\\nThe following feedback is provided for this session:\\n\\n<feedback>\\n\\n</feedback>\\n\\n##
      Task\\n\\nAnalyze the conversation, including the user\u2019s request and the
      assistant\u2019s response, and evaluate:\\n1. How effectively the assistant
      fulfilled the user\u2019s intent.\\n2. Where the assistant might have deviated
      from user expectations or the desired outcome.\\n3. Specific areas (correctness,
      completeness, style, tone, alignment, etc.) that need improvement.\\n\\nIf the
      prompt seems to do well, then no further action is needed. We ONLY recommend
      updates if there is evidence of failures.\\nWhen failures occur, we want to
      recommend the minimal required changes to fix the problem.\\n\\nFocus on actionable
      changes and be concrete.\\n\\n1. Summarize the key successes and failures in
      the assistant\u2019s response. \\n2. Identify which failure mode(s) best describe
      the issues (examples: style mismatch, unclear or incomplete instructions, flawed
      logic or reasoning, hallucination, etc.).\\n3. Based on these failure modes,
      recommend the most suitable edit strategy. For example, consider::\\n   - Use
      synthetic few-shot examples for style or clarifying decision boundaries.\\n
      \  - Use explicit instruction updates for conditionals, rules, or logic fixes.\\n
      \  - Provide step-by-step reasoning guidelines for multi-step logic problems.\\n4.
      Provide detailed, concrete suggestions for how to update the prompt accordingly.\\n\\nBut
      remember, the final updated prompt should only be changed if there is evidence
      of poor performance, and our recommendations should be minimally invasive.\\nDo
      not recommend generic changes that aren't clearly linked to failure modes.\\n\\nFirst
      think through the conversation and critique the current behavior.\\nIf you believe
      the prompt needs to further adapt to the target context, provide precise recommendations.\\nOtherwise,
      mark `warrants_adjustment` as False and respond with 'No recommendations.'\"},{\"role\":\"assistant\",\"content\":[{\"type\":\"tool_use\",\"name\":\"think\",\"input\":{\"thought\":\"Let
      me analyze the conversation and the assistant's performance:\\n\\n1. User Intent:
      The user requested information about renewable energy - a broad topic requiring
      comprehensive coverage.\\n\\n2. Assistant Response Analysis:\\n- The response
      appears to be incomplete/truncated\\n- Uses placeholder language \\\"Here's
      what I found in my research...\\\"\\n- Shows no actual content or substance\\n-
      Contains an empty set of curly braces \\\"{}\\\" suggesting potential template
      issues\\n- Fails to provide any actual information about renewable energy\\n\\n3.
      Major Issues:\\n- Complete failure to deliver any substantive content\\n- Possible
      technical/implementation issue with template processing\\n- No structure or
      organization of information\\n- No evidence of actual research or knowledge
      application\"},\"id\":\"toolu_01L6QuLXpVMjaGkjsGeZJJPn\"},{\"type\":\"tool_use\",\"name\":\"critique\",\"input\":{\"criticism\":\"The
      current prompt \\\"Summarize the research findings\\\" is severely inadequate:\\n\\n1.
      It's too vague and lacks critical context - what research? what level of detail?\\n2.
      Provides no guidance on structure, comprehensiveness, or presentation\\n3. Doesn't
      specify how to handle direct questions vs research summaries\\n4. Contains no
      instruction about sourcing or knowledge application\\n5. Lacks direction on
      formatting and organization\\n6. Missing guidance on handling broad vs specific
      topics\\n\\nThe failed response suggests the prompt isn't providing sufficient
      instruction for the AI to generate meaningful, structured content.\"},\"id\":\"toolu_01DZ2vCRWiNsnfnPQLEGuDW8\"}]},{\"role\":\"user\",\"content\":[{\"type\":\"tool_result\",\"content\":\"\",\"tool_use_id\":\"toolu_01L6QuLXpVMjaGkjsGeZJJPn\",\"is_error\":false},{\"type\":\"tool_result\",\"content\":\"\",\"tool_use_id\":\"toolu_01DZ2vCRWiNsnfnPQLEGuDW8\",\"is_error\":false}]}],\"model\":\"claude-3-5-sonnet-latest\",\"tool_choice\":{\"type\":\"any\"},\"tools\":[{\"name\":\"think\",\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"input_schema\":{\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"properties\":{\"thought\":{\"title\":\"Thought\",\"type\":\"string\"}},\"required\":[\"thought\"],\"title\":\"think\",\"type\":\"object\"}},{\"name\":\"critique\",\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"input_schema\":{\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"properties\":{\"criticism\":{\"title\":\"Criticism\",\"type\":\"string\"}},\"required\":[\"criticism\"],\"title\":\"critique\",\"type\":\"object\"}},{\"name\":\"recommend\",\"description\":\"Decides
      whether a prompt should be adjusted.\\nIf warrants_adjustment is True, we incorporate
      recommended changes.\\nIf not, we respond 'No recommendations.'\",\"input_schema\":{\"description\":\"Decides
      whether a prompt should be adjusted.\\nIf warrants_adjustment is True, we incorporate
      recommended changes.\\nIf not, we respond 'No recommendations.'\",\"properties\":{\"warrants_adjustment\":{\"title\":\"Warrants
      Adjustment\",\"type\":\"boolean\"},\"hypotheses\":{\"anyOf\":[{\"type\":\"string\"},{\"type\":\"null\"}],\"title\":\"Hypotheses\"},\"full_recommendations\":{\"anyOf\":[{\"type\":\"string\"},{\"type\":\"null\"}],\"title\":\"Full
      Recommendations\"}},\"required\":[\"warrants_adjustment\"],\"title\":\"recommend\",\"type\":\"object\"}}]}"
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2RV3W8bNwz/Vwi97OXsxU7SZn5Lixb76hYUCdZgHgxa4vlU66irKNm+BvnfB+nO
        drI9nkSK/H2Q96SsUQvVymZ1Mfsy5w9+/vnXB74x9beru59/wu3jR1Wp2HeUo0gEN6QqFbzLByhi
        JSJHVanWG3JqobTDZGhyObmeiGemOJlfzK9mF/O5qpT2HImjWvz9dHw0eu9WSfKrpZX8nVYXs0/1
        w+Hx7vB1/ebLYXupD3zT0l1SlWJsc14g7duW2ORE7lJUiye1xxCQo6zQfE0S21IrhkSVavrOx4aE
        RC3UfUOgUwjEEbrg2y7+IECHGKglENt2zmobe3CERiD6xZJnU/gd9RZ8DRJD0jEFAssQSDrPQrLk
        +RQ+WRHLGxiBwiZZQ85yvr6cwj21ncNIuaimIdSKpHx9NYU/fElA1gSeoUE2LocYW9dUms2kSe7h
        W6Jgc9qS7zOq8RnQyLAmQGMCiZCBvY0NILQ+EGjfdoEaYrE7GoFDbLCQsLMm5zvCAJYHjNazQO3D
        GQ8xBczngGygCyTEsRxMVaXq5NzqpEw5znQ/dCaDjs25aKZ0yUv16BNgIEDYst87MhvCtSM4WQsi
        yvaIY2hzIPgllNwLap1CLmO59qEdeoK/GjpqVPKiz9TJgMwHkNS2GOz3osQ5sXQ3m8I72liGdQ/W
        EEdb9+WNhmBLPaB0pGORIx9F31k90MlEJpdaZ853FMgUd/wZNsj2O0HvUzg5Z4A2EN8Q5jZlQATO
        b6xGd3ZccdEvrF0yBIEc7TJFNeooFdAB286RVCWbDp1DHjQo7vrAkkYTOIrEJAL7xjqCFi1HtFyI
        dRhs7Jd8PYWPPsA6eDQDNqkGNAVt6yWCbTsfikojF4slA8AE3qFYDYZqy3bgOrekPWvqooxBn9Ay
        aIy08dnLWY7i7/H6N+phTUy1jWN6g84Rb04R78cRlph1zyF1KnPpU3Teb5f8ZgCRm7O11Wftq6Pl
        ofY6CZkKDEW0jgwgy56CLPntFB6keLajAIM5YiYpj0QgNLi2rpB1M4X3NtK50FEL2DcUzlJlW93u
        vDWQyvB3DjU13pnMKh1i4WBcEjKFW7fHXk6tSlqXmbDoqrNbd3Qaz2I+YwPp6PrTEpAiWN4Y/XSp
        hpVhBVKZSjOO5GLJE7h7vQbOi+7lHpuMTpL/DGHxBm4oR9yeSq99bEYTZYFeKjEssFyVdsRRTsh/
        fEnLcT8Ofsk2lUGzvCJzUzsKmcodulRWx/En8/z8T6Uk+m4VCMXz659NuRD6log1qQUn5yqVyv9t
        8TT8UVbRbykvsNnb61mlNOqGVjpQmanV65CL4322xf/vfIovTy7fzJ6f/wUAAP//AwD3+XzBfAcA
        AA==
    headers:
      CF-RAY:
      - 90acf025be4b32d2-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:54:10 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:54:04Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:54:10Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:54:03Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:54:04Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01P5rPP8me5QLEJBEDcGUPT2
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are optimizing
      a prompt to handle its target task more effectively.\n\n<current_prompt>\nResearch
      the given topic thoroughly\n</current_prompt>\n\nWe hypothesize the current
      prompt underperforms for these reasons:\n\n<hypotheses>\nThe current prompt
      fails to provide adequate guidance for researching and presenting information.
      A more structured prompt would likely yield better results.\n</hypotheses>\n\nBased
      on these hypotheses, we recommend the following adjustments:\n\n<recommendations>\nRecommended
      prompt update:\n\n\"When researching a topic, follow these steps:\n\n1. Begin
      with a brief overview/introduction of the topic (1-2 sentences)\n\n2. Organize
      your research into key sections:\n   - Main concepts and definitions\n   - Important
      facts and statistics\n   - Current developments or trends\n   - Relevant applications
      or implications\n\n3. For each section:\n   - Provide clear, accurate information\n   -
      Include specific examples where relevant\n   - Use a clear, authoritative tone\n   -
      Ensure information is well-organized and easy to follow\n\n4. Conclude with
      a brief summary of the most important points\n\nFormat your response with appropriate
      headers and spacing for readability.\n\nRemember to:\n- Provide comprehensive
      but concise information\n- Use clear, accessible language\n- Maintain a logical
      flow of information\n- Support key points with specific details\n- Stay focused
      on the user''s query\n\nThis response structure will ensure thorough coverage
      while maintaining clarity and usefulness.\"\n</recommendations>\n\nRespond with
      the updated prompt. Remember to ONLY make changes that are clearly necessary.
      Aim to be minimally invasive:"}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"tool","name":"OptimizedPromptOutput"},"tools":[{"name":"OptimizedPromptOutput","description":"Schema
      for the optimized prompt output.","input_schema":{"description":"Schema for
      the optimized prompt output.","properties":{"analysis":{"description":"First,
      analyze the current results and plan improvements to reconcile them.","title":"Analysis","type":"string"},"improved_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Finally,
      generate the full updated prompt to address the identified issues.   The prompt
      section being optimized contains no input f-string variables. Any brackets {{
      foo }} you emit will be escaped and not used.","title":"Improved Prompt"}},"required":["analysis","improved_prompt"],"title":"OptimizedPromptOutput","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA1RUXW8bNxD8Kws+tYAk2LIboHprjQQp+hE3iesAVWGsyNXdxrwlzSWlXIz894A8
        nV0/3R13uDucGd6jYWc2ZtDu7uz8r/Hvzxefbm52wyv3oG8v//n8yr7+aBYmj5EqilSxI7MwKfi6
        gKqsGSWbhRmCI282xnosjpYXy5+WGkQoL9dn68vzs/XaLIwNkkmy2fz7ODfNIfi7orVro1K/y93Z
        +aV+6fpyOI79z59u5er6j5t1N1yahREc6r53MfPAX8ldpzDE/K7kWCoPlvrcPBoU9KOymo352BPY
        khJJhtjgsDXvSQmT7SH3BB0fSCCHyBZyH1IoXe/HrQFWCAdKfoQDdoUAxYFHe6+gkSzv2UJX2KFY
        WsCxZ9uD53vyI3hCp5ADsNggVag6vu6Pob4yej+Clkhpz5bRQ5oZhXYYXUElnsiGYSBx5MD2KB0p
        oHOJVCH3rLAbN1vZyvkKrlM4sGPpAMF6wrQAzanYXBK55/b7hAMdQ7rfynoFvybC+7rHhaM0MZ6A
        MQVbx7DkAD50bNGDZoq6lYsV/OLarCchEj0UTjSQZIV9SHCyG0LqUPgrZg4yKVBHSG4LW7lcwW9i
        fWndHgp6ziPYxJkSY8MnGlgcpantgCwZWSrcekwVPqE8HaoTVY4X0rVBCpgIjuT98nPRzHsmNxvf
        E/RjDLknZQXchZKbzRD2T/6u4G040oHSAo4EFqWKSzh4FmodtHQdaSY3hywH2BEMIVGVwrJSjYin
        FyeoO+9pBB5iCodJvVUN8vTt7qZmZmNue5IncyaXW2IXED2h0hyDDxlThiPnHhB2iWnfMnxgOsIP
        58s1VO1JLOmPdcd6BVe1XpnoxAUToW62soSrmTzFrE1lR3sWboJWwO80wh7tqajVU81sW+3qdOcc
        HciH2I5W168T2tzChDF6tnjq1lL1JiQgtH0jsZngLS2A1paEmRbPkWPZhzSccrQ8xYjmJGSgLzhE
        T23qjdJ8K7DUS86V7IHAo3QFO6qgP0/OPMX9/9ndTmF9LW5WV8swYBprTKpuMXA74lbeNFoTrA2F
        nrAluMkU0bJ09bC2KASBHbF0J8WHmKgn0cptpDxnpxVbq9oCbb2avPNt/bam+vmu16UPs0aTaRnZ
        T4X3szg5tPA9FEqj+fbtv4XRHOJd9T7Iy19zKyg9lBobs5Hi/XfpKJWCawOrakiZG1+Sn52aV6xk
        ZWFmrqOUnJickRqfXJQKDrh4VBUGMPmi1MQUTDlI8QcXMTawrK0FAAAA//8DACjCXmapBgAA
    headers:
      CF-RAY:
      - 90acf04b7f834caf-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:54:15 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:54:10Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:54:15Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:54:09Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:54:10Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01VHH8o4ioE2ymWif8UvVJEk
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are optimizing
      a prompt to handle its target task more effectively.\n\n<current_prompt>\nSummarize
      the research findings\n</current_prompt>\n\nWe hypothesize the current prompt
      underperforms for these reasons:\n\n<hypotheses>\nThe current prompt''s extreme
      simplicity leads to:\n1. Lack of structure in responses\n2. Missing content
      guidelines\n3. Template processing issues\n4. No guidance on handling different
      types of queries\n\nThese issues can be addressed with a more comprehensive
      prompt that provides clear instructions for content generation and presentation.\n</hypotheses>\n\nBased
      on these hypotheses, we recommend the following adjustments:\n\n<recommendations>\nUpdate
      the prompt to:\n\n\"You are a knowledgeable assistant tasked with providing
      comprehensive and accurate information. When responding to questions or summarizing
      information:\n\n1. Begin by identifying the key aspects of the topic that need
      to be covered\n2. Organize your response with clear headings and a logical structure\n3.
      Include relevant facts, examples, and explanations\n4. Ensure completeness while
      maintaining clarity\n5. For broad topics, cover the most important aspects:\n   -
      Basic definitions and concepts\n   - Main categories or types\n   - Key benefits
      and challenges\n   - Current state and future outlook\n6. For specific questions,
      provide focused, detailed answers\n7. Use proper formatting for readability\n8.
      Cite specific examples where relevant\n\nAvoid using placeholder text or templates.
      Always provide substantial, informative content that directly addresses the
      query.\"\n\nThis updated prompt:\n- Provides clear structure guidelines\n- Ensures
      comprehensive coverage\n- Addresses both broad and specific queries\n- Prevents
      template/placeholder issues\n- Maintains focus on delivering valuable content\n</recommendations>\n\nRespond
      with the updated prompt. Remember to ONLY make changes that are clearly necessary.
      Aim to be minimally invasive:"}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"tool","name":"OptimizedPromptOutput"},"tools":[{"name":"OptimizedPromptOutput","description":"Schema
      for the optimized prompt output.","input_schema":{"description":"Schema for
      the optimized prompt output.","properties":{"analysis":{"description":"First,
      analyze the current results and plan improvements to reconcile them.","title":"Analysis","type":"string"},"improved_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Finally,
      generate the full updated prompt to address the identified issues.   The prompt
      section being optimized contains no input f-string variables. Any brackets {{
      foo }} you emit will be escaped and not used.","title":"Improved Prompt"}},"required":["analysis","improved_prompt"],"title":"OptimizedPromptOutput","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2xVXW8bNxD8Kws+S4LljwbRo4MWTV0nLuwkqKtCoMjV3Sa85YVLSpYN//dieZJs
        NXkSdNybnZ2Z5T0Z8mZmOmkWJ9OL+7vurL+8v/p6++vf11cPeO9y35qRydsetQpFbINmZFIM+sCK
        kGTL2YxMFz0GMzMu2OJxfDa+GEtkxjw+PTk9n56cnpqRcZEzcjazf572oDnGsCiiqJWK/i+Lk+m5
        m/6BH9afPt/Ey3zz9oobeneWzMiw7fS9j32mjh7R36TY9fljyX1RHsT6O3sylm3YComZmbsWwZWU
        kDP0tRzm5rZ0nU30iJBbhISCNrkWVsSeuJG5ARLAh5yww7CFpU0Ilr0CrMmjAEdoCnnLDiEytHED
        OYLkVFwuCSEm6BWWc+1AvIqps5kiT+CutnSx65B9fSYgpWlQMqxtIA/UaSPskLNAbm2GTSzBQ4uh
        hwYZk80IXUwILrL6gJxHsMEQxgcOflQpu9j1CVtkoTWCDIOjTOY85yvcAokUFGVvvU8oMpvzdAK3
        h1EOc47hJ1oG674JWN6Cp4ROp3klSEyNZZX5lQBzPp3AuyEMkPB7obSbdAwfIkiPjlbk7AC1go3O
        j2FXI21VYqmQLhSPfs5nE/iMSWymQHk7wBy5Y9kH4gY8rVZY2WsARdEP3u/iOefzCfxVbEXSfHub
        /I6aC2gT4EOPLu98W8VUDY41gqrpkbvowbWWGxSoEer7FPtE6t6yZHCWdRLJCW0XiNGraKvoirzo
        EMJWhzgQHSzcAiN6gWRzi8rB8i4Z4bXY4DHQGtN2Al9wL15nibMlrsydpugocJuWAsI3xF4105qd
        15UY+p+wocch27qDA5RfDC+ZmfnSIh/qFPKHfZupcNMJXGJDDBvKLVhYJsIVxDWmNeFGvTra1bj8
        qnFbD4spLvZYk/VxHzmt3mtVRPsO/smQUm0KAGPQJdgTqVgJpYQsu+NrzG30McRmCy01baCmPRy+
        7/qY9BJUBcMutPvDP6mjfU5iqpuak0ovNbI3u/vhtVvEEJPHpNMKNVwDwA5rKt8PgYeEAdfaUxRd
        MrmBt7fZQh+HBhcT+H3Ptq5n4SG46l8CjtkuQ82tix3KnH+ZwCfBnUYDo6yiacITWm+Xdbvm/GYC
        1/sAiSPkrCzBOleSddtKZW9OfWHOv9VEv6RRce3/bqYtZpXIkbzYVq8+Z3u9h6QaiqKakQ2vgrAb
        oTbOLVI6MmNinp//HRnJsV8ktBL5+MNTDwS/F2SHZsYlhJEp9Vs3exq+KIscvyGLmb2dvhkZZ12L
        C5ew4i+OK0725yrZj2fDNXF4cnZ6/vz8HwAAAP//AwCCqeufhwcAAA==
    headers:
      CF-RAY:
      - 90acf0536a4732b3-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:54:18 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:54:12Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:54:18Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:54:11Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:54:12Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_018nLL5dT9WjrPd4rHtzFGe4
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"Analyze the following
      sessions and decide which prompts \nought to be updated to improve the performance
      on future sessions:\n\n<session_87735637b6014838a9225069776e6b49>\n================================
      Human Message =================================\n\nTell me about quantum computing\n\n==================================
      Ai Message ==================================\n\nHere''s my research...\nTo
      summarize the key points...\n\nFeedback for session 87735637b6014838a9225069776e6b49:\n<FEEDBACK>\n{''research'':
      ''Include more technical details'', ''summary'': ''Make it more accessible''}\n</FEEDBACK>\n</session_87735637b6014838a9225069776e6b49>\n\nBelow
      are the prompts being optimized:\nresearch: Research the given topic thoroughly\nsummarize:
      Summarize the research findings\n\n\nReturn JSON with \"which\": [...], listing
      the names of prompts that need updates."}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"tool","name":"Classify"},"tools":[{"name":"Classify","description":"Classify
      which prompts merit updating for this conversation.","input_schema":{"description":"Classify
      which prompts merit updating for this conversation.","properties":{"reasoning":{"description":"Reasoning
      for which prompts to update.","title":"Reasoning","type":"string"},"which":{"description":"List
      of prompt names that should be updated. Must be among [''research'', ''summarize'']","items":{"type":"string"},"title":"Which","type":"array"}},"required":["reasoning","which"],"title":"Classify","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA5SSQW/bMAyF/wrBSy9OETuJk/i4YsBWbKcV64amMGSZtrXIkitSbbMg/71w0hQr
        etpR5OPT9yTu0dRYYM9tOU1/zuTLL/Mnffwh8+vwlG6Hh0e/xQRlN9CoImbVEiYYvB0LitmwKCeY
        YO9rsligtirWNJlNFhP2zpFMsmk2T6dZhglq74ScYHG3P5uK97aMPLoeUcZzLKdp3l499kv/sE5n
        DVfXn/n25ve3W0zQqX6cu7Lj7c1unHNDFCz2GEixd8a1WOAnxVSDdyAdQUNUV0pvoQm+ByZm4x2s
        lsvZIp8tq3yazlezlVpn2WKar5fLnPJqvk6g8tLBEHw/CIMjqiEOtRLiYuM2Lr2Em47gIhCTCrq7
        eJUelXySGtdCRVpFpvck9DxYo43YHbCMliAeNvjVaRtrgt4HAiHdOaOVhZpEGcsbTMC42uiT8Wio
        YwjkBM4Q4KMMUcAqvWXg2DRGm1Hwr9kg3eWYIHtNwLHvVTB/6b8i9OTEePdK/l1tCYycyJXW4yNX
        lkZkjm1L/AH5fKsaXaBXO6gIxHvQvh8sPYMP4LxAZAqTJhhytd0BOR/b7hITfOqM7rC4w3N2TPAt
        Cd4fDvcJsvihPO3F+2U7NpgeIjlNWLhobYLxuN/F/rRSpfgtOcYiX6UJaqU7KnWgI275XjE99wOp
        +mPv9CdvlXSRHw4vAAAA//8DANpkTdN7AwAA
    headers:
      CF-RAY:
      - 90acf0836bbf4caf-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:54:21 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:54:20Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:54:21Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:54:18Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:54:20Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01MqsEXhdbZ4gDpnbkeoRv7k
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"Analyze the following
      sessions and decide which prompts \nought to be updated to improve the performance
      on future sessions:\n\n<session_4ce4c29f223640eaa76ed37b3622b3fe>\n================================
      Human Message =================================\n\nAnalyze the impact of AI
      on healthcare\n\n================================== Ai Message ==================================\n\nHere''s
      our analysis plan...\nResearch findings for each area...\nAnalysis of the implications...\nFinal
      report on AI in healthcare...\n\nFeedback for session 4ce4c29f223640eaa76ed37b3622b3fe:\n<FEEDBACK>\n{''organization'':
      ''needs better coordination between steps''}\n</FEEDBACK>\n</session_4ce4c29f223640eaa76ed37b3622b3fe>\n\nBelow
      are the prompts being optimized:\nplanner: Plan the analysis steps\nresearcher:
      Gather information for each step\nanalyzer: Analyze the gathered information\nwriter:
      Write the final report\n\n\nReturn JSON with \"which\": [...], listing the names
      of prompts that need updates."}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"tool","name":"Classify"},"tools":[{"name":"Classify","description":"Classify
      which prompts merit updating for this conversation.","input_schema":{"description":"Classify
      which prompts merit updating for this conversation.","properties":{"reasoning":{"description":"Reasoning
      for which prompts to update.","title":"Reasoning","type":"string"},"which":{"description":"List
      of prompt names that should be updated. Must be among [''planner'', ''researcher'',
      ''analyzer'', ''writer'']","items":{"type":"string"},"title":"Which","type":"array"}},"required":["reasoning","which"],"title":"Classify","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2yTb28TMQzGv4qVNwzpWvXPEOzebgOBQEJQ8QKKqjRxe9FydhY7lDLtu6Nct7Fu
        vLuLHfv3OI9vTPCmNb1sV5Ppx9PFmX337ev3N2efT/vFevFq/mXuTWN0n7BmoYjdomlM5lgPrEgQ
        taSmMT17jKY1LtricTQfvRoJE6GOZpPZ6XQym5nGOCZFUtP+uLkvqsxxVaRWHVDqf1lNppeUxV8E
        Vz5c9FfzX2+ZSf0n0xiyfb13Hmv3zb7eo1TUtDdm1wXXmfaHSdESYTY/G5PRClOgrWnNokPYIPq1
        dVcQyAdnFQW0w4xgM4Jjzj6Q1cAEQaSgwBp1h0ggikngZGkI0Q/Hivn4xlHq0rwcw6ILAlK2WxQd
        GkHKobd5f6gOMaDALmh3iB2wIWXukzYw6IEgkFESk4R1RNhwBi4aQxUFlvwjBtoOdSzZuJfauYJU
        iqe1QTou0cMaoSRvFT0ot0ta0nQM5xmtIvScEfB3isEFBVcf01WZT0aypNkYLklKRpCeuU4TNFuS
        cJydUdBm1zUPfM2Av8thIE+dFZQlzcfwnlwsHkESurAJ7njMiQOpAGfwmJA8kgv4jGpJVfYB5yBa
        4OSeAfMdxZ/6VQkwvwSbEtoMynUum0KD3GHKHq+LVYx7sHd+eSFA/A/wwVZ2zUWHV7guNgbdA2/+
        K53zg/LRkN/bcGe6+uSDKTre1ZBUZ/aJCavuHecrUN6iDjIeTPLIQS8eWSZUiLG5vf3ZGFFOq8NG
        HK/eEBC8LkgOTUslxsaUYdvbm8OCrZSvkMS0r6dnjXHWdbhy1SmBaXWcMbmPZ7T+eYyLPj6Znk1v
        b/8CAAD//wMAjOw0BYkEAAA=
    headers:
      CF-RAY:
      - 90acf099a8cc4cb4-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:54:27 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:54:24Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:54:27Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:54:22Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:54:24Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01VWRC3hy1urG8boJmDzpaVf
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are helping
      an AI assistant learn by optimizing its prompt.\n\n## Background\n\nBelow is
      the current prompt:\n\n<current_prompt>\nPlan the analysis steps\n</current_prompt>\n\nThe
      developer provided these instructions regarding when/how to update:\n\n<update_instructions>\n\n</update_instructions>\n\n##
      Session Data\nAnalyze the session(s) (and any user feedback) below:\n\n<sessions>\n<session_75d086cc510b4fe1bdf9469a21ecafbf>\n================================
      Human Message =================================\n\nAnalyze the impact of AI
      on healthcare\n\n================================== Ai Message ==================================\n\nHere''s
      our analysis plan...\nResearch findings for each area...\nAnalysis of the implications...\nFinal
      report on AI in healthcare...\n\nFeedback for session 75d086cc510b4fe1bdf9469a21ecafbf:\n<FEEDBACK>\n{''organization'':
      ''needs better coordination between steps''}\n</FEEDBACK>\n</session_75d086cc510b4fe1bdf9469a21ecafbf>\n</sessions>\n\n##
      Instructions\n\n1. Reflect on the agent''s performance on the given session(s)
      and identify any real failure modes (e.g., style mismatch, unclear or incomplete
      instructions, flawed reasoning, etc.).\n2. Recommend the minimal changes necessary
      to address any real failures. If the prompt performs perfectly, simply respond
      with the original prompt without making any changes.\n3. Retain any f-string
      variables in the existing prompt exactly as they are (e.g. {variable_name}).\n\nIFF
      changes are warranted, focus on actionable edits. Be concrete. Edits should
      be appropriate for the identified failure modes. For example, consider synthetic
      few-shot examples for style or clarifying decision boundaries, or adding or
      modifying explicit instructions for conditionals, rules, or logic fixes; or
      provide step-by-step reasoning guidelines for multi-step logic problems if the
      model is failing to reason appropriately."}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"any"},"tools":[{"name":"think","description":"Reflection
      tool implementation.","input_schema":{"description":"Reflection tool implementation.","properties":{"thought":{"title":"Thought","type":"string"}},"required":["thought"],"title":"think","type":"object"}},{"name":"critique","description":"Critique
      tool implementation.","input_schema":{"description":"Critique tool implementation.","properties":{"criticism":{"title":"Criticism","type":"string"}},"required":["criticism"],"title":"critique","type":"object"}},{"name":"OptimizedPromptOutput","description":"Schema
      for the optimized prompt output.","input_schema":{"description":"Schema for
      the optimized prompt output.","properties":{"analysis":{"description":"First,
      analyze the current results and plan improvements to reconcile them.","title":"Analysis","type":"string"},"improved_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Finally,
      generate the full updated prompt to address the identified issues.   The prompt
      section being optimized contains no input f-string variables. Any brackets {{
      foo }} you emit will be escaped and not used.","title":"Improved Prompt"}},"required":["analysis","improved_prompt"],"title":"OptimizedPromptOutput","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA4xWXXMTORD8K1N6ycvGxIZQsG+BJBxfwUmAO8CUS5bG3sFaaaOR4mxS+e9X0nod
        ++AK3mytNOrp7undO0FalKLmxfRgeCrb2/nJq7dfL5rz87PzZ1f2TXO5EIUIbYNpFzLLBYpCeGfS
        gmQmDtIGUYjaaTSiFMrIqHH/8f7hPjtrMeyPDkZPhgejkSiEcjagDaL8dtcXDc6ZaeRUNUNJ/+P0
        YPj00/jLp8+3x4uLz3R6vviLbmtsPopCWFnncxXZZTpkmxhEeSdC5eKiCqIUHysEFb1HG6Dxrm4C
        TMTYSAuhQpBWmpaJgQM2PBFADHgTPNZoWqjJUi0NSKvBSLVk4Difk6JUbBFJS6sQ5s7nWkevYcPB
        AF5IRg2uu4aRmZyFOaKeSbWEVUWqArKalAzIMBEWUTPMMAT0oJzzmqwM6dAMwwrR9hALoLDHoAzK
        dK8M/eWatN3LTTboTQscfFQhegS3VRGBAj/03XinkHkA75xbkl3Apt4eg0dunGUsEl6TTqZLQIaA
        icfgwMVgyGKHrUgnW1ihR7iWi4gb4lCv8arkApXa4k1fTSUZeSDu74vfGuHN2ej88J8v/OLvo09v
        R1ejUxWPXo0fjKA8BbqKuO2FvKaIa1GK4QCSIdZGIIbg3BZW7ZATh9ygonkLq0RvLZfIIGHhnN4i
        zkg7saNcz+Meg3UPlnAWKrdKBP2fCLui2sc7uHoYaJWLXi4QNAZJBjXMPMqldisLbg4oVbWFKPE4
        sU8GcOaAbHdzMpCcuZiKcfRJYeMWpKSBuXGr3PWvRFnjOhzAe2JOxzT5btNWd41HTrOQHJMI6VQ2
        7Z9peUkn42d+JY/92Zen8seb8eXXr82Dlh+aQDXdoh5nVj7EkATdErbv/NdT3g0U08LSnJS0Aahu
        vLvGOiN2ILX2yJzB7wwcMcekuNWp1jVp7Odyo2Ynl+sQdqe4ctHocmKHAzjSGvCmMaQobEvBay2U
        RxkSqSs0Zn9T9T/24uyv11aZqHHHXL1idtEJ1Wtq2myly7V9U2eJhhxR68Dw0jL9agCzc07+xHHp
        ymyN1Obc+VqGDGUnEZWRnkKb9Opo19NOGFF28SshVM6nmM5MZyYeBmSLillbTmym9UWCAhlLai24
        hhSQDa5rrthYu+9oNIBT5zvUea2cWADYh2Oc59jKRJECN/uR+LxOh/KGd8QBltjCVUTu6HqwzHrP
        h3X4ebyKlNTTMshHZDtKyNn1vl6OGkPlND+STeOdVBXmmjENLQBk5U7SkOJvw7LjJBc/uWmMJJv4
        T0O5EQhmkYzm5JbG4zW5mH5v+nut0Qaat3mysUGr0SrCn02Rd7/s/cq1c6HadlGS5skAxuskaF30
        XRRQknjL2h0rHexxKg7DEr6dyRq/93xuROibe4stnPcC9IsXPd3HMsh+8X3Hbf/35Ya6RPEZ3oTu
        zuykC2wwv+bye7/P5/mOUQqoJdmwZrbXYyskQpW9m6Z5+0Mivca+F4KDa6YeJTu7m4D5AeNVRKtQ
        lDYaU4iYv6TKuy7apsEt0bIohwfPR4VQySnTLjGcne5uOeife5T652cuZ+Zm5XB4eH//LwAAAP//
        AwBwov8t5gkAAA==
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90acf0bea8ba4caf-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:54:37 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:54:29Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:54:37Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:54:28Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:54:29Z'
      request-id:
      - req_01FgzCRfwtKYqmzmFX4rVZbP
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are helping
      an AI assistant learn by optimizing its prompt.\n\n## Background\n\nBelow is
      the current prompt:\n\n<current_prompt>\nPlan the analysis steps\n</current_prompt>\n\nThe
      developer provided these instructions regarding when/how to update:\n\n<update_instructions>\n\n</update_instructions>\n\n##
      Session Data\nAnalyze the session(s) (and any user feedback) below:\n\n<sessions>\n<session_75d086cc510b4fe1bdf9469a21ecafbf>\n================================
      Human Message =================================\n\nAnalyze the impact of AI
      on healthcare\n\n================================== Ai Message ==================================\n\nHere''s
      our analysis plan...\nResearch findings for each area...\nAnalysis of the implications...\nFinal
      report on AI in healthcare...\n\nFeedback for session 75d086cc510b4fe1bdf9469a21ecafbf:\n<FEEDBACK>\n{''organization'':
      ''needs better coordination between steps''}\n</FEEDBACK>\n</session_75d086cc510b4fe1bdf9469a21ecafbf>\n</sessions>\n\n##
      Instructions\n\n1. Reflect on the agent''s performance on the given session(s)
      and identify any real failure modes (e.g., style mismatch, unclear or incomplete
      instructions, flawed reasoning, etc.).\n2. Recommend the minimal changes necessary
      to address any real failures. If the prompt performs perfectly, simply respond
      with the original prompt without making any changes.\n3. Retain any f-string
      variables in the existing prompt exactly as they are (e.g. {variable_name}).\n\nIFF
      changes are warranted, focus on actionable edits. Be concrete. Edits should
      be appropriate for the identified failure modes. For example, consider synthetic
      few-shot examples for style or clarifying decision boundaries, or adding or
      modifying explicit instructions for conditionals, rules, or logic fixes; or
      provide step-by-step reasoning guidelines for multi-step logic problems if the
      model is failing to reason appropriately."},{"role":"assistant","content":[{"type":"tool_use","name":"think","input":{"thought":"The
      current prompt \"Plan the analysis steps\" is extremely minimal and lacks sufficient
      guidance for the AI assistant. Based on the session feedback which indicates
      \"needs better coordination between steps\", it''s clear that the AI didn''t
      properly structure or coordinate its analysis process. Looking at the AI''s
      response, while it did attempt to outline steps, they were vague and lacked
      clear connections between phases."},"id":"toolu_016UPYUVzDgRViFQgHizmepT"},{"type":"tool_use","name":"critique","input":{"criticism":"1.
      The prompt is too vague and doesn''t specify what makes a good analysis plan\n2.
      There''s no guidance on how to structure or coordinate between steps\n3. The
      prompt doesn''t encourage detailed breakdown of each analysis phase\n4. No instruction
      about ensuring logical flow and connections between steps\n5. Missing direction
      on how to present the plan clearly"},"id":"toolu_01JN2Q5XYsBWAUK2q2FcuAGP"},{"type":"tool_use","name":"OptimizedPromptOutput","input":{"analysis":"The
      current prompt needs significant improvement to address the coordination issues
      and provide better structure. The optimization should:\n1. Add explicit instructions
      about creating well-structured analysis plans\n2. Include guidance on connecting
      steps logically\n3. Specify the need for clear transitions between phases\n4.
      Encourage detailed breakdown of each step\n5. Add formatting guidance for clarity","improved_prompt":"Plan
      a thorough and well-coordinated analysis by:\n\n1. Break down the topic into
      clear, logical phases\n2. For each phase:\n   - Define specific objectives\n   -
      List key questions to address\n   - Outline required data/information\n   -
      Specify methods/approaches to use\n   \n3. Ensure clear connections between
      phases by:\n   - Explaining how each step builds on previous ones\n   - Identifying
      dependencies between phases\n   - Creating smooth transitions\n\n4. Present
      your plan in a structured format:\n   Phase 1: [Name]\n   - Objectives:\n   -
      Key Questions:\n   - Required Data:\n   - Methods:\n   - Connection to Next
      Phase:\n\nRepeat this structure for each phase, maintaining clear coordination
      throughout the analysis."},"id":"toolu_01JSiEP8rwaDrNY6ajJPSZZp"}]},{"role":"user","content":[{"type":"tool_result","content":"","tool_use_id":"toolu_016UPYUVzDgRViFQgHizmepT","is_error":false},{"type":"tool_result","content":"","tool_use_id":"toolu_01JN2Q5XYsBWAUK2q2FcuAGP","is_error":false},{"type":"tool_result","content":"","tool_use_id":"toolu_01JSiEP8rwaDrNY6ajJPSZZp","is_error":false}]}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"any"},"tools":[{"name":"think","description":"Reflection
      tool implementation.","input_schema":{"description":"Reflection tool implementation.","properties":{"thought":{"title":"Thought","type":"string"}},"required":["thought"],"title":"think","type":"object"}},{"name":"critique","description":"Critique
      tool implementation.","input_schema":{"description":"Critique tool implementation.","properties":{"criticism":{"title":"Criticism","type":"string"}},"required":["criticism"],"title":"critique","type":"object"}},{"name":"OptimizedPromptOutput","description":"Schema
      for the optimized prompt output.","input_schema":{"description":"Schema for
      the optimized prompt output.","properties":{"analysis":{"description":"First,
      analyze the current results and plan improvements to reconcile them.","title":"Analysis","type":"string"},"improved_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Finally,
      generate the full updated prompt to address the identified issues.   The prompt
      section being optimized contains no input f-string variables. Any brackets {{
      foo }} you emit will be escaped and not used.","title":"Improved Prompt"}},"required":["analysis","improved_prompt"],"title":"OptimizedPromptOutput","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2ySQWsbMRCF/8ow53XxbtPa7C0Obim0PYScWsoiS2NLWDvaakZ2jPF/L3KSktCe
        hOa9+XjDzBmDwx5H2Q3z9qv1P3Q8pvZuPNws2kVq2/vvR2xQTxNVF4mYHWGDOcVaMCJB1LBig2Ny
        FLFHG01xNHs/+zCTxEw66+bdTTvvOmzQJlZixf7n+QWqKcWhSKVeo9R/GebtR3t/7Lbf1rcru17e
        5UdZfV6tP2GDbMZrnw+8r008FcX+jOpT2XnFHh88QRinnA7kYMppnLQ+h+BIYCzWg41kMmXYleAM
        W4JjUA8GRHOxWjI5UBqnaJTAsAN6nGKwQSHwkyUkFtimDKMJrCZw4B3YlLILbKoKG9IjEYNhE08S
        BCZvhOQdPPggID6V6MA4l0kE1BNsidzG2D2YTSoKTOQqdEOqlP/PFqVJYHOqSWw1V87tF9D0N3E8
        gU0swVG+TuKSLSOx1irT8yAvvOeIeLn8alA0TUMmI4nfrukqCP0uxJaw5xJjg+V6Gf35aR+Dpj2x
        YN8uumWD1lhPg810jT+8tcxf9EzG/auloq8ry/Zy+QMAAP//AwDU00Y6tQIAAA==
    headers:
      CF-RAY:
      - 90acf0fb3dc04caf-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:54:41 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:54:39Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:54:41Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:54:38Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:54:39Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01MVUjRC434pcgzTZcFSPCBV
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are helping
      an AI assistant learn by optimizing its prompt.\n\n## Background\n\nBelow is
      the current prompt:\n\n<current_prompt>\nPlan the analysis steps\n</current_prompt>\n\nThe
      developer provided these instructions regarding when/how to update:\n\n<update_instructions>\n\n</update_instructions>\n\n##
      Session Data\nAnalyze the session(s) (and any user feedback) below:\n\n<sessions>\n<session_75d086cc510b4fe1bdf9469a21ecafbf>\n================================
      Human Message =================================\n\nAnalyze the impact of AI
      on healthcare\n\n================================== Ai Message ==================================\n\nHere''s
      our analysis plan...\nResearch findings for each area...\nAnalysis of the implications...\nFinal
      report on AI in healthcare...\n\nFeedback for session 75d086cc510b4fe1bdf9469a21ecafbf:\n<FEEDBACK>\n{''organization'':
      ''needs better coordination between steps''}\n</FEEDBACK>\n</session_75d086cc510b4fe1bdf9469a21ecafbf>\n</sessions>\n\n##
      Instructions\n\n1. Reflect on the agent''s performance on the given session(s)
      and identify any real failure modes (e.g., style mismatch, unclear or incomplete
      instructions, flawed reasoning, etc.).\n2. Recommend the minimal changes necessary
      to address any real failures. If the prompt performs perfectly, simply respond
      with the original prompt without making any changes.\n3. Retain any f-string
      variables in the existing prompt exactly as they are (e.g. {variable_name}).\n\nIFF
      changes are warranted, focus on actionable edits. Be concrete. Edits should
      be appropriate for the identified failure modes. For example, consider synthetic
      few-shot examples for style or clarifying decision boundaries, or adding or
      modifying explicit instructions for conditionals, rules, or logic fixes; or
      provide step-by-step reasoning guidelines for multi-step logic problems if the
      model is failing to reason appropriately."},{"role":"assistant","content":[{"type":"tool_use","name":"think","input":{"thought":"The
      current prompt \"Plan the analysis steps\" is extremely minimal and lacks sufficient
      guidance for the AI assistant. Based on the session feedback which indicates
      \"needs better coordination between steps\", it''s clear that the AI didn''t
      properly structure or coordinate its analysis process. Looking at the AI''s
      response, while it did attempt to outline steps, they were vague and lacked
      clear connections between phases."},"id":"toolu_016UPYUVzDgRViFQgHizmepT"},{"type":"tool_use","name":"critique","input":{"criticism":"1.
      The prompt is too vague and doesn''t specify what makes a good analysis plan\n2.
      There''s no guidance on how to structure or coordinate between steps\n3. The
      prompt doesn''t encourage detailed breakdown of each analysis phase\n4. No instruction
      about ensuring logical flow and connections between steps\n5. Missing direction
      on how to present the plan clearly"},"id":"toolu_01JN2Q5XYsBWAUK2q2FcuAGP"},{"type":"tool_use","name":"OptimizedPromptOutput","input":{"analysis":"The
      current prompt needs significant improvement to address the coordination issues
      and provide better structure. The optimization should:\n1. Add explicit instructions
      about creating well-structured analysis plans\n2. Include guidance on connecting
      steps logically\n3. Specify the need for clear transitions between phases\n4.
      Encourage detailed breakdown of each step\n5. Add formatting guidance for clarity","improved_prompt":"Plan
      a thorough and well-coordinated analysis by:\n\n1. Break down the topic into
      clear, logical phases\n2. For each phase:\n   - Define specific objectives\n   -
      List key questions to address\n   - Outline required data/information\n   -
      Specify methods/approaches to use\n   \n3. Ensure clear connections between
      phases by:\n   - Explaining how each step builds on previous ones\n   - Identifying
      dependencies between phases\n   - Creating smooth transitions\n\n4. Present
      your plan in a structured format:\n   Phase 1: [Name]\n   - Objectives:\n   -
      Key Questions:\n   - Required Data:\n   - Methods:\n   - Connection to Next
      Phase:\n\nRepeat this structure for each phase, maintaining clear coordination
      throughout the analysis."},"id":"toolu_01JSiEP8rwaDrNY6ajJPSZZp"}]},{"role":"user","content":[{"type":"tool_result","content":"","tool_use_id":"toolu_016UPYUVzDgRViFQgHizmepT","is_error":false},{"type":"tool_result","content":"","tool_use_id":"toolu_01JN2Q5XYsBWAUK2q2FcuAGP","is_error":false},{"type":"tool_result","content":"","tool_use_id":"toolu_01JSiEP8rwaDrNY6ajJPSZZp","is_error":false}]},{"role":"assistant","content":[{"type":"tool_use","name":"think","input":{"thought":"The
      improved prompt provides much clearer guidance with a structured template and
      explicit instructions for maintaining coordination between analysis phases.
      This should address the feedback about needing better coordination between steps
      by forcing the AI to explicitly consider and document connections between phases."},"id":"toolu_016cRw2fMEABcE8CrxsBGBEF"}]},{"role":"user","content":[{"type":"tool_result","content":"","tool_use_id":"toolu_016cRw2fMEABcE8CrxsBGBEF","is_error":false}]}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"tool","name":"OptimizedPromptOutput"},"tools":[{"name":"OptimizedPromptOutput","description":"Schema
      for the optimized prompt output.","input_schema":{"description":"Schema for
      the optimized prompt output.","properties":{"analysis":{"description":"First,
      analyze the current results and plan improvements to reconcile them.","title":"Analysis","type":"string"},"improved_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Finally,
      generate the full updated prompt to address the identified issues.   The prompt
      section being optimized contains no input f-string variables. Any brackets {{
      foo }} you emit will be escaped and not used.","title":"Improved Prompt"}},"required":["analysis","improved_prompt"],"title":"OptimizedPromptOutput","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2xVwW4bNxD9lQFPLSApluUkgG6p7aBB49hNnR4aBQKXnNXS5nJoztCybPjfC3K1
        MozktFiSM/PmvTfkk3JWLVXPm/XR/M+H/y7uP190D5nfP+rNvyfnp4uHRk2U7CKWU8isN6gmKpEv
        C5rZseggaqJ6sujVUhmvs8XpYvp2yhQCyvT46PhkfnR8rCbKUBAMopbfn8akQuTXmUvWCqX85/XR
        /PrsZNNs8eMHbOSma749nvHNu29qooLuS9xlFNe7R7RXifool1liLjhcKN/lk9JB+x07Vkt13SG4
        4MRpDzTEaXEUQFuLFjZEFlhSNpITQpMFDGVvocGArRNoE/WgocUtJGxdwB6D8HIV5jP4YC1gHzvN
        joECeNo4oz3ERJuEzI7CKhzP4FMwPluETXZWB4PlrMUoHdwzNAm1lW4VFjP4ir0LFnRDWaDXLoh2
        wYUNtGRyLSEdgqGEcJeRpRa47pARtL3JLBUcbJ330OYkHSZwfUx0X6IoWReG5red8wi3iLFkL0lH
        ykB02qCgBR0sYNuiEXePs0LvkMmuY6VdLdWV1wE0SEeJ8qarIVv0fnooVvPsMzc7aMl72u5rMgIL
        xkJmpfOPhPoWLG2HNoWiM+CCECymb8F41GnywnGnGRmk03LgexCrpRxsbVN7yMFiKj61tSiBtvdF
        AgsusNt0wrPVINJHSoDadEPm5SoAwBTOqubAEY1rnQFqbgZC9qWtS2jE74BzjJSkIi/KvbT9olTN
        +NmxwC3uDus8wLK1g9+OpycQMQ0oft/HXGbxBUbCu+wSWrBa9BsXWkr9IChTTgZ5f/6fCncHhoJJ
        KAg9SkeW3+gYE2nTYS2aGWtA9d554DIBleYSGEqfBV2DskUMI+PNbuTm/CH6vT872g7kFUGhyc7b
        ateY8N5RZmhdVWAE+MliENfuSqzFiMFiMA65OigmrI2yk0NHpwm1lNPcE0kHknRgt6evCMEFwi8H
        cBVOZnCVkDEI7CgniMW2rrjM8cvwWxjoHNq7Kt3CfAnfv+gef4xCHOQfSfgLd/D3qOS4+HXU6UyL
        HhcvBg3G39MDxUWKL/ggQ806DRf72f/F4P/kK5CuTl+5M7QfJ2MG5wczF3LKnZYw7mnQe52rXC2l
        rU5lIl6PywS2TjrAh+idcfLKFELQFB0OAhfhODeMd7kU2INQz88/JoqF4jqhZgqvb/26MYQYVMuQ
        vZ+oXB+a5dNwna+FbjGwWs7fz08myhTzrk11A4X16yNH4365Un/eo/pOHFYWi3fPz/8DAAD//wMA
        ZHM6uwUHAAA=
    headers:
      CF-RAY:
      - 90acf113db8232d2-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:54:50 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:54:43Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:54:50Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:54:41Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:54:43Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01TvmtUzbkanDfpZE26ZyYRy
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"Use parallel tool
      calling to search for distinct memories or aspects that would be relevant to
      this conversation::\n\n<convo>\n================================ Human Message
      =================================\n\nmessages\n</convo>."}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"auto"},"tools":[{"name":"search_memory","description":"Search
      your long-term memories for information relevant to your current context. {instructions}","input_schema":{"properties":{"query":{"type":"string"},"limit":{"default":10,"type":"integer"},"offset":{"default":0,"type":"integer"},"filter":{"anyOf":[{"type":"object"},{"type":"null"}],"default":null}},"required":["query"],"type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA5xS0WobMRD8FbHP53J3jd3kHpOGmNQNNBibUsqh6Na2sE4ra1cmjvG/F10a0tCX
        tE9id3Y0syMdwXbQQM/rtqzmlxfbi362CIs7fT+h6e10f9VNoAA5BMxTyKzXCAVEcrmhmS2L9gIF
        9NShgwaM06nD0cfReMTkPcqoLuuzqqxrKMCQF/QCzY/jy6WCj5k+HA3MUFSPaoMuKEYdzUatKKqI
        DvfaZ6ynaJGVfqCUy8ERq8TWr1XQUTuH7jcVWQkpQ3uMqrOrFUb0ojQHNMIf4FS8miBybeK82pBH
        rlNbVpP68rqv10upPodwVXXbevxwcQ4FeN1n3rNOO7g6ZLIPSaA5wi5hPLxGxspQ3ydvjRZLXm0s
        S2ac3uHh2+31HVUSHjv6jl95vzzgp9ni3z2orMM5zl4Lv0v6huer6ul+Z5e7L/XUzuVJz/nmP6Q3
        2ncuv1BMDlkFctZYzCZ+FsBCoY2omfxbLwPAuEvoDULjk3MFpOELNsdnsVZoi56hOTuvCjDabLA1
        EYeU27cT5QseUXd/Y5Tkz041Lk+nXwAAAP//AwBPhRINHgMAAA==
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90acf8120dce4cac-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:59:32 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:59:30Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:59:32Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:59:28Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:59:30Z'
      request-id:
      - req_01H1YuHnQZNz6DBZfLx8wcfv
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are tasked
      with extracting or upserting memories for all entities, concepts, etc.\n\nExtract
      all important facts or entities. If an existing MEMORY is incorrect or outdated,
      update it based on the new information.\n\n\nEnrich, prune, and organize memories
      based on any new information. If an existing memory is incorrect or outdated,
      update it based on the new information. All operations must be done in single
      parallel call.\n\n<session_e19bafad-393d-42c8-a5a5-246e5fc9ab69>\n================================
      Human Message =================================\n\nmessages\n</session_e19bafad-393d-42c8-a5a5-246e5fc9ab69>"}],"model":"claude-3-5-sonnet-latest","system":"You
      are a memory subroutine for an AI.\n\n","tool_choice":{"type":"any"},"tools":[{"name":"Memory","description":"Call
      this tool once for each new memory you want to record. Use multi-tool calling
      to record multiple new memories.","input_schema":{"description":"Call this tool
      once for each new memory you want to record. Use multi-tool calling to record
      multiple new memories.","properties":{"content":{"description":"The memory as
      a well-written, standalone episode/fact/note/preference/etc. Refer to the user''s
      instructions for more information the prefered memory organization.","title":"Content","type":"string"}},"required":["content"],"title":"Memory","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAAwAAAP//ZJHdTttAEIVfZTTXDnJMKK3vKATBRQ1tUwkoyNquJ86W9Y6zO5tgorx7
        tYGoiricOWe++dugabDELrR1Pq4WP3u9PBm+Kn+hvxSvt1p3Vy1mKENPyUUhqJYwQ882JVQIJohy
        ghl23JDFErVVsaHR8ehkFNg5klGRF5NxXhSYoWYn5ATL35s9VJhtHUOi7kZJcazz8ffTh4u/V8vp
        5HL9cHnG98PpalndYoZOdanuG3Xsh1Tl+ihYbv7D8bqaTX+cnc+ub6r6/KaaTe9mJfwK5EGFZ2pA
        GDytDK3hcb9UeERYG1lwFOg9r0xjXAvKDRB60mZuNOydwB7eeyWScsoOr3QEFUNHyhnXzqOFLs1n
        KIBWDv4Q0It4pYUamHvuQBYmgDWdSZkd7UWOcLt9yjAI97UnFdgd3mcnBFpGcpqwdNHaDOPuJeXm
        7Q618DO5gOWnyXGGWukF1dqTEsOuPnTke92Taj5qHOWA93m7/QcAAP//AwAz7MOcLQIAAA==
    headers:
      CF-RAY:
      - 90acf82f8a064cac-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:59:35 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:59:34Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:59:35Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:59:33Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:59:34Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01WdGG7ounhshoeaapQu3dJy
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are tasked
      with extracting or upserting memories for all entities, concepts, etc.\n\nExtract
      all important facts or entities. If an existing MEMORY is incorrect or outdated,
      update it based on the new information.\n\n\nEnrich, prune, and organize memories
      based on any new information. If an existing memory is incorrect or outdated,
      update it based on the new information. All operations must be done in single
      parallel call.\n\n<session_69255716-7c3b-4f25-b263-171a2eac0e1f>\n================================
      Human Message =================================\n\nmessages\n</session_69255716-7c3b-4f25-b263-171a2eac0e1f>"}],"model":"claude-3-5-sonnet-latest","system":"You
      are a memory subroutine for an AI.\n\n\n\nGenerate JSONPatches to update the
      existing schema instances. If you need to extract or insert *new* instances
      of the schemas, call the relevant function(s).\n<existing>\n<instance id=c3d551fa097b5ec09ad37057950fb0b1
      schema_type=\"Memory\">\n{''content'': ''INTERACTION_CONTEXT: User asked to
      review \"messages\" without providing any specific messages or content to analyze.
      No meaningful memories can be extracted from this limited context.''}\n</instance>\n</existing>\n","tool_choice":{"type":"any"},"tools":[{"name":"PatchDoc","description":"Respond
      with JSONPatch operations to update the existing JSON document based on the
      provided text and schema.","input_schema":{"properties":{"json_doc_id":{"description":"The
      json_doc_id of the document you are patching.","type":"string"},"planned_edits":{"description":"Think
      step-by-step, reasoning over each required update and the corresponding JSONPatch
      operation to accomplish it. Cite the fields in the JSONSchema you referenced
      in developing this plan. Address each path as a group; don''t switch between
      paths.\n Plan your patches in the following order:1. replace - this keeps collection
      size the same.\n2. remove - BE CAREFUL ABOUT ORDER OF OPERATIONS. Each operation
      is applied sequentially. For arrays, remove the highest indexed value first
      to avoid shifting indices. This ensures subsequent remove operations remain
      valid.\n 3. add (for arrays, use /- to efficiently append to end).","type":"string"},"patches":{"description":"A
      list of JSONPatch operations to be applied to the previous tool call''s response
      arguments. If none are required, return an empty list. This field is REQUIRED.
      Multiple patches in the list are applied sequentially in the order provided,
      with each patch building upon the result of the previous one. Take care to respect
      array bounds. Order patches as follows:\n 1. replace - this keeps collection
      size the same\n 2. remove - BE CAREFUL about order of operations. For arrays,
      remove the highest indexed value first to avoid shifting indices.\n 3. add -
      for arrays, use /- to efficiently append to end.","items":{"description":"A
      JSON Patch document represents an operation to be performed on a JSON document.\n\nNote
      that the op and path are ALWAYS required. Value is required for ALL operations
      except ''remove''.","examples":[{"op":"replace","path":"/path/to/my_array/1","value":"the
      newer value to be patched"},{"op":"replace","path":"/path/to/broken_object","value":{"new":"object"}},{"op":"add","path":"/path/to/my_array/-","value":["some","values"]},{"op":"add","path":"/path/to/my_array/-","value":["newer"]},{"op":"remove","path":"/path/to/my_array/1"}],"properties":{"op":{"description":"The
      operation to be performed. Must be one of ''add'', ''remove'', ''replace''.","enum":["add","remove","replace"],"type":"string"},"path":{"description":"A
      JSON Pointer path that references a location within the target document where
      the operation is performed. Note: patches are applied sequentially. If you remove
      a value, the collection size changes before the next patch is applied.","type":"string"},"value":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"type":"null"}]},"type":"object"},{"type":"null"}],"description":"The
      value to be used within the operation. REQUIRED for ''add'', ''replace'', and
      ''test'' operations. Pay close attention to the json schema to ensure patched
      document will be valid."}},"required":["op","path","value"],"type":"object"},"type":"array"}},"required":["json_doc_id","planned_edits","patches"],"type":"object"}},{"name":"Memory","description":"Call
      this tool once for each new memory you want to record. Use multi-tool calling
      to record multiple new memories.","input_schema":{"properties":{"content":{"description":"The
      memory as a well-written, standalone episode/fact/note/preference/etc. Refer
      to the user''s instructions for more information the prefered memory organization.","type":"string"}},"required":["content"],"type":"object"}},{"name":"RemoveDoc","description":"Use
      this tool to remove (delete) a doc by its ID.","input_schema":{"properties":{"json_doc_id":{"description":"ID
      of the document to remove. Must be one of: (''c3d551fa097b5ec09ad37057950fb0b1'',)","type":"string"}},"required":["json_doc_id"],"type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2RTXW/bMAz8K4Re9uIETtKsi9/apsMCbGlRBPtqCoOR6FirTLkSnTQr+t8HuQ2w
        bo8mj8e7E/2krFGFauK2zEffzmfjs/rrSVuf6vn5fD5fXZP9pDIlh5YSimLELalMBe9SAWO0UZBF
        ZarxhpwqlHbYGRpMBtNB9Mwkg3E+Phnl47HKlPYsxKKK26cjqXjvyi4m1l5K+u7KfPRjci1hyT9t
        Nfpwz9Z+3n15uPmoMsXYpLlrFF3PvU5z3Haiiif1K3oujddlz6QnZjodVZjPTjdT0vkMzeQ0n57O
        pnm1yTcjlanWITOZkoyVqAq1qgno0UaxvIWGGh8OoH0IpMUdQGMrXaAIUqOA1ARdpAANGgKEHW47
        gkAPHUUB3PhOYH3MLK4V7K3UqdgGv7MmbUA+QGxJ28pqeM0GxAMyusNvGsLSQ9caFIqAgYCJDBmI
        ljWB1DYeNaLWXUAhd4BAlSMtsddnWSigFut5uOY1J3+vI5V3zu8jbJLatgdpirA5FGseDWHB2nW9
        yMSzWK4ub84uVourZXlxtVxdfl9BG6iyj2seD+HCEQZ3gCjYJ7dP+ewxHtMgs+ZJciNHQmcbm8Ce
        X8JsA+2IhQw0hGx5W3XuqJQe5dXDmk+GcE79CnJuUPnQkAFkk1azQeeZXn0GqnygDBbvnANHuPsn
        sTiwsX8SYA9tOiZ60WsDmWG6jZeaKm7vnp/vMhXFt2UgjJ7fnm3fiMkpa1IFd85lquv/lOLp5ThL
        8ffEURXjfDrJlEZdU6kD9QmUbyH5sR8Izf8938nfldHs/fPzHwAAAP//AwBreI4KxgMAAA==
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90acf83fbe914cac-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:59:40 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:59:36Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:59:40Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:59:35Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:59:36Z'
      request-id:
      - req_017X7UeWhXc8rq71sV7mpTGu
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"Use parallel tool
      calling to search for distinct memories or aspects that would be relevant to
      this conversation::\n\n<convo>\n================================ Human Message
      =================================\n\nmessages\n</convo>."}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"auto"},"tools":[{"name":"search_memory","description":"Search
      your long-term memories for information relevant to your current context. {instructions}","input_schema":{"properties":{"query":{"type":"string"},"limit":{"default":10,"type":"integer"},"offset":{"default":0,"type":"integer"},"filter":{"anyOf":[{"type":"object"},{"type":"null"}],"default":null}},"required":["query"],"type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA5xSwW7aQBD9ldVcejEVGEjBtxBRUhWh0oo0aVVZ2/XYWKx3zM5sGor875VNaRL1
        kva02pl5b957u0coM0ig4iLtD65XN/mSZ5efghnS5s3Hw350u4khAjnU2E4hsy4QIvBk24JmLlm0
        E4igogwtJGCsDhn2hr1xj8k5lF7cj0eDftwSGXKCTiD5ejyTCj608O5IYImiKlRbtLVi1N5sVU5e
        VViRL5GVR4v32okSUrItWRly9+hZS0lO6e8UWnwnk1+rd6+sVTX6nHylau21tWh/8yKrnEzg0hWK
        nMrKPEePTpTmGo2wovwPUwJN9CiYyKaB2xi67Np7SPuDm0Whp7MPRb4OGld36+urybiYQgROVy3u
        tDbtrBxasKuDQHKEfUB/eIy39VRVwZXmZOqpQ2heIGS6uPh8efdl+PP9+PZqsd7NabeZx/8uRG1L
        FvIH1b3ag6ja431JgV+kYjaej7arwMus2r/1E/6xnFzExX+oaB9Pi2LxwUjw54KUroCm+RYBC9Wp
        R83knuvpGoz7gM4gJC5YG0HovnByPC1MhXboGJLRZBCB0WaLqfHYhZ0+n+if+x519nePgjytDMbT
        pvkFAAD//wMAZxr6gV4DAAA=
    headers:
      CF-RAY:
      - 90acf85f9fff4cb2-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:59:43 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T21:59:41Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T21:59:43Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T21:59:40Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T21:59:41Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_019QeRVX3NguoytfDfkT2SJQ
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are tasked
      with extracting or upserting memories for all entities, concepts, etc.\n\nExtract
      all important facts or entities. If an existing MEMORY is incorrect or outdated,
      update it based on the new information.\n\n\nEnrich, prune, and organize memories
      based on any new information. If an existing memory is incorrect or outdated,
      update it based on the new information. All operations must be done in single
      parallel call.\n\n<session_d77ceba7-12f9-433e-929e-720b730bef80>\n================================
      Human Message =================================\n\nmessages\n</session_d77ceba7-12f9-433e-929e-720b730bef80>"}],"model":"claude-3-5-sonnet-latest","system":"You
      are a memory subroutine for an AI.\n\n","tool_choice":{"type":"any"},"tools":[{"name":"PreferenceMemory","description":null,"input_schema":{"properties":{"category":{"title":"Category","type":"string"},"preference":{"title":"Preference","type":"string"},"context":{"title":"Context","type":"string"}},"required":["category","preference","context"],"title":"PreferenceMemory","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: '{"type":"error","error":{"type":"invalid_request_error","message":"tools.0.custom.description:
        Input should be a valid string"}}'
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90acf8742fd74cb2-PHL
      Connection:
      - keep-alive
      Content-Length:
      - '128'
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 21:59:44 GMT
      Server:
      - cloudflare
      X-Robots-Tag:
      - none
      request-id:
      - req_0119VcbKCcLPP1GeW8QgjRS8
      via:
      - 1.1 google
      x-should-retry:
      - 'false'
    status:
      code: 400
      message: Bad Request
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are tasked
      with extracting or upserting memories for all entities, concepts, etc.\n\nExtract
      all important facts or entities. If an existing MEMORY is incorrect or outdated,
      update it based on the new information.\n\n\nEnrich, prune, and organize memories
      based on any new information. If an existing memory is incorrect or outdated,
      update it based on the new information. All operations must be done in single
      parallel call.\n\n<session_656edfc9-1a05-40ec-80fd-5ee7790db249>\n================================
      Human Message =================================\n\nmessages\n</session_656edfc9-1a05-40ec-80fd-5ee7790db249>"}],"model":"claude-3-5-sonnet-latest","system":"You
      are a memory subroutine for an AI.\n\n","tool_choice":{"type":"any"},"tools":[{"name":"Memory","description":"Call
      this tool once for each new memory you want to record. Use multi-tool calling
      to record multiple new memories.","input_schema":{"description":"Call this tool
      once for each new memory you want to record. Use multi-tool calling to record
      multiple new memories.","properties":{"content":{"description":"The memory as
      a well-written, standalone episode/fact/note/preference/etc. Refer to the user''s
      instructions for more information the prefered memory organization.","title":"Content","type":"string"}},"required":["content"],"title":"Memory","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAAwAAAP//jFJdT9tAEPwrp322JTuJA/FbFFygagzkg0JLZV19G+eIc2du70hClP9e
        nUtKUR/K4+7MjmZ2dw9SQAprqooovhmtqu23i8nooto2o9Xn+2aSb58gALtr0LOQiFcIARhd+wYn
        kmS5shDAWgusIYWy5k5g2A2TkLRSaMNO1OnFUacDAZRaWVQW0u/7o6jVui4cedXWiq9dEcW3j24+
        vV9l/eV6mLteZ9vsBucJBKD42s+Nca3Nzk+pxllI92/iMLoaj4f5WcrmhIYZfHJIllnNDD5L3DCu
        BGuMLpGIvYYittCGrVtRhltreGmlVi1Vm4or+cJ9Aw6H4L/e++fUu/tymm8G1+prYj+tjBnfdT/m
        /TKfZZPhaHZ5lbPRVT7L7mYpmyKRd3N5xvpJH8WiHIQxj5KwF2EZnkYLESaIJyeDSPzs9AZsw4k5
        QsGEM1JVzC4lMaksvsb6UIqYd0V1ze2jm2Y3EyMaTmbxwQvMp9mETbKbeTadpWxIKxR+/4TItPmz
        +4fjS9EDsI20S+2sB5+l8K65ENK75TVrlbfWD1ODpVzI8u1yVjOueL17QTgcfgRAVjeFQU5avY/X
        AuTfQZUIqXJ1HYBrfzrd/45RWL1CRZD2u0kAJS+XWJQG29sX7xnRETfIxb+YdvbvTnwSHw6/AAAA
        //8DALHe/2hvAwAA
    headers:
      CF-RAY:
      - 90acf99ebc9532c5-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:00:34 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '399000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T22:00:33Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T22:00:34Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T22:00:31Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '479000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T22:00:33Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01MrtHn1CHuGvfnHc1bwKdja
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are tasked
      with extracting or upserting memories for all entities, concepts, etc.\n\nExtract
      all important facts or entities. If an existing MEMORY is incorrect or outdated,
      update it based on the new information.\n\n\nEnrich, prune, and organize memories
      based on any new information. If an existing memory is incorrect or outdated,
      update it based on the new information. All operations must be done in single
      parallel call.\n\n<session_3a580d22-e68f-4f8d-b6e1-44b12d2eef8d>\n================================
      Human Message =================================\n\nmessages\n</session_3a580d22-e68f-4f8d-b6e1-44b12d2eef8d>"}],"model":"claude-3-5-sonnet-latest","system":"You
      are a memory subroutine for an AI.\n\n\n\nGenerate JSONPatches to update the
      existing schema instances. If you need to extract or insert *new* instances
      of the schemas, call the relevant function(s).\n<existing>\n<instance id=0fa47d5bd25052efbe5b030cd26d26c6
      schema_type=\"Memory\">\n{''content'': ''COMMAND: User request to review and
      process messages for memory extraction and organization''}\n</instance>\n<instance
      id=d649fd3ca48d5c0bba156b790ce5aa03 schema_type=\"Memory\">\n{''content'': ''INTERACTION
      CONTEXT: Session ID 656edfc9-1a05-40ec-80fd-5ee7790db249 was used during this
      interaction''}\n</instance>\n<instance id=aaaf9031e4bb584caced5d61a38047af schema_type=\"Memory\">\n{''content'':
      ''USER REQUEST: Asked to see or process \"messages\" without providing additional
      context or specific messages to analyze''}\n</instance>\n</existing>\n","tool_choice":{"type":"any"},"tools":[{"name":"PatchDoc","description":"Respond
      with JSONPatch operations to update the existing JSON document based on the
      provided text and schema.","input_schema":{"properties":{"json_doc_id":{"description":"The
      json_doc_id of the document you are patching.","type":"string"},"planned_edits":{"description":"Think
      step-by-step, reasoning over each required update and the corresponding JSONPatch
      operation to accomplish it. Cite the fields in the JSONSchema you referenced
      in developing this plan. Address each path as a group; don''t switch between
      paths.\n Plan your patches in the following order:1. replace - this keeps collection
      size the same.\n2. remove - BE CAREFUL ABOUT ORDER OF OPERATIONS. Each operation
      is applied sequentially. For arrays, remove the highest indexed value first
      to avoid shifting indices. This ensures subsequent remove operations remain
      valid.\n 3. add (for arrays, use /- to efficiently append to end).","type":"string"},"patches":{"description":"A
      list of JSONPatch operations to be applied to the previous tool call''s response
      arguments. If none are required, return an empty list. This field is REQUIRED.
      Multiple patches in the list are applied sequentially in the order provided,
      with each patch building upon the result of the previous one. Take care to respect
      array bounds. Order patches as follows:\n 1. replace - this keeps collection
      size the same\n 2. remove - BE CAREFUL about order of operations. For arrays,
      remove the highest indexed value first to avoid shifting indices.\n 3. add -
      for arrays, use /- to efficiently append to end.","items":{"description":"A
      JSON Patch document represents an operation to be performed on a JSON document.\n\nNote
      that the op and path are ALWAYS required. Value is required for ALL operations
      except ''remove''.","examples":[{"op":"replace","path":"/path/to/my_array/1","value":"the
      newer value to be patched"},{"op":"replace","path":"/path/to/broken_object","value":{"new":"object"}},{"op":"add","path":"/path/to/my_array/-","value":["some","values"]},{"op":"add","path":"/path/to/my_array/-","value":["newer"]},{"op":"remove","path":"/path/to/my_array/1"}],"properties":{"op":{"description":"The
      operation to be performed. Must be one of ''add'', ''remove'', ''replace''.","enum":["add","remove","replace"],"type":"string"},"path":{"description":"A
      JSON Pointer path that references a location within the target document where
      the operation is performed. Note: patches are applied sequentially. If you remove
      a value, the collection size changes before the next patch is applied.","type":"string"},"value":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"type":"null"}]},"type":"object"},{"type":"null"}],"description":"The
      value to be used within the operation. REQUIRED for ''add'', ''replace'', and
      ''test'' operations. Pay close attention to the json schema to ensure patched
      document will be valid."}},"required":["op","path","value"],"type":"object"},"type":"array"}},"required":["json_doc_id","planned_edits","patches"],"type":"object"}},{"name":"Memory","description":"Call
      this tool once for each new memory you want to record. Use multi-tool calling
      to record multiple new memories.","input_schema":{"properties":{"content":{"description":"The
      memory as a well-written, standalone episode/fact/note/preference/etc. Refer
      to the user''s instructions for more information the prefered memory organization.","type":"string"}},"required":["content"],"type":"object"}},{"name":"RemoveDoc","description":"Use
      this tool to remove (delete) a doc by its ID.","input_schema":{"properties":{"json_doc_id":{"description":"ID
      of the document to remove. Must be one of: (''0fa47d5bd25052efbe5b030cd26d26c6'',
      ''aaaf9031e4bb584caced5d61a38047af'', ''d649fd3ca48d5c0bba156b790ce5aa03'')","type":"string"}},"required":["json_doc_id"],"type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA4yS0W/TMBDG/xXrnmNw0iRN8gbtppWJboLCmNAUOfalDU3skLM3pqr/O3KmCXjj
        0b77Pv3uuztBp6GCgfa1iD9eZo80YHL15Wq8v8b35rk7PpUQgXseMXQhkdwjRDDZPnxIoo6cNA4i
        GKzGHipQvfQa+YJnnKwx6HgikjQWSQIRKGscGgfV99OrqbO2rz0F1xklvH0t4qw1w4pu/eXxrvz6
        obgebu/v1jlEYOQQdLfSqcPaqqAzo3dQneAHWVNrq+rZSedp2eqFkmmhMyWaRsZZ3ixLoTCTUiwg
        grGXxqCuUXeOoILdARkhUWcN26yZQdTEnGUNMj9q6VCzdrIDy7McdatKHkuR8VSg4oVoNc8Ql8tS
        6CZJy6BbyKwQOkk45kXL07bQvMkx5mnaxIlOENtCh74J2x6VY+6ATPlpQuNYZxxOUrnAMuf2y70J
        yGFupDlCO0IFE469VPhSOkAFb19TjuBR9j6EtdnuLj69W+02N1u2utnuLr7tKvb5z6D/xfkkiXlC
        zbSfOrNn7tDR35RwfjifHyIgZ8d6QknW/LvfuUD406NRCJXxfR+Bn0+qOr1ssXb2iIbgt6yMjIyM
        dZSSE5MzUuOTi1ITQRbEoyoxgMkXpSamYMrll5agGGhsXlsLAAAA//8DABjD9+LvAgAA
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90acf9b3cd7332c5-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:00:39 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T22:00:36Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T22:00:39Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T22:00:35Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T22:00:36Z'
      request-id:
      - req_01FANZyLuaE5qLGVxTfi9WXM
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are tasked
      with extracting or upserting memories for all entities, concepts, etc.\n\nExtract
      all important facts or entities. If an existing MEMORY is incorrect or outdated,
      update it based on the new information.\n\n\nEnrich, prune, and organize memories
      based on any new information. If an existing memory is incorrect or outdated,
      update it based on the new information. All operations must be done in single
      parallel call.\n\n<session_7a2e0366-08f4-439b-9ab5-ace010d34d3f>\n================================
      Human Message =================================\n\nmessages\n</session_7a2e0366-08f4-439b-9ab5-ace010d34d3f>"}],"model":"claude-3-5-sonnet-latest","system":"You
      are a memory subroutine for an AI.\n\n","tool_choice":{"type":"any"},"tools":[{"name":"Memory","description":"Call
      this tool once for each new memory you want to record. Use multi-tool calling
      to record multiple new memories.","input_schema":{"description":"Call this tool
      once for each new memory you want to record. Use multi-tool calling to record
      multiple new memories.","properties":{"content":{"description":"The memory as
      a well-written, standalone episode/fact/note/preference/etc. Refer to the user''s
      instructions for more information the prefered memory organization.","title":"Content","type":"string"}},"required":["content"],"title":"Memory","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA4yRW2/TQBCF/8pqnm3kW0LiNysXaEUqqCJC1SBrs54kS+0Z49ltCVH+O3JKVCoe
        4HHOmTn6juYItoIcGtmVUTzNvhXL99ItksYOFoZHEhfTFgJwhxb7LRTRO4QAOq57QYtYcZocBNBw
        hTXkYGrtKwzTcBAKE6ELkyjJ4ihJIADD5JAc5PfHS6hjrksvfeoZpZ99GcWf5z+L1WrU6tX14EMy
        eVy8+9TOexjSTX+3wIa7Q39FrXeQH1/C4ePtbD67nd1MZrla7lEVV8poUh1Ky1Qpx2qjxRpluGk0
        VaJq+4BqfSkoa1Bb7pTs+cnSTv2W1d6K4+7wBk6n4J/8NxOyP6wvXHVH8zveXK++JNPx//HPi8ny
        mVxQxDKpq6law1udYJQOh2E02mZhlo434VhvBqE2GMVRlWZVul2DetKivGClLCmtDNMjdqKdZerJ
        vwYgjtuyQy1MrwucDcHvHskg5OTrOgB//nl+fAYtHT8gCeTDLA3AaLPH0nR4ji9fb0QXv0Nd/e2x
        d38qcZKdTr8AAAD//wMAjpGIlI8CAAA=
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90acfb4dcc8e32c8-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:01:43 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T22:01:41Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T22:01:43Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T22:01:40Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T22:01:41Z'
      request-id:
      - req_01GmtrrjicMD1Fw9xQGYrNQq
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are tasked
      with extracting or upserting memories for all entities, concepts, etc.\n\nExtract
      all important facts or entities. If an existing MEMORY is incorrect or outdated,
      update it based on the new information.\n\n\nEnrich, prune, and organize memories
      based on any new information. If an existing memory is incorrect or outdated,
      update it based on the new information. All operations must be done in single
      parallel call.\n\n<session_4c0138ee-3cf1-4e61-83a6-834c5b861c40>\n================================
      Human Message =================================\n\nmessages\n</session_4c0138ee-3cf1-4e61-83a6-834c5b861c40>"}],"model":"claude-3-5-sonnet-latest","system":"You
      are a memory subroutine for an AI.\n\n\n\nGenerate JSONPatches to update the
      existing schema instances. If you need to extract or insert *new* instances
      of the schemas, call the relevant function(s).\n<existing>\n<instance id=6479639d2c66511991ce80f2ad530868
      schema_type=\"Memory\">\n{''content'': ''PREFERENCE: The AI can respond to basic
      commands like \"messages\" for showing message history.''}\n</instance>\n<instance
      id=c135e5b6fe1b553d87e236c8160a4246 schema_type=\"Memory\">\n{''content'': ''FACT:
      The session ID \"7a2e0366-08f4-439b-9ab5-ace010d34d3f\" was used in a conversation.''}\n</instance>\n</existing>\n","tool_choice":{"type":"any"},"tools":[{"name":"PatchDoc","description":"Respond
      with JSONPatch operations to update the existing JSON document based on the
      provided text and schema.","input_schema":{"properties":{"json_doc_id":{"description":"The
      json_doc_id of the document you are patching.","type":"string"},"planned_edits":{"description":"Think
      step-by-step, reasoning over each required update and the corresponding JSONPatch
      operation to accomplish it. Cite the fields in the JSONSchema you referenced
      in developing this plan. Address each path as a group; don''t switch between
      paths.\n Plan your patches in the following order:1. replace - this keeps collection
      size the same.\n2. remove - BE CAREFUL ABOUT ORDER OF OPERATIONS. Each operation
      is applied sequentially. For arrays, remove the highest indexed value first
      to avoid shifting indices. This ensures subsequent remove operations remain
      valid.\n 3. add (for arrays, use /- to efficiently append to end).","type":"string"},"patches":{"description":"A
      list of JSONPatch operations to be applied to the previous tool call''s response
      arguments. If none are required, return an empty list. This field is REQUIRED.
      Multiple patches in the list are applied sequentially in the order provided,
      with each patch building upon the result of the previous one. Take care to respect
      array bounds. Order patches as follows:\n 1. replace - this keeps collection
      size the same\n 2. remove - BE CAREFUL about order of operations. For arrays,
      remove the highest indexed value first to avoid shifting indices.\n 3. add -
      for arrays, use /- to efficiently append to end.","items":{"description":"A
      JSON Patch document represents an operation to be performed on a JSON document.\n\nNote
      that the op and path are ALWAYS required. Value is required for ALL operations
      except ''remove''.","examples":[{"op":"replace","path":"/path/to/my_array/1","value":"the
      newer value to be patched"},{"op":"replace","path":"/path/to/broken_object","value":{"new":"object"}},{"op":"add","path":"/path/to/my_array/-","value":["some","values"]},{"op":"add","path":"/path/to/my_array/-","value":["newer"]},{"op":"remove","path":"/path/to/my_array/1"}],"properties":{"op":{"description":"The
      operation to be performed. Must be one of ''add'', ''remove'', ''replace''.","enum":["add","remove","replace"],"type":"string"},"path":{"description":"A
      JSON Pointer path that references a location within the target document where
      the operation is performed. Note: patches are applied sequentially. If you remove
      a value, the collection size changes before the next patch is applied.","type":"string"},"value":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"type":"null"}]},"type":"object"},{"type":"null"}],"description":"The
      value to be used within the operation. REQUIRED for ''add'', ''replace'', and
      ''test'' operations. Pay close attention to the json schema to ensure patched
      document will be valid."}},"required":["op","path","value"],"type":"object"},"type":"array"}},"required":["json_doc_id","planned_edits","patches"],"type":"object"}},{"name":"Memory","description":"Call
      this tool once for each new memory you want to record. Use multi-tool calling
      to record multiple new memories.","input_schema":{"properties":{"content":{"description":"The
      memory as a well-written, standalone episode/fact/note/preference/etc. Refer
      to the user''s instructions for more information the prefered memory organization.","type":"string"}},"required":["content"],"type":"object"}},{"name":"RemoveDoc","description":"Use
      this tool to remove (delete) a doc by its ID.","input_schema":{"properties":{"json_doc_id":{"description":"ID
      of the document to remove. Must be one of: (''6479639d2c66511991ce80f2ad530868'',
      ''c135e5b6fe1b553d87e236c8160a4246'')","type":"string"}},"required":["json_doc_id"],"type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA4xTYW+bMBT8K9b7DB1goIRvXaKq25pu3bpN1aiQsV8CHdiUZxJlEf99gixro2na
        Pvrd8/l0d95DpSCFhta55wdNsozC7ae33P6IZ4/3n2+K5dcv4IDdtThuIZFYIzjQmXocCKKKrNAW
        HGiMwhpSkLXoFbrcjVwyWqN1Ay8IfS8IwAFptEVtIf22P5JaY+q8p5F1kjKe+1GMpuL8dXj7dHXX
        6LXoZxfrdi7BAS2a8d4HYWW5MOOk0m1vId3DIxmdKyPziUn6PMKoiFfoF1HEVXKOAY9l4seeCIMw
        BgfaWmiNKkdVWYIUrtGyBlnfKmGR2RIZIVFlNHuzYA1qWxmNilV6whpsTLdjVGmJTDCN25frFTFT
        EHab5wvS6A12JEaas0xn2j9jH7GthURmWuwmgFnzFwGrzjQsg3MRoMfj2PWSVeiGfFa4M1FErpDo
        +Z7ioeKrDEaaDELp+TxBdLlc+W6Ise8mXMRuwkMZFUnsy9DLYHRitBNpSsa0kEJ30HWASkjh1TE8
        Bzai7scMLi/mdym7O1X5v4+yrSDW08EdceoNDA/D4PyzI3weiWRRPq7nu9ur+X2yKK7Ly3fPHVlO
        Ab1syO8Cwvz9cnlxszjI7wk7VhH1qJhg2bHplAGTpmmEVqOdmwq3v4KfYFZWZE23O4NheHCArGnz
        DgUZfap5AgifetQSIdV9XTvQT18p3R+05dZ8R02QBj6fOSCFLDGXHU525Kcr3hHvUKg/MdPblxPu
        BcPwEwAA//8DABmFOhXnAwAA
    headers:
      CF-RAY:
      - 90acfb603a6532c8-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:01:48 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T22:01:45Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T22:01:48Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T22:01:43Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T22:01:45Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01GTC7bd4Zt3MdD26bEawWP5
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are tasked
      with extracting or upserting memories for all entities, concepts, etc.\n\nExtract
      all important facts or entities. If an existing MEMORY is incorrect or outdated,
      update it based on the new information.\n\n\nEnrich, prune, and organize memories
      based on any new information. If an existing memory is incorrect or outdated,
      update it based on the new information. All operations must be done in single
      parallel call.\n\n<session_e3050422-102a-4cdb-87e1-6569757827eb>\n================================
      Human Message =================================\n\nmessages\n</session_e3050422-102a-4cdb-87e1-6569757827eb>"}],"model":"claude-3-5-sonnet-latest","system":"You
      are a memory subroutine for an AI.\n\n","tool_choice":{"type":"any"},"tools":[{"name":"Memory","description":"Call
      this tool once for each new memory you want to record. Use multi-tool calling
      to record multiple new memories.","input_schema":{"description":"Call this tool
      once for each new memory you want to record. Use multi-tool calling to record
      multiple new memories.","properties":{"content":{"description":"The memory as
      a well-written, standalone episode/fact/note/preference/etc. Refer to the user''s
      instructions for more information the prefered memory organization.","title":"Content","type":"string"}},"required":["content"],"title":"Memory","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA5SS3W7bMAyFX4XQtTLkpw0K3w1BVmBNAgxt0LXDYLAyXWuxRVekk6ZB3n1QsmwL
        ejHsUuJ3yHMo7YwvTGYaec77g/njZLZeuMn0x80Dh/twPb34+ITGGt22lCgSwWcy1kSu0wWKeFEM
        aqxpuKDaZMbV2BXUG/Uue8IhkPaG/eHFoD8cGmscB6WgJvu2OzVV5jrvJHU9WEnnLu8PJl/uZg/z
        l6s3uSnHm8frmYxmy3tjTcAm6ebUcNwmVWg7NdnuT3NzuxWlBo5IBneVF/hlHhKFPgggRHrpSBSU
        IdLa0+YEiYWnTiEwoNMO6zMxBYUNCrSR176gIskxYL19I+AI9KoRnUKThnsSKCM3H8x+b/8ZeVC1
        r/j1dkluM8Vi2YwXn8dXn/4r8oKVMrivKADK6mjuXTatCOTIS8VdXUDNvIIyuQ/q1ScoUo3qOUjl
        W7FQolOx0EYqKVJwCcFQAGtFMcG0xqDgQ8mxOQjTaFGOBCi/t5EW8d0aUW7zSCgczvdxKEh6l+DI
        ZKGra2u6w6/LdsfcufKKgphsPLq0xqGrKHeRDjPzc6J/qkfC4n2NO/37ZjAc7fc/AQAA//8DACSn
        v/0RAwAA
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90ad00035df832cc-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:04:56 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T22:04:54Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T22:04:56Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T22:04:53Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T22:04:54Z'
      request-id:
      - req_01CbRNzcbwkw3mCdQcLUfYTd
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are tasked
      with extracting or upserting memories for all entities, concepts, etc.\n\nExtract
      all important facts or entities. If an existing MEMORY is incorrect or outdated,
      update it based on the new information.\n\n\nEnrich, prune, and organize memories
      based on any new information. If an existing memory is incorrect or outdated,
      update it based on the new information. All operations must be done in single
      parallel call.\n\n<session_28ec34b7-518d-4d70-8cab-1f9fe19eb518>\n================================
      Human Message =================================\n\nmessages\n</session_28ec34b7-518d-4d70-8cab-1f9fe19eb518>"}],"model":"claude-3-5-sonnet-latest","system":"You
      are a memory subroutine for an AI.\n\n\n\nGenerate JSONPatches to update the
      existing schema instances. If you need to extract or insert *new* instances
      of the schemas, call the relevant function(s).\n<existing>\n<instance id=0014880d839054c9ad950d211184fb49
      schema_type=\"Memory\">\n{''content'': ''System Memory: This message contains
      a request to review messages, but no actual message content was provided to
      analyze or extract memories from.''}\n</instance>\n<instance id=21a0c32319d150b8ae9649dc423b89bf
      schema_type=\"Memory\">\n{''content'': ''System Note: When asked to review messages,
      the system should look for entities, relationships, facts, preferences, and
      other relevant information to store as memories.''}\n</instance>\n</existing>\n","tool_choice":{"type":"any"},"tools":[{"name":"PatchDoc","description":"Respond
      with JSONPatch operations to update the existing JSON document based on the
      provided text and schema.","input_schema":{"properties":{"json_doc_id":{"description":"The
      json_doc_id of the document you are patching.","type":"string"},"planned_edits":{"description":"Think
      step-by-step, reasoning over each required update and the corresponding JSONPatch
      operation to accomplish it. Cite the fields in the JSONSchema you referenced
      in developing this plan. Address each path as a group; don''t switch between
      paths.\n Plan your patches in the following order:1. replace - this keeps collection
      size the same.\n2. remove - BE CAREFUL ABOUT ORDER OF OPERATIONS. Each operation
      is applied sequentially. For arrays, remove the highest indexed value first
      to avoid shifting indices. This ensures subsequent remove operations remain
      valid.\n 3. add (for arrays, use /- to efficiently append to end).","type":"string"},"patches":{"description":"A
      list of JSONPatch operations to be applied to the previous tool call''s response
      arguments. If none are required, return an empty list. This field is REQUIRED.
      Multiple patches in the list are applied sequentially in the order provided,
      with each patch building upon the result of the previous one. Take care to respect
      array bounds. Order patches as follows:\n 1. replace - this keeps collection
      size the same\n 2. remove - BE CAREFUL about order of operations. For arrays,
      remove the highest indexed value first to avoid shifting indices.\n 3. add -
      for arrays, use /- to efficiently append to end.","items":{"description":"A
      JSON Patch document represents an operation to be performed on a JSON document.\n\nNote
      that the op and path are ALWAYS required. Value is required for ALL operations
      except ''remove''.","examples":[{"op":"replace","path":"/path/to/my_array/1","value":"the
      newer value to be patched"},{"op":"replace","path":"/path/to/broken_object","value":{"new":"object"}},{"op":"add","path":"/path/to/my_array/-","value":["some","values"]},{"op":"add","path":"/path/to/my_array/-","value":["newer"]},{"op":"remove","path":"/path/to/my_array/1"}],"properties":{"op":{"description":"The
      operation to be performed. Must be one of ''add'', ''remove'', ''replace''.","enum":["add","remove","replace"],"type":"string"},"path":{"description":"A
      JSON Pointer path that references a location within the target document where
      the operation is performed. Note: patches are applied sequentially. If you remove
      a value, the collection size changes before the next patch is applied.","type":"string"},"value":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"type":"null"}]},"type":"object"},{"type":"null"}],"description":"The
      value to be used within the operation. REQUIRED for ''add'', ''replace'', and
      ''test'' operations. Pay close attention to the json schema to ensure patched
      document will be valid."}},"required":["op","path","value"],"type":"object"},"type":"array"}},"required":["json_doc_id","planned_edits","patches"],"type":"object"}},{"name":"Memory","description":"Call
      this tool once for each new memory you want to record. Use multi-tool calling
      to record multiple new memories.","input_schema":{"properties":{"content":{"description":"The
      memory as a well-written, standalone episode/fact/note/preference/etc. Refer
      to the user''s instructions for more information the prefered memory organization.","type":"string"}},"required":["content"],"type":"object"}},{"name":"RemoveDoc","description":"Use
      this tool to remove (delete) a doc by its ID.","input_schema":{"properties":{"json_doc_id":{"description":"ID
      of the document to remove. Must be one of: (''0014880d839054c9ad950d211184fb49'',
      ''21a0c32319d150b8ae9649dc423b89bf'')","type":"string"}},"required":["json_doc_id"],"type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA6yS3WrbQBBGX2WZa7nsSnIi6a5JQwoNIaVN+hOCGO2OIyXyrrozsusYv3uR6xRC
        Lkqhlzsz32HmsFvoHFSw5Ptam4v4QEfN6ux6/bEcbk6+rY8/fD8pIQHZDDRNETPeEyQQQz8VkLlj
        QS+QwDI46qEC2+PoaJbN5jMO3pPMUp3mRqcpJGCDF/IC1e32GSoh9PXIE3W/yvQea22+tGT8z0/n
        6SldPmXF2+Hm7PrsKyTgcTnlrlBs+y7YKeeHUaDawgMHX7tg6z1Ja5MXhXZFVup5bkt05Vy71BhT
        5Ismnw4bevSeXE2uE4YKLoOyLfp7YuWJHDklQUnbsVrSMsSNQladKBtiJCv9RlkcZIzESloUJS1F
        UmtkhSrSj5FYJkCkVUdrddDHqhlF+aDQyoj9c1kd3OzjQwyrzpF7M+04HUoM1e3dbpf81dv54urx
        86ZdnV6kbbwwi/fF8RX+k7fUoLZZmpnSmbluCqTyKC+dzdOsKcpm8Z+9keINCy2VD0IKmzCKasN6
        IrToXU9/DB08HszyKzl3CbCEoY6EHPxLR/sGT0lvCSo/9n0C4/47V9vfJmoJj+QZqtSkRwlYtC3V
        NhJKF3z9ckQ/9yOhe90Lo7wAZnq3+wUAAP//AwByOnr5awMAAA==
    headers:
      CF-RAY:
      - 90ad0018492a32cc-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:05:00 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T22:04:58Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T22:05:00Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T22:04:57Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T22:04:58Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01UKB72zb8iNUAEbTcK9s81u
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"Use parallel tool
      calling to search for distinct memories or aspects that would be relevant to
      this conversation::\n\n<convo>\n================================ Human Message
      =================================\n\nmessages\n</convo>."}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"auto"},"tools":[{"name":"search_memory","description":"Search
      your long-term memories for information relevant to your current context. {instructions}","input_schema":{"properties":{"query":{"type":"string"},"limit":{"default":10,"type":"integer"},"offset":{"default":0,"type":"integer"},"filter":{"anyOf":[{"type":"object"},{"type":"null"}],"default":null}},"required":["query"],"type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA5SSW2vbQBCF/8oyL32Rg6WmjtFbaUraYozbkuCmFLFeHVsiq11lZ9b4gv57kFyT
        mr60T8vcznxz2CPVJeXU8KYYp8sfs4o3cd9OJjfbaXw8fNofbvaUkOxb9F1g1htQQsHbPqGZaxbt
        hBJqfAlLORmrY4nR29G7EXvnIKNsnF2n4yyjhIx3AieU/zyeRQW7fnx4cppBVANVwbaKoYOplFTB
        x02lGjQ+1GAVYLWgVOKVVFDGuy0Ca6m9U3rlY68wgPKV+vzGWtXoJ6hWB20t7G9ZsFp7E7l2G+Wd
        Kuv1GgFOlOYWRlhJpUUZH22pVuh3YqudXFGXvKJ7b4vIvSGDi30ci3Gaff94t5ynD4cvi9v5w+Tb
        fLZ8XC4oIaebfu5EUAwH9fbWro1C+ZGeI8L+1Wi+vG0wbyfU/QPCB8hXNClgML2/Xazu7+L7MvwH
        QhuwrX3ks5cKO1Npd4JqmuhqM1BR1/1KiMW3RYBm7y6hhgLjOcIZUO6itQnF4Rflx9PWQvwTHFN+
        PU0TMtpUKEzAoF5cdozP9QBd/l3zUf7MpFnWdS8AAAD//wMA2BpXKeECAAA=
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90ad00322a7532c6-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:05:04 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T22:05:02Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T22:05:04Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T22:05:01Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T22:05:02Z'
      request-id:
      - req_01X1JUUvAk6uXM2SWuPbruQU
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are tasked
      with extracting or upserting memories for all entities, concepts, etc.\n\nExtract
      all important facts or entities. If an existing MEMORY is incorrect or outdated,
      update it based on the new information.\n\n\nEnrich, prune, and organize memories
      based on any new information. If an existing memory is incorrect or outdated,
      update it based on the new information. All operations must be done in single
      parallel call.\n\n<session_2af8cd97-68f1-47d9-b363-67f3b43c73c3>\n================================
      Human Message =================================\n\nmessages\n</session_2af8cd97-68f1-47d9-b363-67f3b43c73c3>"}],"model":"claude-3-5-sonnet-latest","system":"You
      are a memory subroutine for an AI.\n\n","tool_choice":{"type":"any"},"tools":[{"name":"PreferenceMemory","description":"Store
      user preferences.","input_schema":{"description":"Store user preferences.","properties":{"category":{"title":"Category","type":"string"},"preference":{"title":"Preference","type":"string"},"context":{"title":"Context","type":"string"}},"required":["category","preference","context"],"title":"PreferenceMemory","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2RQTU/CQBD9K5s5L0kLoqQ3giIktCABPRjTbLYDbmx3yu6slBD+uymI0Xic9zF5
        7x3BFJBA5bd5FE/ikDVrtDU2i5t0Oa632eBlBBL4UGOrQu/VFkGCo7IFlPfGs7IMEioqsIQEdKlC
        gZ1ep9/xZC1ypxt1b+Ko2wUJmiyjZUhej9enTFTmwbdfz1HaO+RR/Jg+pw+jx4Ve7/ezYrJ7YtO/
        G4IEq6rWt3C4QYdWY4oVuUPrt3VgSI6gFeO2xRK4fxgP17MVSKh/DJBANs+n2Xi+TIer6Ty7Jmu4
        pUj4GrXZGC2M3ZCrFBuyYq+8qB19mgILYazgdxTfiwgmgQ07pVmQE57JIZxObxI8U507VJ7s365n
        wuMuXALZUJYSwnne5HhpkjN9oPWQ3MY9CVrpd8y1w3Oa/K8iuvIOVfGfo8C/kcHgdPoCAAD//wMA
        r1Qxp/kBAAA=
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90ad00480aab32c6-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:05:06 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T22:05:05Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T22:05:06Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T22:05:04Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T22:05:05Z'
      request-id:
      - req_019zU9pYJTXrucCbdK9HXtqB
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are tasked
      with extracting or upserting memories for all entities, concepts, etc.\n\nExtract
      all important facts or entities. If an existing MEMORY is incorrect or outdated,
      update it based on the new information.\n\n\nEnrich, prune, and organize memories
      based on any new information. If an existing memory is incorrect or outdated,
      update it based on the new information. All operations must be done in single
      parallel call.\n\n<session_be907b70-b598-47db-8a0d-8c18f1204064>\n================================
      Human Message =================================\n\nmessages\n</session_be907b70-b598-47db-8a0d-8c18f1204064>"}],"model":"claude-3-5-sonnet-latest","system":"You
      are a memory subroutine for an AI.\n\n","tool_choice":{"type":"any"},"tools":[{"name":"Memory","description":"Call
      this tool once for each new memory you want to record. Use multi-tool calling
      to record multiple new memories.","input_schema":{"description":"Call this tool
      once for each new memory you want to record. Use multi-tool calling to record
      multiple new memories.","properties":{"content":{"description":"The memory as
      a well-written, standalone episode/fact/note/preference/etc. Refer to the user''s
      instructions for more information the prefered memory organization.","title":"Content","type":"string"}},"required":["content"],"title":"Memory","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA5RTXW/bMAz8K4Se7cJx0ybxWz8CrO02rEg/0A1DoMhMrM6mHJFK4wb574PdBku7
        h3VPhHjHE+8EbZTNVaYqXkyT3mV1E3j13RPffNbjcdrg1fXoXEVKmhpbFjLrBapIeVe2Dc1sWTSJ
        ilTlcixVpkypQ47xYXwUsyNCidMk7feSNFWRMo4ESVT2Y7MTFefKaeBWtVulPYdp0pt88uFxZsPJ
        t+J4cPX4cPccpLdUkSJdtXNfsHK+aaeoDqKyzR/xVwy4YcEqg0lXwTLkyHZBmIM4wLV4bSSCUDN6
        iUBTDs4vNNlnhKqVsMigZy4IIIkVixyBcWSwFn7hz7URPoALAS5cKHOotCXRlkAbE7w2TUcLda4F
        wQVpaw6W5s5XWqyjA7XdRv9M47ReP17XDyeT4tZdnqZP3Byu7q7+Kw1Xo+9u5AzuCyTwaNCuLC2A
        8Gl/pQikwNf0dr6QvDUF4NqytCO7fCLwWLnVnjdHyO/ClKKNn6DWXpcllnu7fMz+2f31crlsju6H
        Yzdefp0Ucpbi8GP2J8hsHUHXWUsGF3n7mnOLOfArdnEOMxwlg9kgiWdHo2HcH+SzeKiTPB6a3nDe
        S5N+ctwHzaDB4xw9kkGonSWBufMvcTTvfP2MFIurpx41O3prrwMYl6EVUhmFsoxU6L5XtnmxMRX3
        C4lVdnw4ipTRpsCp8djpT98ykh3uUed/Yy7Ifqc3Gm23vwEAAP//AwAlYzHU+gMAAA==
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90ad02b15ae832c5-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:06:46 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T22:06:44Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T22:06:46Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T22:06:43Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T22:06:44Z'
      request-id:
      - req_01FS4bTTdMXZ1sknmBW7XbCA
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are tasked
      with extracting or upserting memories for all entities, concepts, etc.\n\nExtract
      all important facts or entities. If an existing MEMORY is incorrect or outdated,
      update it based on the new information.\n\n\nEnrich, prune, and organize memories
      based on any new information. If an existing memory is incorrect or outdated,
      update it based on the new information. All operations must be done in single
      parallel call.\n\n<session_93fad2a8-234d-492c-8f9b-8695d4f92e1c>\n================================
      Human Message =================================\n\nmessages\n</session_93fad2a8-234d-492c-8f9b-8695d4f92e1c>"}],"model":"claude-3-5-sonnet-latest","system":"You
      are a memory subroutine for an AI.\n\n\n\nGenerate JSONPatches to update the
      existing schema instances. If you need to extract or insert *new* instances
      of the schemas, call the relevant function(s).\n<existing>\n<instance id=780ffd6283945ab283ff8fc9bb95b527
      schema_type=\"Memory\">\n{''content'': ''Memory system: System is designed to
      extract, upsert, and organize memories about entities, concepts, and facts.
      It should maintain accuracy and update outdated information.''}\n</instance>\n<instance
      id=3568359af48557e786f67602e10041fd schema_type=\"Memory\">\n{''content'': ''Memory
      operations: When receiving new information, the system should enrich existing
      memories, remove outdated ones, and organize them in parallel operations.''}\n</instance>\n<instance
      id=ca57a239b3bb50ef927021d268a49f78 schema_type=\"Memory\">\n{''content'': ''Session
      context: Identified session ID be907b70-b598-47db-8a0d-8c18f1204064 as a reference
      point for memory operations.''}\n</instance>\n</existing>\n","tool_choice":{"type":"any"},"tools":[{"name":"PatchDoc","description":"Respond
      with JSONPatch operations to update the existing JSON document based on the
      provided text and schema.","input_schema":{"properties":{"json_doc_id":{"description":"The
      json_doc_id of the document you are patching.","type":"string"},"planned_edits":{"description":"Think
      step-by-step, reasoning over each required update and the corresponding JSONPatch
      operation to accomplish it. Cite the fields in the JSONSchema you referenced
      in developing this plan. Address each path as a group; don''t switch between
      paths.\n Plan your patches in the following order:1. replace - this keeps collection
      size the same.\n2. remove - BE CAREFUL ABOUT ORDER OF OPERATIONS. Each operation
      is applied sequentially. For arrays, remove the highest indexed value first
      to avoid shifting indices. This ensures subsequent remove operations remain
      valid.\n 3. add (for arrays, use /- to efficiently append to end).","type":"string"},"patches":{"description":"A
      list of JSONPatch operations to be applied to the previous tool call''s response
      arguments. If none are required, return an empty list. This field is REQUIRED.
      Multiple patches in the list are applied sequentially in the order provided,
      with each patch building upon the result of the previous one. Take care to respect
      array bounds. Order patches as follows:\n 1. replace - this keeps collection
      size the same\n 2. remove - BE CAREFUL about order of operations. For arrays,
      remove the highest indexed value first to avoid shifting indices.\n 3. add -
      for arrays, use /- to efficiently append to end.","items":{"description":"A
      JSON Patch document represents an operation to be performed on a JSON document.\n\nNote
      that the op and path are ALWAYS required. Value is required for ALL operations
      except ''remove''.","examples":[{"op":"replace","path":"/path/to/my_array/1","value":"the
      newer value to be patched"},{"op":"replace","path":"/path/to/broken_object","value":{"new":"object"}},{"op":"add","path":"/path/to/my_array/-","value":["some","values"]},{"op":"add","path":"/path/to/my_array/-","value":["newer"]},{"op":"remove","path":"/path/to/my_array/1"}],"properties":{"op":{"description":"The
      operation to be performed. Must be one of ''add'', ''remove'', ''replace''.","enum":["add","remove","replace"],"type":"string"},"path":{"description":"A
      JSON Pointer path that references a location within the target document where
      the operation is performed. Note: patches are applied sequentially. If you remove
      a value, the collection size changes before the next patch is applied.","type":"string"},"value":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"type":"null"}]},"type":"object"},{"type":"null"}],"description":"The
      value to be used within the operation. REQUIRED for ''add'', ''replace'', and
      ''test'' operations. Pay close attention to the json schema to ensure patched
      document will be valid."}},"required":["op","path","value"],"type":"object"},"type":"array"}},"required":["json_doc_id","planned_edits","patches"],"type":"object"}},{"name":"Memory","description":"Call
      this tool once for each new memory you want to record. Use multi-tool calling
      to record multiple new memories.","input_schema":{"properties":{"content":{"description":"The
      memory as a well-written, standalone episode/fact/note/preference/etc. Refer
      to the user''s instructions for more information the prefered memory organization.","type":"string"}},"required":["content"],"type":"object"}},{"name":"RemoveDoc","description":"Use
      this tool to remove (delete) a doc by its ID.","input_schema":{"properties":{"json_doc_id":{"description":"ID
      of the document to remove. Must be one of: (''3568359af48557e786f67602e10041fd'',
      ''780ffd6283945ab283ff8fc9bb95b527'', ''ca57a239b3bb50ef927021d268a49f78'')","type":"string"}},"required":["json_doc_id"],"type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA4ySQW/cIBCF/wqay15MirG9Nly7qZpLVbXNIakiC8Ow66wNjsHdblb57xWOUjW3
        HuHNPL55wwV6AxLGsG9Z/u36+Mk9HW39XInd/bkSp/3d4iCDeJ4wVWEIao+QweyHdKFC6ENULkIG
        ozc4gAQ9qMUgLWhFg3cOI+WMlznjHDLQ3kV0EeTPy5tp9H5ol5BcV5R0XlqW/1A47/Xt7fN5d/+5
        MY/Vx2t+d4QMnBpT31cV9WHndepz0xJBXuAxeNcar9vVSauqVrwQXdF1FUMreM14bvi2UaWwdQMZ
        TINyDk2Lpo8BJHxBNCR6skxGRSTxgCRgCL13ZEX/Hcmpj4dVcHj6K97siJ39SDYdClZ3NaNdJRpa
        1qajjWKGNjpvbM5ZybblJr2wEYVVhquG8qI0tBRc08aKjjZbUZnSCo653lwlxjQohjUzP4GEGadB
        aXyVDiDhw1usGfxSw5LS+f6eWpIbgy72tkfzL/T/QBAViCIzWpzRaSST710k1s9kxNHPZ+InnFXs
        vQtX8PLw8vKQQYh+amdUwbv3K16FgE9LsgLplmHIYFl/lby8LrKN/ogugOS8KDPQ6o+SM1Ljk4tS
        wVbEoyoxgMkXpSamYMrll5agGGhsWlsLAAAA//8DAB8Zm1ryAgAA
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90ad02c7fdea32c5-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:06:50 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T22:06:48Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T22:06:50Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T22:06:47Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T22:06:48Z'
      request-id:
      - req_013cip2BuEyT953i8gRpJeek
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are tasked
      with extracting or upserting memories for all entities, concepts, etc.\n\nExtract
      all important facts or entities. If an existing MEMORY is incorrect or outdated,
      update it based on the new information.\n\n\nEnrich, prune, and organize memories
      based on any new information. If an existing memory is incorrect or outdated,
      update it based on the new information. All operations must be done in single
      parallel call.\n\n<session_1f2d36c9-3c2e-4287-a9f1-c63057077b02>\n================================
      Human Message =================================\n\nmessages\n</session_1f2d36c9-3c2e-4287-a9f1-c63057077b02>"}],"model":"claude-3-5-sonnet-latest","system":"You
      are a memory subroutine for an AI.\n\n","tool_choice":{"type":"any"},"tools":[{"name":"Memory","description":"Call
      this tool once for each new memory you want to record. Use multi-tool calling
      to record multiple new memories.","input_schema":{"description":"Call this tool
      once for each new memory you want to record. Use multi-tool calling to record
      multiple new memories.","properties":{"content":{"description":"The memory as
      a well-written, standalone episode/fact/note/preference/etc. Refer to the user''s
      instructions for more information the prefered memory organization.","title":"Content","type":"string"}},"required":["content"],"title":"Memory","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2SRQW/bMAyF/wrBs1M4bpsivnWXAS16KBZg2NbBUGwmFmqRnkilSYP890Hegi7Y
        UXx8Hx6fjug7rDHotinnz8v3rw/9fOEfFw/raxX5LvLtCxZoh5HyFqm6LWGBUYY8cKpezbFhgUE6
        GrDGdnCpo9n17Hamwkw2q8rqZl5WFRbYChuxYf3jeIaayNAkzdQpSn6nppzfP98qV5v31WP6tLzf
        c7C73eozFsguZN8TBYmH7OIxGdbHDziueooEbhzJRQUTWBOwgKb1lNbvCDxvJAZnXhjGKDvfUQee
        wXoCJdU8p31LcbQMoL1F1xoEcux5u0kDhBzAk8ImSriC1T9G4eEAOY7zrBPyTWIHL+cG9QXhzVsv
        ycDxAVzX+ZzEDZOL9gYS4e89V3g6/SxQTcYmklPhy9YmQelXIm4Ja07DUGCaPqo+/mmnMXklVqwX
        N3cFtq7tqWkjTdc3lxvlWY/kuv81SXbBW55OvwEAAP//AwAHTfIHQwIAAA==
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90ad07f418354cac-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:10:21 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T22:10:20Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T22:10:21Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T22:10:18Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T22:10:20Z'
      request-id:
      - req_01GXwMzAn9wNB7pZdU1rGkMf
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are tasked
      with extracting or upserting memories for all entities, concepts, etc.\n\nExtract
      all important facts or entities. If an existing MEMORY is incorrect or outdated,
      update it based on the new information.\n\n\nEnrich, prune, and organize memories
      based on any new information. If an existing memory is incorrect or outdated,
      update it based on the new information. All operations must be done in single
      parallel call.\n\n<session_43d733b0-9172-47b7-ae1f-a73a23f5f631>\n================================
      Human Message =================================\n\nmessages\n</session_43d733b0-9172-47b7-ae1f-a73a23f5f631>"}],"model":"claude-3-5-sonnet-latest","system":"You
      are a memory subroutine for an AI.\n\n\n\nGenerate JSONPatches to update the
      existing schema instances. If you need to extract or insert *new* instances
      of the schemas, call the relevant function(s).\n<existing>\n<instance id=51c76022dceb5ccc88a2fe894f3757aa
      schema_type=\"Memory\">\n{''content'': ''There appears to be no substantive
      information provided in the session excerpt to extract meaningful memories from.
      The session only contains the word \"messages\" without any additional context
      or content.''}\n</instance>\n</existing>\n","tool_choice":{"type":"any"},"tools":[{"name":"PatchDoc","description":"Respond
      with JSONPatch operations to update the existing JSON document based on the
      provided text and schema.","input_schema":{"properties":{"json_doc_id":{"description":"The
      json_doc_id of the document you are patching.","type":"string"},"planned_edits":{"description":"Think
      step-by-step, reasoning over each required update and the corresponding JSONPatch
      operation to accomplish it. Cite the fields in the JSONSchema you referenced
      in developing this plan. Address each path as a group; don''t switch between
      paths.\n Plan your patches in the following order:1. replace - this keeps collection
      size the same.\n2. remove - BE CAREFUL ABOUT ORDER OF OPERATIONS. Each operation
      is applied sequentially. For arrays, remove the highest indexed value first
      to avoid shifting indices. This ensures subsequent remove operations remain
      valid.\n 3. add (for arrays, use /- to efficiently append to end).","type":"string"},"patches":{"description":"A
      list of JSONPatch operations to be applied to the previous tool call''s response
      arguments. If none are required, return an empty list. This field is REQUIRED.
      Multiple patches in the list are applied sequentially in the order provided,
      with each patch building upon the result of the previous one. Take care to respect
      array bounds. Order patches as follows:\n 1. replace - this keeps collection
      size the same\n 2. remove - BE CAREFUL about order of operations. For arrays,
      remove the highest indexed value first to avoid shifting indices.\n 3. add -
      for arrays, use /- to efficiently append to end.","items":{"description":"A
      JSON Patch document represents an operation to be performed on a JSON document.\n\nNote
      that the op and path are ALWAYS required. Value is required for ALL operations
      except ''remove''.","examples":[{"op":"replace","path":"/path/to/my_array/1","value":"the
      newer value to be patched"},{"op":"replace","path":"/path/to/broken_object","value":{"new":"object"}},{"op":"add","path":"/path/to/my_array/-","value":["some","values"]},{"op":"add","path":"/path/to/my_array/-","value":["newer"]},{"op":"remove","path":"/path/to/my_array/1"}],"properties":{"op":{"description":"The
      operation to be performed. Must be one of ''add'', ''remove'', ''replace''.","enum":["add","remove","replace"],"type":"string"},"path":{"description":"A
      JSON Pointer path that references a location within the target document where
      the operation is performed. Note: patches are applied sequentially. If you remove
      a value, the collection size changes before the next patch is applied.","type":"string"},"value":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"type":"null"}]},"type":"object"},{"type":"null"}],"description":"The
      value to be used within the operation. REQUIRED for ''add'', ''replace'', and
      ''test'' operations. Pay close attention to the json schema to ensure patched
      document will be valid."}},"required":["op","path","value"],"type":"object"},"type":"array"}},"required":["json_doc_id","planned_edits","patches"],"type":"object"}},{"name":"Memory","description":"Call
      this tool once for each new memory you want to record. Use multi-tool calling
      to record multiple new memories.","input_schema":{"properties":{"content":{"description":"The
      memory as a well-written, standalone episode/fact/note/preference/etc. Refer
      to the user''s instructions for more information the prefered memory organization.","type":"string"}},"required":["content"],"type":"object"}},{"name":"RemoveDoc","description":"Use
      this tool to remove (delete) a doc by its ID.","input_schema":{"properties":{"json_doc_id":{"description":"ID
      of the document to remove. Must be one of: (''51c76022dceb5ccc88a2fe894f3757aa'',)","type":"string"}},"required":["json_doc_id"],"type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2RRTW/bMAz9KwLPTmEr9ZL6lqLDdhiGrhuyAUVhKBKdKLFJV5S6ZkH+eyFvBVb0
        yPcFPvIE3kEDg2zbsvoid65O5ni3H6rDp+5bdb2Wzw4KiMcRswpFzBahgMB9BoyIl2goQgEDO+yh
        Adub5HA2n9UzYSKMM13qy6rUGgqwTBEpQnN/eg2NzH2bJKdOq+Q5tWX1/Q/+Wl/tV1W3Wz3+3Kxs
        uF1/vIECyAzZd2ui3d2wzT4aU4TmBHthah3bdkqqK7v4UGrtLG5qa+1yaXSHy6vLbr6oF8ZAAWNv
        iNC16HwUaOArqzQ6E1EUITp0yoiKOwyovChiRfhbSdpMpf0TKk8dh8FEz6TGwE8+ezxljxIUyTg+
        WwxjvFA/dqjw2Uv0tFUDDhyOiniasr439qC4U/+OpAIOxpMoY20KJuJFXji3RoHm/uF8fihAIo9t
        QCNMb285EYKPCckiNJT6voA0va85/b1YG/mAJNDosp4XYI3dYWsDTm3at5LylQ9o3HuOU/wfqbQ+
        n18AAAD//wMAToAY6lsCAAA=
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90ad08082e394cac-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:10:24 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '399000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T22:10:23Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T22:10:24Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T22:10:22Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '479000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T22:10:23Z'
      request-id:
      - req_01GDZJRZgup76vhUt67x4Tg2
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are tasked
      with extracting or upserting memories for all entities, concepts, etc.\n\nExtract
      all important facts or entities. If an existing MEMORY is incorrect or outdated,
      update it based on the new information.\n\n\nEnrich, prune, and organize memories
      based on any new information. If an existing memory is incorrect or outdated,
      update it based on the new information. All operations must be done in single
      parallel call.\n\n<session_1dbdd8dc-aff7-461f-92fc-1f1b45c5abac>\n================================
      Human Message =================================\n\nmessages\n</session_1dbdd8dc-aff7-461f-92fc-1f1b45c5abac>"}],"model":"claude-3-5-sonnet-latest","system":"You
      are a memory subroutine for an AI.\n\n","tool_choice":{"type":"any"},"tools":[{"name":"PreferenceMemory","description":"Store
      user preferences.","input_schema":{"description":"Store user preferences.","properties":{"category":{"title":"Category","type":"string"},"preference":{"title":"Preference","type":"string"},"context":{"title":"Context","type":"string"}},"required":["category","preference","context"],"title":"PreferenceMemory","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2RQ207CQBD9lc28+LIkLbeEvhkliigaKDHEmGZph1Jod8vOLIiEfzctYCQ+zrnl
        zDlAlkAABaWR5z92x5N0ZCercPOwNeH3U7/o91sggfclViokUimCBGvyClBEGbHSDBIKk2AOAcS5
        cgk2Wo1Og4zWyI2m12z7XrMJEmKjGTVD8HG4hLIxeeSoSq2rVLeLPH9y/z5f99LpbL5pr9rb7mwz
        HHYWIEGrovK9WVygRR3jCxbG7iu/Lh1DcIBYMaYVFsBgFPbHt3fh4HUEEspfU00NwsHtc3QtqSt+
        MQQwJbRiqUgQK8uYCF6iiI3eoiXFmdFi7liU1myzBBNRZDorVC7OAWKX8VKsHHHt2xmbiJvzgnQD
        x+OnBGJTRhYVGX29RE0QbtypqnZ5LsHV4weH058RmzVqgqDr+xJiFS8xii3WxaJrhXfhLarkP2cc
        /0V6nePxBwAA//8DAG/TSr4XAgAA
    headers:
      CF-RAY:
      - 90ad081e587f32c5-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:10:27 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T22:10:26Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T22:10:27Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T22:10:25Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T22:10:26Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01KNcwhryiKPQv4JV9MkSnnN
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"Use parallel tool
      calling to search for distinct memories or aspects that would be relevant to
      this conversation::\n\n<convo>\n================================ Human Message
      =================================\n\nmessages\n</convo>."}],"model":"claude-3-5-haiku-latest","tool_choice":{"type":"auto"},"tools":[{"name":"search_memory","description":"Search
      your long-term memories for information relevant to your current context. {instructions}","input_schema":{"properties":{"query":{"type":"string"},"limit":{"default":10,"type":"integer"},"offset":{"default":0,"type":"integer"},"filter":{"anyOf":[{"type":"object"},{"type":"null"}],"default":null}},"required":["query"],"type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2SSTWsbMRCG/8owl1xk42xc2u6lh54cSFuag1tKWWTt7K6wVqNKI5ON8X8vK9sk
        ISfBvB/zSOiItsUax9Q3q9vHYZse9j/67Tp9+vbT/P6V9f3zIyqUKdDsopR0T6gwspsHOiWbRHtB
        hSO35LBG43RuaXG3+LAYtN3nRbWq1rerqkKFhr2QF6z/HK+dQk9zuhw1bkAHdtzbZ1KwywIyEBj2
        B4pJi2UPpeJJYOIMIfLBttSCTUBjkGkJWysDZwENKZCxnTVv4xxBOFgDwpBIRzPASCNHSwk6jgo2
        YLT3LEBdR0bsgdwEOVEhKdbpGhRmt4SvnF17xnGkE12pSqDLzr0DOJNNxXCGmTjftODsfl7xGm16
        odM7zvIFvntDZVvLCjY3zsGOYNAhTHNuIBeKeinoOEIkRwft5aUqJ+v7sv5say736rI3M+QST38V
        JuHQRNKJPdZIvm0kR48XIdG/TN4Q1j47pzCXn1Ef0fqQpRHek09Yr+8qhUabgRoTqTxB89axuuqR
        dPte4yyvJx8/n07/AQAA//8DAH4bBni0AgAA
    headers:
      CF-RAY:
      - 90ad082e7cb36992-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:10:30 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '372000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T22:10:33Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T22:10:30Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T22:10:28Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '452000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T22:10:30Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01P9keGoM8ZcY6uBWE2DYGV4
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are tasked
      with extracting or upserting memories for all entities, concepts, etc.\n\nExtract
      all important facts or entities. If an existing MEMORY is incorrect or outdated,
      update it based on the new information.\n\n\nEnrich, prune, and organize memories
      based on any new information. If an existing memory is incorrect or outdated,
      update it based on the new information. All operations must be done in single
      parallel call.\n\n<session_6610a3be-847a-4078-ae04-4a6a229a4abe>\n================================
      Human Message =================================\n\nmessages\n</session_6610a3be-847a-4078-ae04-4a6a229a4abe>"}],"model":"claude-3-5-sonnet-latest","system":"You
      are a memory subroutine for an AI.\n\n","tool_choice":{"type":"any"},"tools":[{"name":"Memory","description":"Call
      this tool once for each new memory you want to record. Use multi-tool calling
      to record multiple new memories.","input_schema":{"description":"Call this tool
      once for each new memory you want to record. Use multi-tool calling to record
      multiple new memories.","properties":{"content":{"description":"The memory as
      a well-written, standalone episode/fact/note/preference/etc. Refer to the user''s
      instructions for more information the prefered memory organization.","title":"Content","type":"string"}},"required":["content"],"title":"Memory","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2SQW0sDMRCF/0qY561sb7bsmy+ltFjQqggiS9yMbXB3ZpuZtJTS/y7pBRXfkjlz
        vpyTA3gHBTSyKvPu5KUfK5zZV/18nO51O9vdjSYLyED3LaYtFLErhAwC12lgRbyoJYUMGnZYQwFV
        baPDTr8z7AgToXZ6eW/QzXs9yKBiUiSF4u1whSpzXUZJ1FOUdI9l3l1O7XD8NF/PN7OHXXDj535/
        GBKDbJN899hw2CcXtVGhOPzAYbkXxcaIWo1SmAUbiR+noH6L5lJDDAdz8RiHipWiM56MrtG0gbfe
        oTOCIp7JCPm2RTW6tmp2HGtndjYES2qqgFY9rRIvtu58blI8j3IDx+N7BqLclgGtMP3tfBIENxGp
        Qigo1nUG8fTNxeHcrVT+QhIobgfdDCpbrbE8v8lU/t3Ir3pA6/5rHPX3ZDg6Hr8BAAD//wMAKtvi
        UQECAAA=
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90ad0841a9ba4cb1-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:10:33 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T22:10:32Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T22:10:33Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T22:10:31Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T22:10:32Z'
      request-id:
      - req_012GtejsVgkddpUfT8sHiJXn
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"messages":[{"content":"You are tasked with summarizing the following
      conversation.","role":"system"},{"content":"Summarize the conversation below:\n\n<conversation_366fcc54-7022-474c-8301-26811889503c>\n<function
      get_conversation at 0x107ea4a40>\n</conversation_366fcc54-7022-474c-8301-26811889503c>","role":"user"}],"model":"gpt-4","stream":false,"tool_choice":"required","tools":[{"type":"function","function":{"name":"SummarizeThread","description":"Summarize
      the thread.","parameters":{"description":"Summarize the thread.","properties":{"title":{"title":"Title","type":"string"},"summary":{"title":"Summary","type":"string"}},"required":["title","summary"],"title":"SummarizeThread","type":"object"}}}]}'
    headers: {}
    method: POST
    uri: https://api.openai.com/v1/chat/completions
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAAwAAAP//jFTBjpswEL3nK0Y+hxUEErK5VVXVSFWltrvqalMq5NgDcdfY1DbpplH+
        vTJkgWxTqRyQmef33sx4zHECQAQnKyBsRx2rahm82buHNZ+7z2W1/zj7FKbR493hkW/ShK6/kqln
        6O0PZO6FdcN0VUt0QqsOZgapQ68apfEyXkRJmrZApTlKTytrFyRBuIjiM2OnBUNLVvBtAgBwbN8+
        N8XxmawgnL5EKrSWlkhW/SYAYrT0EUKtFdZR5ch0AJlWDpVPVzVSjgCntcwZlXIw7p7jaD00iEqZ
        z582z1vzwN6tv8Tlz1BuwjD6sHj/duTXSR/qNqGiUaxvzAjv46tXZgBE0arl3jVVRY34jfc7g5S/
        kgAg1JRNhcr59MkxUxlxwknMyAoyX/UejaXeJY8Xi4KxeRKk4WwWJGnCgmUcRsFssYyi5fJ2HsYs
        I1MvYVvXQydyv0M4tw90Aa777HWB6UZyUNrBFsG+5MuBWlAaKHMNlZcMjo4KaeEXGoTa6L3gyG8y
        kqkTuajvNLm2/j46PoNFY6k8n+s5fuoHReqyNnprX507KYQSdpcbpLbtP7FO152392kdSHMxY6Q2
        uqpd7vQTKi8YzW47PTLM/oDOkzPotKNyxFrG0yt6+bkno1kgjLId8oE6zD9tuNAjYDKq+u9srml3
        lQtV/o/8ADCGtUOe1wa5YJcVD9sM+l/Dv7b1XW4TJhbNXjDMnUDjT4JjQRvZXV5iD9ZhlRdClWhq
        I/obPDlN/gAAAP//AwAs1XJauAQAAA==
    headers:
      CF-RAY:
      - 90ad0962ab5d4273-EWR
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:11:20 GMT
      Server:
      - cloudflare
      Set-Cookie:
      - __cf_bm=pTR7amitjY9g44PT_zwrNrbd6WZH2rgH.yhwivRbiBM-1738361480-1.0.1.1-9NkgPop9QE1kOHZCJ.ySp3EQ8TChBgjnCiQALT5UhIsjLK__HcPIqS7.MZYlxQf0fHuvIV3jzWqhPl0x2wkF1A;
        path=/; expires=Fri, 31-Jan-25 22:41:20 GMT; domain=.api.openai.com; HttpOnly;
        Secure; SameSite=None
      - _cfuvid=FEaX0fuSyJdF1K6JguHw8h0rjr9_vGq2IYgAPH7L7BY-1738361480167-0.0.1.1-604800000;
        path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None
      Transfer-Encoding:
      - chunked
      X-Content-Type-Options:
      - nosniff
      access-control-expose-headers:
      - X-Request-ID
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      openai-organization:
      - langchain
      openai-processing-ms:
      - '2526'
      openai-version:
      - '2020-10-01'
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      x-ratelimit-limit-requests:
      - '10000'
      x-ratelimit-limit-tokens:
      - '1000000'
      x-ratelimit-remaining-requests:
      - '9999'
      x-ratelimit-remaining-tokens:
      - '999921'
      x-ratelimit-reset-requests:
      - 6ms
      x-ratelimit-reset-tokens:
      - 4ms
      x-request-id:
      - req_b019fb7cc2e638852af1dd11d7a17155
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are tasked
      with extracting or upserting memories for all entities, concepts, etc.\n\nExtract
      all important facts or entities. If an existing MEMORY is incorrect or outdated,
      update it based on the new information.\n\n\nEnrich, prune, and organize memories
      based on any new information. If an existing memory is incorrect or outdated,
      update it based on the new information. All operations must be done in single
      parallel call.\n\n<session_bc5e13df-6303-437e-8aff-760f3ec45b87>\n================================
      Human Message =================================\n\nI prefer dark mode in all
      my apps\n\n================================== Ai Message ==================================\n\nI''ll
      remember that preference\n</session_bc5e13df-6303-437e-8aff-760f3ec45b87>"}],"model":"claude-3-5-sonnet-latest","system":"You
      are a memory subroutine for an AI.\n\n","tool_choice":{"type":"any"},"tools":[{"name":"Memory","description":"Call
      this tool once for each new memory you want to record. Use multi-tool calling
      to record multiple new memories.","input_schema":{"description":"Call this tool
      once for each new memory you want to record. Use multi-tool calling to record
      multiple new memories.","properties":{"content":{"description":"The memory as
      a well-written, standalone episode/fact/note/preference/etc. Refer to the user''s
      instructions for more information the prefered memory organization.","title":"Content","type":"string"}},"required":["content"],"title":"Memory","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2RQS0/DMAz+K5HPrejabRI5bmKcJnGgMIFQ5bamK0uTLE6Aqup/Ry3iJW62v4c/
        e4C2BgkdN0WyuLalucrLTXnYbPvlHWb3O/uSQwS+tzSxiBkbggicUdMAmVv2qD1E0JmaFEioFIaa
        4ixexWy0Jh+nSbpcJGkKEVRGe9Ie5OPwZeqNUUXgyXWOMvWhSBYLfVviIcsO+8ttme/ez+XDG24g
        Ao3dpNtTZ1w/qbQNHuTwYw45kxNHZMHeGd2I15YDKmEdPZMjXZEUN3PNokZ3ElN2UbdsFfYX/kgd
        CSbvW92waLVAa1VboW+NZhjHpwjYG1s4Qjb67wkzwHQO0xaQOigVQZi/JofPqIU3J9IMcr1OIqiw
        OlJROZrti7+Mb9wR1v8xE/zvySodxw8AAAD//wMAth7gAdABAAA=
    headers:
      CF-RAY:
      - 90ad09769cd432d2-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:11:23 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T22:11:22Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T22:11:23Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T22:11:20Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T22:11:22Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_014oNRWULzmVjDYYcEudYFx4
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are tasked
      with extracting or upserting memories for all entities, concepts, etc.\n\nExtract
      all important facts or entities. If an existing MEMORY is incorrect or outdated,
      update it based on the new information.\n\n\nEnrich, prune, and organize memories
      based on any new information. If an existing memory is incorrect or outdated,
      update it based on the new information. All operations must be done in single
      parallel call.\n\n<session_6a044fd3-3581-42de-bcfa-52eb72fa8656>\n================================
      Human Message =================================\n\nI prefer dark mode in all
      my apps\n\n================================== Ai Message ==================================\n\nI''ll
      remember that preference\n</session_6a044fd3-3581-42de-bcfa-52eb72fa8656>"}],"model":"claude-3-5-sonnet-latest","system":"You
      are a memory subroutine for an AI.\n\n","tool_choice":{"type":"any"},"tools":[{"name":"PreferenceMemory","description":"Store
      the user''s preference","input_schema":{"description":"Store the user''s preference","properties":{"category":{"title":"Category","type":"string"},"preference":{"title":"Preference","type":"string"},"context":{"title":"Context","type":"string"}},"required":["category","preference","context"],"title":"PreferenceMemory","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2SQUUvDQBCE/4rs8wXS2Nqat4JFsFhSaRUROY7LGkMvd/F2T0xD/rtcpGLxcWd2
        hm+3h7qEHBqqZDrZ39zVbvHEm2q53fJ0eVvs9scDCOCuxbiFRKpCEOCdiYIiqomVZRDQuBIN5KCN
        CiUml8ksIWctcpKl2XSSZhkI0M4yWob8pT+VsnNGBoqtI0qcg0wnG+Wf/WPxoD7Xq91+Nl8Xx25V
        ggCrmpgrPL6hR6vxHhvnu5i3bWDIe9CKsYpaDmVNrVGdJGSubUUgoP1NRl/5g4zsJ7ovjocZc6Ha
        1tRace0swTC8CiB2rfSoyNlz8NEg/Ag/pTYYIyCMv8r7HyzJ7oCWIL/KFgK00u8otcexXp5vpCff
        oyr/ey7wX2V+PQzfAAAA//8DACEUOPzGAQAA
    headers:
      CF-RAY:
      - 90ad098a4ce46991-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:11:26 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T22:11:25Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T22:11:26Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T22:11:23Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T22:11:25Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01NUYS77UVjtebcNXiiaSwPh
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are tasked
      with extracting or upserting memories for all entities, concepts, etc.\n\nExtract
      all important facts or entities. If an existing MEMORY is incorrect or outdated,
      update it based on the new information.\n\n\nEnrich, prune, and organize memories
      based on any new information. If an existing memory is incorrect or outdated,
      update it based on the new information. All operations must be done in single
      parallel call.\n\n<session_6fb6f2e4-0216-441c-8a9d-715e1ad592c5>\n================================
      Human Message =================================\n\nActually I changed my mind,
      dark mode hurts my eyes\n\n================================== Ai Message ==================================\n\nI''ll
      update your preference\n</session_6fb6f2e4-0216-441c-8a9d-715e1ad592c5>"}],"model":"claude-3-5-sonnet-latest","system":"You
      are a memory subroutine for an AI.\n\n\n\nGenerate JSONPatches to update the
      existing schema instances. If you need to extract or insert *new* instances
      of the schemas, call the relevant function(s).\n<existing>\n<instance id=f4720889-3ce3-401b-a7f0-a935e6120ec2
      schema_type=\"PreferenceMemory\">\n{''category'': ''display_settings'', ''preference'':
      ''dark_mode'', ''context'': ''all applications''}\n</instance>\n</existing>\n","tool_choice":{"type":"any"},"tools":[{"name":"PatchDoc","description":"Respond
      with JSONPatch operations to update the existing JSON document based on the
      provided text and schema.","input_schema":{"properties":{"json_doc_id":{"description":"The
      json_doc_id of the document you are patching.","type":"string"},"planned_edits":{"description":"Think
      step-by-step, reasoning over each required update and the corresponding JSONPatch
      operation to accomplish it. Cite the fields in the JSONSchema you referenced
      in developing this plan. Address each path as a group; don''t switch between
      paths.\n Plan your patches in the following order:1. replace - this keeps collection
      size the same.\n2. remove - BE CAREFUL ABOUT ORDER OF OPERATIONS. Each operation
      is applied sequentially. For arrays, remove the highest indexed value first
      to avoid shifting indices. This ensures subsequent remove operations remain
      valid.\n 3. add (for arrays, use /- to efficiently append to end).","type":"string"},"patches":{"description":"A
      list of JSONPatch operations to be applied to the previous tool call''s response
      arguments. If none are required, return an empty list. This field is REQUIRED.
      Multiple patches in the list are applied sequentially in the order provided,
      with each patch building upon the result of the previous one. Take care to respect
      array bounds. Order patches as follows:\n 1. replace - this keeps collection
      size the same\n 2. remove - BE CAREFUL about order of operations. For arrays,
      remove the highest indexed value first to avoid shifting indices.\n 3. add -
      for arrays, use /- to efficiently append to end.","items":{"description":"A
      JSON Patch document represents an operation to be performed on a JSON document.\n\nNote
      that the op and path are ALWAYS required. Value is required for ALL operations
      except ''remove''.","examples":[{"op":"replace","path":"/path/to/my_array/1","value":"the
      newer value to be patched"},{"op":"replace","path":"/path/to/broken_object","value":{"new":"object"}},{"op":"add","path":"/path/to/my_array/-","value":["some","values"]},{"op":"add","path":"/path/to/my_array/-","value":["newer"]},{"op":"remove","path":"/path/to/my_array/1"}],"properties":{"op":{"description":"The
      operation to be performed. Must be one of ''add'', ''remove'', ''replace''.","enum":["add","remove","replace"],"type":"string"},"path":{"description":"A
      JSON Pointer path that references a location within the target document where
      the operation is performed. Note: patches are applied sequentially. If you remove
      a value, the collection size changes before the next patch is applied.","type":"string"},"value":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"type":"null"}]},"type":"object"},{"type":"null"}],"description":"The
      value to be used within the operation. REQUIRED for ''add'', ''replace'', and
      ''test'' operations. Pay close attention to the json schema to ensure patched
      document will be valid."}},"required":["op","path","value"],"type":"object"},"type":"array"}},"required":["json_doc_id","planned_edits","patches"],"type":"object"}},{"name":"PreferenceMemory","description":"Store
      the user''s preference","input_schema":{"properties":{"category":{"type":"string"},"preference":{"type":"string"},"context":{"type":"string"}},"required":["category","preference","context"],"type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2SSW2/bMAyF/4rAl2yA3fmStI3ftqbdrQOyDRuGDYXBSrStRpY8SW4TBPnvg5QG
        abBH8vAcfhC1BSmggt61dZYXi8/l1bkdvopBXPH3y5/9t/XDD0jAbwYKU+QctgQJWKNCA52TzqP2
        kEBvBCmogCscBaVlOkud0Zp8WmTFNM+KAhLgRnvSHqo/20OoN0bVowupESXUY53l7z5c/y6/m7fX
        n77c4FLc5pvV4peDBDT2wbdEz7uF4cGnh9FDtYUHZ3QtDK9jUjO9KLLLy3lacirTaZbfp3jRZCnO
        yxmd50VGPDANCrUmUZOQ3kEFN9b0zHfEuNGPZB16aXQSO6Mjyzp0jHeoWxKhKS0bLDVkSXNiTTAL
        tCsW3oN5w5RsO7+vXkktJEcvdftiphutd89JtCH3+ox9ZE9SKTYOAj3FzbSWLvpe7OqpN3bD7jfM
        0qCQBznMPqIaiZkmFpOjYcIaSUrsGScBoA4Ak0A5iZjP9VMnFbEV0XCIdNgT4+ipDRtRCxYvufZn
        4QHDJcjFo5oBKtjj0F7qoII3RwhIIPJBBceVsLvb7e4ScN4MtSV0Rp/+jCg4+jvGiEqPSiUwxs9Y
        bff3r71ZkXZQ5fPpLAGOvKOaW4rnq09HsoNuCcX/mhn9aeB8t/sHAAD//wMAMyeDDCkDAAA=
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90ad0998abab6991-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:11:29 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T22:11:27Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T22:11:29Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T22:11:26Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T22:11:27Z'
      request-id:
      - req_01FdTMLZJ6HdaJ2dVegqdT62
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are tasked
      with extracting or upserting memories for all entities, concepts, etc.\n\nExtract
      all important facts or entities. If an existing MEMORY is incorrect or outdated,
      update it based on the new information.\n\n\nEnrich, prune, and organize memories
      based on any new information. If an existing memory is incorrect or outdated,
      update it based on the new information. All operations must be done in single
      parallel call.\n\n<session_5c98c717-29e8-4f59-b42d-eeb14412aa95>\n================================
      Human Message =================================\n\nmessages\n</session_5c98c717-29e8-4f59-b42d-eeb14412aa95>"}],"model":"claude-3-5-sonnet-latest","system":"You
      are a memory subroutine for an AI.\n\n","tool_choice":{"type":"any"},"tools":[{"name":"Memory","description":"Call
      this tool once for each new memory you want to record. Use multi-tool calling
      to record multiple new memories.","input_schema":{"description":"Call this tool
      once for each new memory you want to record. Use multi-tool calling to record
      multiple new memories.","properties":{"content":{"description":"The memory as
      a well-written, standalone episode/fact/note/preference/etc. Refer to the user''s
      instructions for more information the prefered memory organization.","title":"Content","type":"string"}},"required":["content"],"title":"Memory","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAAwAAAP//ZJBbS8NAEIX/yjLPiSTpxZI30SJe+lKlFUTCdjNtg8lsujOLLSH/Xbal
        avFx5sw58810UJWQQ8ObIkkHz/vKTF7eXLueThbr18F8u3gbQQRyaDFMIbPeIETgbB0amrli0SQQ
        QWNLrCEHU2tfYjyIRzFbIpQ4S7JhmmQZRGAsCZJA/t6dQ8XauvAcUo8oofZFki5X1R2a+W4+zpaW
        n+4Xj+ntbgoRkG6Cb4aNdYfgotYL5N1vOMxOoCqsUA53HllYBV1XpAT3oioSdNpIZYnVCuULkZRs
        UXlGpzSV6uZB/dx3BX3/EQGLbQuHmi1dkh8FDovIIOTk6zoCf3xW3p0IC7GfSAz5eJhGYLTZYmEc
        6kBQXE4kZ92hLv9r1svfzvC6778BAAD//wMASINos8cBAAA=
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90ad09b3df594cae-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:11:32 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T22:11:31Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T22:11:32Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T22:11:30Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T22:11:31Z'
      request-id:
      - req_01S11g3aLJXsNuNGwhXpQRMG
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are tasked
      with extracting or upserting memories for all entities, concepts, etc.\n\nExtract
      all important facts or entities. If an existing MEMORY is incorrect or outdated,
      update it based on the new information.\n\n\nEnrich, prune, and organize memories
      based on any new information. If an existing memory is incorrect or outdated,
      update it based on the new information. All operations must be done in single
      parallel call.\n\n<session_79c85b91-cc8b-4b23-badf-69e27cf46579>\n================================
      Human Message =================================\n\nmessages\n</session_79c85b91-cc8b-4b23-badf-69e27cf46579>"}],"model":"claude-3-5-sonnet-latest","system":"You
      are a memory subroutine for an AI.\n\n\n\nGenerate JSONPatches to update the
      existing schema instances. If you need to extract or insert *new* instances
      of the schemas, call the relevant function(s).\n<existing>\n<instance id=1eec2249fb6b5210908d3e8a91ffb00a
      schema_type=\"Memory\">\n{''content'': ''Message type requests contain text
      interactions between the user and AI assistant.''}\n</instance>\n</existing>\n","tool_choice":{"type":"any"},"tools":[{"name":"PatchDoc","description":"Respond
      with JSONPatch operations to update the existing JSON document based on the
      provided text and schema.","input_schema":{"properties":{"json_doc_id":{"description":"The
      json_doc_id of the document you are patching.","type":"string"},"planned_edits":{"description":"Think
      step-by-step, reasoning over each required update and the corresponding JSONPatch
      operation to accomplish it. Cite the fields in the JSONSchema you referenced
      in developing this plan. Address each path as a group; don''t switch between
      paths.\n Plan your patches in the following order:1. replace - this keeps collection
      size the same.\n2. remove - BE CAREFUL ABOUT ORDER OF OPERATIONS. Each operation
      is applied sequentially. For arrays, remove the highest indexed value first
      to avoid shifting indices. This ensures subsequent remove operations remain
      valid.\n 3. add (for arrays, use /- to efficiently append to end).","type":"string"},"patches":{"description":"A
      list of JSONPatch operations to be applied to the previous tool call''s response
      arguments. If none are required, return an empty list. This field is REQUIRED.
      Multiple patches in the list are applied sequentially in the order provided,
      with each patch building upon the result of the previous one. Take care to respect
      array bounds. Order patches as follows:\n 1. replace - this keeps collection
      size the same\n 2. remove - BE CAREFUL about order of operations. For arrays,
      remove the highest indexed value first to avoid shifting indices.\n 3. add -
      for arrays, use /- to efficiently append to end.","items":{"description":"A
      JSON Patch document represents an operation to be performed on a JSON document.\n\nNote
      that the op and path are ALWAYS required. Value is required for ALL operations
      except ''remove''.","examples":[{"op":"replace","path":"/path/to/my_array/1","value":"the
      newer value to be patched"},{"op":"replace","path":"/path/to/broken_object","value":{"new":"object"}},{"op":"add","path":"/path/to/my_array/-","value":["some","values"]},{"op":"add","path":"/path/to/my_array/-","value":["newer"]},{"op":"remove","path":"/path/to/my_array/1"}],"properties":{"op":{"description":"The
      operation to be performed. Must be one of ''add'', ''remove'', ''replace''.","enum":["add","remove","replace"],"type":"string"},"path":{"description":"A
      JSON Pointer path that references a location within the target document where
      the operation is performed. Note: patches are applied sequentially. If you remove
      a value, the collection size changes before the next patch is applied.","type":"string"},"value":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"type":"null"}]},"type":"object"},{"type":"null"}],"description":"The
      value to be used within the operation. REQUIRED for ''add'', ''replace'', and
      ''test'' operations. Pay close attention to the json schema to ensure patched
      document will be valid."}},"required":["op","path","value"],"type":"object"},"type":"array"}},"required":["json_doc_id","planned_edits","patches"],"type":"object"}},{"name":"Memory","description":"Call
      this tool once for each new memory you want to record. Use multi-tool calling
      to record multiple new memories.","input_schema":{"properties":{"content":{"description":"The
      memory as a well-written, standalone episode/fact/note/preference/etc. Refer
      to the user''s instructions for more information the prefered memory organization.","type":"string"}},"required":["content"],"type":"object"}},{"name":"RemoveDoc","description":"Use
      this tool to remove (delete) a doc by its ID.","input_schema":{"properties":{"json_doc_id":{"description":"ID
      of the document to remove. Must be one of: (''1eec2249fb6b5210908d3e8a91ffb00a'',)","type":"string"}},"required":["json_doc_id"],"type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA5xUXU/kOBD8Ky2/AFJmLpMB5kO6h9kbWJAOBCw67nRaRR27M/Hh2Fm3DQTEf18l
        87HL3kqHLm9xd5erqit5EVqJuah5laejacRGLz5ymC24vHv+FGPJ7Y1IRGgb6rqIGVckEuGd6Q6Q
        WXNAG0QiaqfIiLmQBqOiwXhwNGBnLYVBlmaHozTLRCKks4FsEPO/X7agwTmTR+5Qeyrde8zT0fFZ
        0ZzGa/5yc1f/cXI9+VR9vF0tRSIs1t3cFQZZLZ3s5mwTg5i/iH/Y2Vw5mfdIIyKZZYezsjgujrJR
        OkunakxTnI3KskhTFIloDFpLKielA4u5uK0I6Elz0HYFNdXOt4CFiwE22qFjzcBENYN7IM+6bowu
        NakhnO8ZA7FRGAh0gOCgIKidJ2g8Sc0EaBUoCqgNqQ3wY4U7dIaa0IK2ECqC3qynMOx4dmKJe99c
        I+bCU2NQ0rpUibn4ZWttIh7QxM6hiy0oeoIyWoU12YAGotWBwZUgXV1HqyUG7SwUFB6JLEQmzz3V
        xTnsVsxDuK2o7Vlhx5CewqBAJgXaBvIoO5D1nMQODSQGWjmvn9c9DqpYo/0mdr/0rl5fd9DP7S77
        sWdxfjCEnZ7S+bp3qEDWGyG220WvA83WuR6z0hycb4fi9fPra/Kfsftw91TjbXySl8Xlh6yQ138t
        H06bb7G76EPxfeh2mRaLNynZuqAV2dAnBIq2p81kFXkYwN5Zb8hG2B5oq7plEPemQH9FAo+VNgR7
        i505P+lfnIMnbpxlGor36Dy5mqpSPY6PTmi8nFycPt8vJF6/T+ebYIW20RKNaUFpbgy2pOBRhwqk
        IfSgyGhLbwO2jsHPF56AK0Mfwu4TfNAc0QBTgx6D8wz7Rt8T/Lp5DrosdLiBPHhChYU2OrTv8+Dm
        6vlyfLactPTb9Y3//Sb7c8rZ8n944PwK7SbmwMTcfQn94mTVN0Srv0Qy7Q9h2LTC+ZJhn4arYbI9
        yiczOT0qZqOBlNNicFhk40GBqhwczyibyPLw+GgyO+hkfk4EB9fknpCdfau2LzB9iWQlibmNxiQi
        9v/w+ctaVR7cPVkW8ywdjxMhUVaUS7/eWP62Jd3WO6f/XXMxfH9ymE5fX78CAAD//wMA1vXcAWAG
        AAA=
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90ad09bfb9bf4cae-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:11:40 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T22:11:34Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T22:11:40Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T22:11:32Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T22:11:34Z'
      request-id:
      - req_01PaFxEgJrzNThhitFcPynct
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are tasked
      with extracting or upserting memories for all entities, concepts, etc.\n\nExtract
      all important facts or entities. If an existing MEMORY is incorrect or outdated,
      update it based on the new information.\n\n\nEnrich, prune, and organize memories
      based on any new information. If an existing memory is incorrect or outdated,
      update it based on the new information. All operations must be done in single
      parallel call.\n\n<session_0da4bcb6-d013-4529-ad11-78b92dbeeefa>\n================================
      Human Message =================================\n\nmessages\n</session_0da4bcb6-d013-4529-ad11-78b92dbeeefa>"}],"model":"claude-3-5-sonnet-latest","system":"You
      are a memory subroutine for an AI.\n\n","tool_choice":{"type":"any"},"tools":[{"name":"PreferenceMemory","description":"Store
      user preferences.","input_schema":{"description":"Store user preferences.","properties":{"category":{"title":"Category","type":"string"},"preference":{"title":"Preference","type":"string"},"context":{"title":"Context","type":"string"}},"required":["category","preference","context"],"title":"PreferenceMemory","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2RQW0vDMBT+K+U8p5B2N5c3ZSsOb9NORERKmpx1Ze1JTVIvjP13ycZE8fF8N77v
        7KDWIKB1VcGT6SR/n30sqTJm+oTL0o8uHiwBA//VYVChc7JCYGBNEwDpXO28JA8MWqOxAQGqkb3G
        eBCPYmeI0McpT4cJT1NgoAx5JA/iZXcK9cY0Re9C6qFKuPuCJ/dUXT5kOnvKs9lyi91Ftrq6zYAB
        yTb4lhbXaJEU3mBr7FfwU9d7EDtQ0mMVMAH5c76a3wCD7kcPAmbz7PzxelXk8zxf3N2emn364EDn
        akPRYiYiruWwVOU41jwZxMNROo2lTpJ4clZOU10i4lpGH9JFLZKvDaGOaor8BiNl6B2tkwGF/f6V
        gfOmKyxKZ+jv7APh8K0/lqO+aRj0h0+L3XFU4c0WyYEY8xEDJdUGC2XxkF78VfATb1Hq/5zp/W8k
        4ZP9/hsAAP//AwBvPFrOBQIAAA==
    headers:
      CF-RAY:
      - 90ad09f23b364cac-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:11:43 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T22:11:41Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T22:11:43Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T22:11:40Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T22:11:41Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_016U6YRpH6qw41m8BdNKhkPC
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are tasked
      with extracting or upserting memories for all entities, concepts, etc.\n\nExtract
      all important facts or entities. If an existing MEMORY is incorrect or outdated,
      update it based on the new information.\n\n\nEnrich, prune, and organize memories
      based on any new information. If an existing memory is incorrect or outdated,
      update it based on the new information. All operations must be done in single
      parallel call.\n\n<session_ec15d16f-6754-47c6-ac8a-9231ed58e0c8>\n================================
      Human Message =================================\n\nmessages\n</session_ec15d16f-6754-47c6-ac8a-9231ed58e0c8>"}],"model":"claude-3-5-sonnet-latest","system":"You
      are a memory subroutine for an AI.\n\n","tool_choice":{"type":"any"},"tools":[{"name":"Memory","description":"Call
      this tool once for each new memory you want to record. Use multi-tool calling
      to record multiple new memories.","input_schema":{"description":"Call this tool
      once for each new memory you want to record. Use multi-tool calling to record
      multiple new memories.","properties":{"content":{"description":"The memory as
      a well-written, standalone episode/fact/note/preference/etc. Refer to the user''s
      instructions for more information the prefered memory organization.","title":"Content","type":"string"}},"required":["content"],"title":"Memory","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA5RU227bMAz9FUJPG2AXuTcxsIeiSZEiTdE1abt2GQJFpm0htuSKUro0yL8Pcppe
        todmfpNIHvEcHnrDZMwiVlA6r9UHl7LfWrnvV3cXt71pLEf6bjp4YAGz6xJ9FhLxFFnAjM79BSeS
        ZLmyLGCFjjFnERM5dzGGzbAdklYKbdioNVr1WqPBAia0sqgsi35u9qBW63zuyKNWrfizm9fqIxp0
        0YwHiRXm7HY8vqTmkytZwBQvfN0YC23WvkqVzrJo8wbOJmuyWEAfSaYqgmmGUFTpQLuILtFwiwQ2
        M9qlGdgMQWglsLSgEyAkklpRAE/SZoBcZPs7yPhKqhQ4OCUfHYKMUVmZSDTwBY/SowBQ1NtxvZOE
        neN2K2wdi07IRZeHvUazjnG7izXR/QpWgzVcLIGrGLRJuZLPVRMrNMStf/6IbbfBp0pdZ83+/eji
        tJ6t1NWquBad5uL24TClpigyJQXP4VJbjGDyQvKNFAEvS+TG97tASLQpuLUYAye4uTnvh2TXOQJZ
        I1VKAZRGr2TsFfpLH1Fx8gA7Pd8z9XNAHh/Gd7J8Wo/S4Y/7/uI6mXZM2vs9McPD+J4riybhAmGQ
        Y4HKvlIm4AZhJcnxPF9DjLkspOcpVeUO+VrpyLObsW+ffDMGBTdLL6HVIHLkJl8DYcm99yCWSYIG
        lYWXvQJC8R9jPzlt6OG9Fm33nNHlyUPvrkknq8NkONVF4dR+JGfVTCMY7/qgyvRSvW5BpUzOF5hj
        vFsIm6E0QNoZgXvXz9jQFVztUWassrhUsX8GKw21kalUfsF2+/auCc/5V8DI6nJukJNWH6lXAcJH
        h0ogi5TL84C56ncUbXYU51YvURGLOq1mwAQXGc6FwQp+/jGjto971/0b086+v2l0mtvtHwAAAP//
        AwAIha8GKgUAAA==
    headers:
      CF-RAY:
      - 90ad0a056fe74cac-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:11:48 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T22:11:44Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T22:11:48Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T22:11:43Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T22:11:44Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_012z5AbV36XAeNTwSxSMH2Ba
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: "{\"max_tokens\":1024,\"messages\":[{\"role\":\"user\",\"content\":\"You
      are reviewing the performance of an AI assistant in a given interaction. \\n\\n##
      Instructions\\n\\nThe current prompt that was used for the session is provided
      below.\\n\\n<current_prompt>\\nYou are an astronomy expert\\n</current_prompt>\\n\\nThe
      developer provided the following instructions around when and how to update
      the prompt:\\n\\n<update_instructions>\\n\\n</update_instructions>\\n\\n## Session
      data\\n\\nAnalyze the following sessions (and any associated user feedback)
      (either conversations with a user or other work that was performed by the assistant):\\n\\n<sessions>\\n<session_9bc337bf99c14c70984901b31a90cda8>\\n================================
      Human Message =================================\\n\\nTell me about the solar
      system\\n\\n================================== Ai Message ==================================\\n\\nThe
      solar system consists of...\\n\\nFeedback for session 9bc337bf99c14c70984901b31a90cda8:\\n<FEEDBACK>\\n{'clarity':
      'needs more structure'}\\n</FEEDBACK>\\n</session_9bc337bf99c14c70984901b31a90cda8>\\n</sessions>\\n\\ni##
      Feedback\\n\\nThe following feedback is provided for this session:\\n\\n<feedback>\\n\\n</feedback>\\n\\n##
      Task\\n\\nAnalyze the conversation, including the user\u2019s request and the
      assistant\u2019s response, and evaluate:\\n1. How effectively the assistant
      fulfilled the user\u2019s intent.\\n2. Where the assistant might have deviated
      from user expectations or the desired outcome.\\n3. Specific areas (correctness,
      completeness, style, tone, alignment, etc.) that need improvement.\\n\\nIf the
      prompt seems to do well, then no further action is needed. We ONLY recommend
      updates if there is evidence of failures.\\nWhen failures occur, we want to
      recommend the minimal required changes to fix the problem.\\n\\nFocus on actionable
      changes and be concrete.\\n\\n1. Summarize the key successes and failures in
      the assistant\u2019s response. \\n2. Identify which failure mode(s) best describe
      the issues (examples: style mismatch, unclear or incomplete instructions, flawed
      logic or reasoning, hallucination, etc.).\\n3. Based on these failure modes,
      recommend the most suitable edit strategy. For example, consider::\\n   - Use
      synthetic few-shot examples for style or clarifying decision boundaries.\\n
      \  - Use explicit instruction updates for conditionals, rules, or logic fixes.\\n
      \  - Provide step-by-step reasoning guidelines for multi-step logic problems.\\n4.
      Provide detailed, concrete suggestions for how to update the prompt accordingly.\\n\\nBut
      remember, the final updated prompt should only be changed if there is evidence
      of poor performance, and our recommendations should be minimally invasive.\\nDo
      not recommend generic changes that aren't clearly linked to failure modes.\\n\\nFirst
      think through the conversation and critique the current behavior.\\nIf you believe
      the prompt needs to further adapt to the target context, provide precise recommendations.\\nOtherwise,
      mark `warrants_adjustment` as False and respond with 'No recommendations.'\"}],\"model\":\"claude-3-5-sonnet-latest\",\"tool_choice\":{\"type\":\"any\"},\"tools\":[{\"name\":\"think\",\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"input_schema\":{\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"properties\":{\"thought\":{\"title\":\"Thought\",\"type\":\"string\"}},\"required\":[\"thought\"],\"title\":\"think\",\"type\":\"object\"}},{\"name\":\"critique\",\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"input_schema\":{\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"properties\":{\"criticism\":{\"title\":\"Criticism\",\"type\":\"string\"}},\"required\":[\"criticism\"],\"title\":\"critique\",\"type\":\"object\"}}]}"
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA4RU224bNxD9lQFf+iI5kiwX6b7FCZLAjgz0gjYXFcKIO9plxB2uOUNZG8P/XpCS
        YxltkbflXM/MObP3xtWmMp00q8n01e3Vvm5ums9/3b2cz4drG68+9gszMjr0lKNIBBsyIxODzwYU
        caLIakamCzV5UxnrMdU0Ph9fjCUwk45nk9l8OpnNzMjYwEqspvpy/1hUQ/CrJLlqgZLfaTWZvpvh
        wr39+vO7RX/96uLj+W/vU/c+mZFh7Epe63ibk7hPaqp7o21ITaumMh9IoSNARj98I9CWQEjEBQbk
        GjZE9RrtFmQQpQ7VWfR+qJa85OkZvM4Y91rB767rPcFtItGSuw5JD9WCx3hMX/LsDF6nGIkV+hi6
        Xiv4k+IAnWPXoYel+RQSYMyIAEVj4NANQPueoi7Nks/P4O0jJse1s6gkEEn6wEKwNExUC3QhEojG
        ZDVFyonzM7imAZxIIqmWPIY/WjqCACegIcD60LiGOpDwTwXjztUETXI1siUI/NTrqTyP4SaUIPKO
        SWATItTUazuCEBtk9w3zWvIL+khCrMWQAzvUXGDhRBw34PhQ1wU+1KE62RKM/gXte4+MGuIAR31A
        7rmjOGRK8kg2j75B51Mepu8JY54O1gSOn3V/cYoNImpLEbTNm7c2RbTDmXl4GP1Qfr9eXuGCFu1m
        hy+vv/7yaXH55qK+fJKfjU7dbaJTBRabddKZyhTUz1QBLQoI7Siihy0NcEe4ZRIp1BXpfUC7lR8Q
        U7g8HbII8CaA9GTdxtnvJBzYgvKh6Dx42pEvcvsPYnK3nmpsQpPvIW85BrRtUdmbo3ZIFNfeSVvU
        aw8rP1J6SqPH6HRY8kVBtonY0V2I2xLYItc+N1+jOAs7ARvyoe1PbkND76wc2ReCBnsB77bkDxqJ
        bp2U6iyBfI//dyHfTz1z/vfIiIZ+FQkl8HPqi0PoNhFbMhUn70cmlZ9ddX8geKVhSyymmk7n85Gx
        aFta2UhlBavnIZNHfySs/+0LSU8ts4vJw8M/AAAA//8DAA+3MkKJBQAA
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90ad0a27298132c5-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:11:54 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T22:11:50Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T22:11:54Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T22:11:49Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T22:11:50Z'
      request-id:
      - req_01NSDqBtTpE1iAgPF5Kfaq2t
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: "{\"max_tokens\":1024,\"messages\":[{\"role\":\"user\",\"content\":\"You
      are reviewing the performance of an AI assistant in a given interaction. \\n\\n##
      Instructions\\n\\nThe current prompt that was used for the session is provided
      below.\\n\\n<current_prompt>\\nYou are an astronomy expert\\n</current_prompt>\\n\\nThe
      developer provided the following instructions around when and how to update
      the prompt:\\n\\n<update_instructions>\\n\\n</update_instructions>\\n\\n## Session
      data\\n\\nAnalyze the following sessions (and any associated user feedback)
      (either conversations with a user or other work that was performed by the assistant):\\n\\n<sessions>\\n<session_9bc337bf99c14c70984901b31a90cda8>\\n================================
      Human Message =================================\\n\\nTell me about the solar
      system\\n\\n================================== Ai Message ==================================\\n\\nThe
      solar system consists of...\\n\\nFeedback for session 9bc337bf99c14c70984901b31a90cda8:\\n<FEEDBACK>\\n{'clarity':
      'needs more structure'}\\n</FEEDBACK>\\n</session_9bc337bf99c14c70984901b31a90cda8>\\n</sessions>\\n\\ni##
      Feedback\\n\\nThe following feedback is provided for this session:\\n\\n<feedback>\\n\\n</feedback>\\n\\n##
      Task\\n\\nAnalyze the conversation, including the user\u2019s request and the
      assistant\u2019s response, and evaluate:\\n1. How effectively the assistant
      fulfilled the user\u2019s intent.\\n2. Where the assistant might have deviated
      from user expectations or the desired outcome.\\n3. Specific areas (correctness,
      completeness, style, tone, alignment, etc.) that need improvement.\\n\\nIf the
      prompt seems to do well, then no further action is needed. We ONLY recommend
      updates if there is evidence of failures.\\nWhen failures occur, we want to
      recommend the minimal required changes to fix the problem.\\n\\nFocus on actionable
      changes and be concrete.\\n\\n1. Summarize the key successes and failures in
      the assistant\u2019s response. \\n2. Identify which failure mode(s) best describe
      the issues (examples: style mismatch, unclear or incomplete instructions, flawed
      logic or reasoning, hallucination, etc.).\\n3. Based on these failure modes,
      recommend the most suitable edit strategy. For example, consider::\\n   - Use
      synthetic few-shot examples for style or clarifying decision boundaries.\\n
      \  - Use explicit instruction updates for conditionals, rules, or logic fixes.\\n
      \  - Provide step-by-step reasoning guidelines for multi-step logic problems.\\n4.
      Provide detailed, concrete suggestions for how to update the prompt accordingly.\\n\\nBut
      remember, the final updated prompt should only be changed if there is evidence
      of poor performance, and our recommendations should be minimally invasive.\\nDo
      not recommend generic changes that aren't clearly linked to failure modes.\\n\\nFirst
      think through the conversation and critique the current behavior.\\nIf you believe
      the prompt needs to further adapt to the target context, provide precise recommendations.\\nOtherwise,
      mark `warrants_adjustment` as False and respond with 'No recommendations.'\"},{\"role\":\"assistant\",\"content\":[{\"type\":\"tool_use\",\"name\":\"think\",\"input\":{\"thought\":\"Let
      me analyze the session and feedback systematically:\\n\\n1. Context: Simple
      question about the solar system\\n2. Current prompt: Very minimal \\\"You are
      an astronomy expert\\\"\\n3. Feedback indicates response \\\"needs more structure\\\"\\n4.
      Key issues:\\n- The prompt is too bare and doesn't provide guidance on response
      structure\\n- No guidelines for depth, organization, or presentation format\\n-
      Missing instructions for educational/explanatory content delivery\\n\\nThe core
      failure appears to be in presentation/organization rather than accuracy.\"},\"id\":\"toolu_01G2aMiFj6GMpKA5X3RHumHu\"},{\"type\":\"tool_use\",\"name\":\"critique\",\"input\":{\"criticism\":\"The
      current prompt has several key weaknesses:\\n\\n1. Lacks guidance on response
      structure and organization\\n2. No specification for depth or detail level\\n3.
      Missing instruction on pedagogical approach\\n4. Doesn't establish expectations
      for explanatory clarity\\n5. No framework for handling basic vs complex astronomy
      topics\\n\\nThese gaps likely contributed to the \\\"needs more structure\\\"
      feedback.\"},\"id\":\"toolu_01QBJaMeMhfva8Kj9YMBD5dB\"}]},{\"role\":\"user\",\"content\":[{\"type\":\"tool_result\",\"content\":\"\",\"tool_use_id\":\"toolu_01G2aMiFj6GMpKA5X3RHumHu\",\"is_error\":false},{\"type\":\"tool_result\",\"content\":\"\",\"tool_use_id\":\"toolu_01QBJaMeMhfva8Kj9YMBD5dB\",\"is_error\":false}]}],\"model\":\"claude-3-5-sonnet-latest\",\"tool_choice\":{\"type\":\"any\"},\"tools\":[{\"name\":\"think\",\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"input_schema\":{\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"properties\":{\"thought\":{\"title\":\"Thought\",\"type\":\"string\"}},\"required\":[\"thought\"],\"title\":\"think\",\"type\":\"object\"}},{\"name\":\"critique\",\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"input_schema\":{\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"properties\":{\"criticism\":{\"title\":\"Criticism\",\"type\":\"string\"}},\"required\":[\"criticism\"],\"title\":\"critique\",\"type\":\"object\"}},{\"name\":\"recommend\",\"description\":\"Decides
      whether a prompt should be adjusted.\\nIf warrants_adjustment is True, we incorporate
      recommended changes.\\nIf not, we respond 'No recommendations.'\",\"input_schema\":{\"description\":\"Decides
      whether a prompt should be adjusted.\\nIf warrants_adjustment is True, we incorporate
      recommended changes.\\nIf not, we respond 'No recommendations.'\",\"properties\":{\"warrants_adjustment\":{\"title\":\"Warrants
      Adjustment\",\"type\":\"boolean\"},\"hypotheses\":{\"anyOf\":[{\"type\":\"string\"},{\"type\":\"null\"}],\"title\":\"Hypotheses\"},\"full_recommendations\":{\"anyOf\":[{\"type\":\"string\"},{\"type\":\"null\"}],\"title\":\"Full
      Recommendations\"}},\"required\":[\"warrants_adjustment\"],\"title\":\"recommend\",\"type\":\"object\"}}]}"
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2SUYW8bNwyG/wqhTxtw9my3STF/69a1G5BhA7pg2ObBoCX6TrOOupBUnFuQ/z7o
        Lu5S9OOJFPm8L6l7dDG4reu13a/WV+P7zds3GMPHDzeR+ofvx/Hu52vXOBsHqlmkii25xklO9QBV
        oxqyucb1OVByW+cTlkCLV4urhWZmssVmtXm9Xm02rnE+sxGb2/71eClqOad90Vp1QqnfZb9a39ze
        3nF7/+O7m/LxnebrD3++f/tDhWHs6z0hn/ueONSLPBRz20d3RhFk0z2Gf4paP/UyKdS4bhyydaSk
        but+6wgGiT3KCFG1EEQF6wgS+hPkI6hJ8VaEADlAlhY5/osWM0NkENIhs5I2cO6i78Ajw4EAQxBS
        pQDWSS5tB/QwpOijwTFLj2aR2y8qYoK2xEApMunSNe5YUtp/0jflVOjbIaDRhDlI7gcDy9sd73jn
        /sgFcIIFVJPMuR9rbxKDc5dr/n0MpOAToTRwppQWnzSGCRN57rSE3ztiCKRe4mECfi4ZPSbwmT0N
        plPn9RK+ozYynKN1gHCQSEfI9yT3kc7fBDpGjrXqjjdL+GUWTRB5tmO20/IFK+V26qHkJ5Qdv1rC
        rRLgMEgeJFb9HWGI3Ork4/9zOmYBn/sh0QNYHqLXHb9ewq+S2zoTOEru4YAaPViGPgtBIMOYKLzk
        2fHVEn5in0ogONEIR/Q29+oJtQjVpVI4dyQEQonukW3H1zPosxAKxV9mm5Dbgi2Blmh4SDNqS0yC
        CbCESOxJq52T8ch6Jqm+3xXSyQfAQy4GCaWWGdWoV/gqxdO8DZoTyvP5181lt+bYS6u7SILiu+px
        GidNByE8QTQI+fw8ix4ZW5pAL3NY7px7evq7cWp52AuhZv786U4BpbtStbgtl5QaV6a/xfZxfp97
        yyeqi7y+/nbdOI++o70Xmtj2n6esLnEhDF/GcrGXJ5v1m6en/wAAAP//AwC+AfkkygQAAA==
    headers:
      CF-RAY:
      - 90ad0a4f1ab24cae-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:12:00 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T22:11:56Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T22:12:00Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T22:11:55Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T22:11:56Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01PqeGmrjkzFvqhQSH6TnCaq
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are optimizing
      a prompt to handle its target task more effectively.\n\n<current_prompt>\nYou
      are an astronomy expert\n</current_prompt>\n\nWe hypothesize the current prompt
      underperforms for these reasons:\n\n<hypotheses>\nThe primary issue is the lack
      of structure and organization in responses, which can be addressed through explicit
      formatting and organizational guidelines.\n</hypotheses>\n\nBased on these hypotheses,
      we recommend the following adjustments:\n\n<recommendations>\nUpdate the prompt
      to:\n\n\"You are an astronomy expert who provides clear, well-structured explanations.
      When describing astronomical concepts:\n\n1. Begin with a brief overview/definition\n2.
      Organize information into clear, logical sections\n3. Use appropriate headings
      and structure for complex topics\n4. Progress from basic to more detailed information\n5.
      Include key facts and measurements where relevant\n6. Use clear, educational
      language suitable for general audiences\n\nWhen answering questions about large
      systems (like the solar system), organize the information hierarchically and
      break it down into manageable sections.\"\n</recommendations>\n\nRespond with
      the updated prompt. Remember to ONLY make changes that are clearly necessary.
      Aim to be minimally invasive:"}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"tool","name":"OptimizedPromptOutput"},"tools":[{"name":"OptimizedPromptOutput","description":"Schema
      for the optimized prompt output.","input_schema":{"description":"Schema for
      the optimized prompt output.","properties":{"analysis":{"description":"First,
      analyze the current results and plan improvements to reconcile them.","title":"Analysis","type":"string"},"improved_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Finally,
      generate the full updated prompt to address the identified issues.   The prompt
      section being optimized contains no input f-string variables. Any brackets {{
      foo }} you emit will be escaped and not used.","title":"Improved Prompt"}},"required":["analysis","improved_prompt"],"title":"OptimizedPromptOutput","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA3xV247cNgz9FUJPCTA72Usu6Lw1RZG2SbNB2zRNO8WAI9E2MTLlFaWZdRf774Vk
        z+wuCvTJMEWTh+ccWneGnVmZXtvN+cXHn7pf9z8c3sXPv3/Ju71rbu03+2gWJo0DlSxSxZbMwsTg
        SwBVWRNKMgvTB0ferIz1mB2dXZ29OtMgQuns8vzy5cX55aVZGBskkSSz+uvuWDSF4DdZS9UKpbzn
        zfnFO31/c/WdfX/1trF/fHz94cPhz1++tmZhBPvy3fWQuOd/yH2KoR/SdU5DLjhYynN1Z1DQj8pq
        Vua3jsDmGEkSDDUd1uZryICRAAVQUwwS+hHodqCY1gZYgW5TpJ78CD0L9+gBxYFHu1NoMzsUSxAE
        unCAFEBTzDblWtHBEElLO5YmxB4TBwFqGrKJ9+THJRRM3TiE1JGygg0xkk1+BHYkiRsmhdRhgtSx
        gid0WroMoRDI6P0IjjXEFqWwACECiw1SFCmNI+kQREmXa1lL6RbJhr4nceTAdigtKaBzkVSnJttx
        tZaLJfyMLAlZWFpIhboQaWZmRpfGtVwu4VvnSo4OZLlhe6IAfSWIPAspNCHCjLNkn4Ct5WoJP4r1
        uVaxnjDCxFYqAZapHgfRtbxcwqcY9lxzscjYFuSF1yZiT4cQd/Bsi8q28OQoIXtyz9fyagnf90OH
        OvVHa8t3W/acRkhdDLntwKO0GVsC2wW2tJbXT8dDDx2K8yVQBrKhHzzdvuiYIkbbsUUPKQxsdeZb
        6cSydiF7B8qtFJ5Qqs79EMOeTnzATcYK6dCxL+F+lqAJNmtRWB7USKi7yUPoHFeKqpmFynAYx9mE
        YQixnFZwj9SmB5s5YNVMuizLM2Fym2lLzOr/tgQOXSgt9uxIJ/kWcCDvz06r4EqqR6n+1yV86UjA
        kdrI26rFXLKyZ4NYGpKuCoEXS3hLLQscOHWAsI1MDYQ9xT3T4YWjhqXOXY14Pa/Bk3VjSeEIy4e2
        9lA6+ulqCZ+VAIdCUmRMBB1hEVwrdw/r/Ejuk8KTG6sDoYmhh5Px+iLP0X2P8VQjTnYn2NEIDdo0
        9eoJNZd/jSSFQ0exyO9pj5KqEQvQeRBy2eKs6Mmzmjnh1k9QWxIqG4jZMYml6sdKPIoeKBbebzLp
        bJptyAk8xlJm1ES9wjPPO6om0eAxzvHni+MWT2ePqX68BX7y3jYS7oATuHCYtehRsKUK9KjD0tzf
        /70wmsKwiYQa5OmVUA+UbnKZxKwke78wud5Cq7vpX79JYUeiZvXmzeXCWLQdbWykCmzzNOP8eB4J
        3X/PQr1DTpGr84v7+38BAAD//wMA+S+giiEHAAA=
    headers:
      CF-RAY:
      - 90ad0a7479664cb6-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:12:06 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T22:12:02Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T22:12:06Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T22:12:01Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T22:12:02Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_018FAndeau8ToShB7kXN9uEy
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are helping
      an AI assistant learn by optimizing its prompt.\n\n## Background\n\nBelow is
      the current prompt:\n\n<current_prompt>\nYou are a quantum computing expert\n</current_prompt>\n\nThe
      developer provided these instructions regarding when/how to update:\n\n<update_instructions>\n\n</update_instructions>\n\n##
      Session Data\nAnalyze the session(s) (and any user feedback) below:\n\n<sessions>\n<session_e17bc176e5e247449b8edb241f790a9e>\n================================
      Human Message =================================\n\nExplain quantum computing\n\n==================================
      Ai Message ==================================\n\nQuantum computing uses...\n\nFeedback
      for session e17bc176e5e247449b8edb241f790a9e:\n<FEEDBACK>\nNeed better organization
      and concrete examples\n</FEEDBACK>\n</session_e17bc176e5e247449b8edb241f790a9e>\n</sessions>\n\n##
      Instructions\n\n1. Reflect on the agent''s performance on the given session(s)
      and identify any real failure modes (e.g., style mismatch, unclear or incomplete
      instructions, flawed reasoning, etc.).\n2. Recommend the minimal changes necessary
      to address any real failures. If the prompt performs perfectly, simply respond
      with the original prompt without making any changes.\n3. Retain any f-string
      variables in the existing prompt exactly as they are (e.g. {variable_name}).\n\nIFF
      changes are warranted, focus on actionable edits. Be concrete. Edits should
      be appropriate for the identified failure modes. For example, consider synthetic
      few-shot examples for style or clarifying decision boundaries, or adding or
      modifying explicit instructions for conditionals, rules, or logic fixes; or
      provide step-by-step reasoning guidelines for multi-step logic problems if the
      model is failing to reason appropriately."}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"any"},"tools":[{"name":"think","description":"Reflection
      tool implementation.","input_schema":{"description":"Reflection tool implementation.","properties":{"thought":{"title":"Thought","type":"string"}},"required":["thought"],"title":"think","type":"object"}},{"name":"critique","description":"Critique
      tool implementation.","input_schema":{"description":"Critique tool implementation.","properties":{"criticism":{"title":"Criticism","type":"string"}},"required":["criticism"],"title":"critique","type":"object"}},{"name":"OptimizedPromptOutput","description":"Schema
      for the optimized prompt output.","input_schema":{"description":"Schema for
      the optimized prompt output.","properties":{"analysis":{"description":"First,
      analyze the current results and plan improvements to reconcile them.","title":"Analysis","type":"string"},"improved_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Finally,
      generate the full updated prompt to address the identified issues.   The prompt
      section being optimized contains no input f-string variables. Any brackets {{
      foo }} you emit will be escaped and not used.","title":"Improved Prompt"}},"required":["analysis","improved_prompt"],"title":"OptimizedPromptOutput","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2STW28bOQyF/wqhl24Bu7CdNgXmrcCiBdqkSG9A0WZh0BI9o1pDTkQqjhvkvxdS
        bg32cYaH5HeOpGsXg+vcqP16sfw4hff26dvVm5NxdYQ/vp+93Q97czNnh4mqilSxJzdzWVL9gapR
        DblqRgmUXOd8whJofjR/NVdhJpuvFquXy8Vq5WbOCxuxue7n9f1QE0nronVqQ6nfZb1Yfj57d6bH
        /24v+tND+fD929nF69P4ys0c49j6hsi72sRTMdddOxuk9IO5zp2QwUiAjOnwm8AGAuyJ7ZnCRHkr
        eUT2tR5gSxQ26HewlQyTVLiICeI4ZbmkkdgAM6F253zOyxfwdSCQHPvImGDKMk4GUeGS8gHGyHHE
        NINfRQ3U0CL3bXuNC/45dxcF2coIXsaptCpdTZTt3D2HfawGDJAP0JcYGqIwDLIHE1DLxVvJBJl0
        ElZSkAz7AQ0oNVKtusg+lUAvKu/qlvfB4xD7IcV+qMq9gE7k4zZ6iKqFqkUAmMNHotDi2JAZZZDc
        I8ffaFH4TnJSp8kWvLDPZAR0heOUSOvWo9utd+HoICUF2BAQD9VTqJQYQibVGo7S3X7YHO4R3oRQ
        w/GJMEPkW+9RWBvXQxShxpeQG5re9Z4ih8fkWxwahSvulNFb9Jj+4m09X1oSh9q0o8NfedZ0Hx14
        uaS6NfLjIdxPIHs4T2/4CDvirlmRuu+qJUaTKaD3pBo3idzNzX8zpybTut404aePohWULgqxJ9dx
        SWnmSnuH3fXt7V+b7IjVdcvF8WrmPPqB1j5Tw1g/lSzu65kw/L8mxZ4MPD6+ufkDAAD//wMA0qvz
        nSQEAAA=
    headers:
      CF-RAY:
      - 90ad0a9d2ecb32c8-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:12:12 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T22:12:08Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T22:12:12Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T22:12:07Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T22:12:08Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01Gp8E3GmUzKCu3uSuyoaoww
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are helping
      an AI assistant learn by optimizing its prompt.\n\n## Background\n\nBelow is
      the current prompt:\n\n<current_prompt>\nYou are a quantum computing expert\n</current_prompt>\n\nThe
      developer provided these instructions regarding when/how to update:\n\n<update_instructions>\n\n</update_instructions>\n\n##
      Session Data\nAnalyze the session(s) (and any user feedback) below:\n\n<sessions>\n<session_e17bc176e5e247449b8edb241f790a9e>\n================================
      Human Message =================================\n\nExplain quantum computing\n\n==================================
      Ai Message ==================================\n\nQuantum computing uses...\n\nFeedback
      for session e17bc176e5e247449b8edb241f790a9e:\n<FEEDBACK>\nNeed better organization
      and concrete examples\n</FEEDBACK>\n</session_e17bc176e5e247449b8edb241f790a9e>\n</sessions>\n\n##
      Instructions\n\n1. Reflect on the agent''s performance on the given session(s)
      and identify any real failure modes (e.g., style mismatch, unclear or incomplete
      instructions, flawed reasoning, etc.).\n2. Recommend the minimal changes necessary
      to address any real failures. If the prompt performs perfectly, simply respond
      with the original prompt without making any changes.\n3. Retain any f-string
      variables in the existing prompt exactly as they are (e.g. {variable_name}).\n\nIFF
      changes are warranted, focus on actionable edits. Be concrete. Edits should
      be appropriate for the identified failure modes. For example, consider synthetic
      few-shot examples for style or clarifying decision boundaries, or adding or
      modifying explicit instructions for conditionals, rules, or logic fixes; or
      provide step-by-step reasoning guidelines for multi-step logic problems if the
      model is failing to reason appropriately."},{"role":"assistant","content":[{"type":"tool_use","name":"think","input":{"thought":"Let
      me analyze the agent''s performance and feedback for potential improvement areas:\n\n1.
      The original prompt is very minimal, just stating the role (\"quantum computing
      expert\") without any guidance on how to structure responses or what elements
      to include.\n\n2. The feedback highlights two specific issues:\n   - Need for
      better organization\n   - Lack of concrete examples\n\n3. The prompt should
      be enhanced to address these issues by:\n   - Adding clear instructions for
      structured explanations\n   - Mandating the inclusion of practical examples\n   -
      Specifying key elements that should be covered in responses\n   - Setting expectations
      for making complex concepts accessible"},"id":"toolu_01RPGPs6DfqgMyuKXUPq7Mi5"}]},{"role":"user","content":[{"type":"tool_result","content":"","tool_use_id":"toolu_01RPGPs6DfqgMyuKXUPq7Mi5","is_error":false}]}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"any"},"tools":[{"name":"think","description":"Reflection
      tool implementation.","input_schema":{"description":"Reflection tool implementation.","properties":{"thought":{"title":"Thought","type":"string"}},"required":["thought"],"title":"think","type":"object"}},{"name":"critique","description":"Critique
      tool implementation.","input_schema":{"description":"Critique tool implementation.","properties":{"criticism":{"title":"Criticism","type":"string"}},"required":["criticism"],"title":"critique","type":"object"}},{"name":"OptimizedPromptOutput","description":"Schema
      for the optimized prompt output.","input_schema":{"description":"Schema for
      the optimized prompt output.","properties":{"analysis":{"description":"First,
      analyze the current results and plan improvements to reconcile them.","title":"Analysis","type":"string"},"improved_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Finally,
      generate the full updated prompt to address the identified issues.   The prompt
      section being optimized contains no input f-string variables. Any brackets {{
      foo }} you emit will be escaped and not used.","title":"Improved Prompt"}},"required":["analysis","improved_prompt"],"title":"OptimizedPromptOutput","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2SST2/bMAzFvwqhSy9Ol6R/1vq4bocF3Q5bgR2WIWAkxtYqk6ooNW2DfPdBTlsg
        2NEiH9/v0dwZ70xrBu1W09n19bfyvVymX9tnjiKzxYKvb65MY/JzpNpFqtiRaUySUB9Q1WtGzqYx
        gzgKpjU2YHE0OZtcTFSYKU/m0/n5bDqfm8ZY4UycTft79zY0i4RV0Tp1RKnfZTWd/bj9mW5vFhtL
        0v1ddC+f4uLL50vTGMah6mzy2T+UUcexZNPuDm/W62Bac9cT2JIScYaYZIgZelRQeqSEAYIffMbs
        hbVd8pJnp/A1nyhkEVhjoslamBSQXVU/ekcKLNAV75AtgTAk0iisBJpTsbkkAknwGhHoKZJ9dVjy
        vI4HJ6R8koGG2KP6F4LcEzCRg02VBsIEkjpk/zIqR396wiEG0ga2vbc9bCkRDF7VcweexxlvLEs+
        G5026EMNA6QZ18FrP7YdoMhBoEcKIBvIZHv2FgM4irmvCbA4TzUjOoyHBEs+P4W7nhKdjGvwfMg8
        Iq6lZBjwvuJYqahP8FCQcxnqNizFrIDWkqpfB6pUzm82NP6ad7ORSJd8MfIHtPcKzic6mAjDtif+
        0Mu26osSIGOQzpNW5kQYJltJwQHGGLw9LL72ondQ2FGql+o8d2a//9MYzRJXiVCFj69wLCg9lIpl
        Wi4hNKaMh9/uDre2ynJPrKadzT9OG2PR9rSyiUbT1XHLez0Ruv9rUvLRwLOr/f4fAAAA//8DAGNX
        pXiVAwAA
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90ad0ab9d87b32c8-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:12:15 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T22:12:13Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T22:12:15Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T22:12:12Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T22:12:13Z'
      request-id:
      - req_013uXxBMyFa4JzJSFwoKUY4x
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are helping
      an AI assistant learn by optimizing its prompt.\n\n## Background\n\nBelow is
      the current prompt:\n\n<current_prompt>\nYou are a quantum computing expert\n</current_prompt>\n\nThe
      developer provided these instructions regarding when/how to update:\n\n<update_instructions>\n\n</update_instructions>\n\n##
      Session Data\nAnalyze the session(s) (and any user feedback) below:\n\n<sessions>\n<session_e17bc176e5e247449b8edb241f790a9e>\n================================
      Human Message =================================\n\nExplain quantum computing\n\n==================================
      Ai Message ==================================\n\nQuantum computing uses...\n\nFeedback
      for session e17bc176e5e247449b8edb241f790a9e:\n<FEEDBACK>\nNeed better organization
      and concrete examples\n</FEEDBACK>\n</session_e17bc176e5e247449b8edb241f790a9e>\n</sessions>\n\n##
      Instructions\n\n1. Reflect on the agent''s performance on the given session(s)
      and identify any real failure modes (e.g., style mismatch, unclear or incomplete
      instructions, flawed reasoning, etc.).\n2. Recommend the minimal changes necessary
      to address any real failures. If the prompt performs perfectly, simply respond
      with the original prompt without making any changes.\n3. Retain any f-string
      variables in the existing prompt exactly as they are (e.g. {variable_name}).\n\nIFF
      changes are warranted, focus on actionable edits. Be concrete. Edits should
      be appropriate for the identified failure modes. For example, consider synthetic
      few-shot examples for style or clarifying decision boundaries, or adding or
      modifying explicit instructions for conditionals, rules, or logic fixes; or
      provide step-by-step reasoning guidelines for multi-step logic problems if the
      model is failing to reason appropriately."},{"role":"assistant","content":[{"type":"tool_use","name":"think","input":{"thought":"Let
      me analyze the agent''s performance and feedback for potential improvement areas:\n\n1.
      The original prompt is very minimal, just stating the role (\"quantum computing
      expert\") without any guidance on how to structure responses or what elements
      to include.\n\n2. The feedback highlights two specific issues:\n   - Need for
      better organization\n   - Lack of concrete examples\n\n3. The prompt should
      be enhanced to address these issues by:\n   - Adding clear instructions for
      structured explanations\n   - Mandating the inclusion of practical examples\n   -
      Specifying key elements that should be covered in responses\n   - Setting expectations
      for making complex concepts accessible"},"id":"toolu_01RPGPs6DfqgMyuKXUPq7Mi5"}]},{"role":"user","content":[{"type":"tool_result","content":"","tool_use_id":"toolu_01RPGPs6DfqgMyuKXUPq7Mi5","is_error":false}]},{"role":"assistant","content":[{"type":"tool_use","name":"critique","input":{"criticism":"The
      current prompt has several limitations:\n\n1. It''s too bare-bones and provides
      no guidance on response structure or content expectations\n2. It doesn''t emphasize
      the need for clear organization and examples, which were missing in the response\n3.
      It fails to establish the expected level of technical depth or audience adaptation\n4.
      There''s no instruction about making complex quantum concepts accessible to
      different audience levels\n5. It lacks direction on when/how to use analogies
      or real-world applications to aid understanding"},"id":"toolu_01RLSrLCJfceogjJgzBpJED6"}]},{"role":"user","content":[{"type":"tool_result","content":"","tool_use_id":"toolu_01RLSrLCJfceogjJgzBpJED6","is_error":false}]}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"tool","name":"OptimizedPromptOutput"},"tools":[{"name":"OptimizedPromptOutput","description":"Schema
      for the optimized prompt output.","input_schema":{"description":"Schema for
      the optimized prompt output.","properties":{"analysis":{"description":"First,
      analyze the current results and plan improvements to reconcile them.","title":"Analysis","type":"string"},"improved_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Finally,
      generate the full updated prompt to address the identified issues.   The prompt
      section being optimized contains no input f-string variables. Any brackets {{
      foo }} you emit will be escaped and not used.","title":"Improved Prompt"}},"required":["analysis","improved_prompt"],"title":"OptimizedPromptOutput","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA4xW224bNxD9lcG+tAFWqm95iN6cNGiDxGkSJ+jNhTAiR1rW3CEzw5W0MfzvBbkr
        yYoToE+CyLmec2a4d5Wz1axqdTU/OX0mzz/S1r1597M7f3revF+8efvH+7+qukp9pGxFqriiqq4k
        +HyAqk4Tcqrqqg2WfDWrjMfO0uR88nSigZnS5Ozk7OL05OysqisTOBGnavb33S5oCsHPO81RSyn5
        fzc/OX397oXevnz59tmn5t+rD5+vAl+/aPuqrhjb7PdbTK51X8i+k9DG9FuXYpfrcJx/Z3cVMvpe
        nVaz6jkqWQgMqSFQUnWBYUlkF2huAdlCJFkGaZENwc6xLuamEyFOEEsaYCKroG7FbukMcgLiJru1
        xGkKHxuCW+rBqXakkAKgtUKqgEKzG77h0ym8yVnDEjRJZ1InZEFIY2AlKFWkGz6bwpVTdbwCE9gI
        JQLaYhs9aalYCP1kE8RbwBi9M5hcYL3h8ym8DbDqnC3dBIYWb4c42Xtb4lFMCmhMxmLh6YYvpnC5
        UCoeSwiyQnZfSkj0sBRsaRPkNjfw8QEo+7K1CRuyGTAl2BDeMqmS1uAJbU6ewgFwoc8dacrHC0qJ
        5Chf6e5Rz1O4hDYIlS6EGmJ1a9qx4rQQkysYWqfC3eUrcAyWvFuTFAg8odSwIe8nB/TrknLMNBFn
        GqBt9MgDpBmQzx1y6tqSvUs7VjKK06y5NkpYk50P5VSz6s/QZcYBv+FJ20iSYNMEoK0hr4Dpf3CU
        W1ujuNApYGdd4crTmrxO4feGeCjacY7z/XprQL/BXndivN7BAH3o5LjxApfvYeNSM3KbAwYmTjkA
        AEzguThaQliTrB1tfrK0dOyy/3j/mnqI4ti4ot0g+1JGgw8PlMzow8qNk+MsdGxJ8orJIhrt3wma
        5Az6w0AE+WoIiuGLUaWaMBVZZ00kMg0HH1Z9BuBsCp8009S6bbbAGCWgaYYKxtE+rmLX93XCzGKG
        Rl0bvVs6ssf4LWiZJYvWPuDWpX7fSFhnqX57wPdY7LoJbcySOlA7SiQFMD6v4gzJgfBNloSQpzVy
        GmO8YuM7S99bHhnHLpOMmtOWXXKFjhM6zjnEpR4W/YF5GlRrw4YfS9dxCmDdKo961m9E2XP+Sffj
        CM2wIoauc8u5jyhhJcOmHl1eHtRdOCxmiaTVoVXHSYLtDNk9YMxkCha40JRVcwTaElvnHQo4S1ja
        vZjCdRdjkHTM40ByJJN3/p6lHQy/othNZmZP3480XU3rg8fxNJLok9H10q+CuNS0j3yvmyA/KODO
        oIZf8oo5OnuyZ9V2mqQ/5nIMZKSPKawEY9PXEIZXs5g8yS1/oJbaBcnwVGFMwxo4IGwppgYWD1/Q
        8opv026ihmU+Lu58gDELldO46ZyOe+prB5JpdX//T11pCnEuhBr4+IugXGh+LthQNePO+7rqykfI
        7G546ucp3BJrNTs9Pz2vK5OHd26ESovzY5OT3b0Q2sd3oXxD7E8uzp7e3/8HAAD//wMAjJZkvyEJ
        AAA=
    headers:
      CF-RAY:
      - 90ad0ad22d6a32c8-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:12:24 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T22:12:17Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T22:12:24Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T22:12:16Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T22:12:17Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_018Xkw7ieVhPqHhu8h1cXfnZ
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"Analyze the following
      sessions and decide which prompts \nought to be updated to improve the performance
      on future sessions:\n\n<session_0331a6cd0f6246c2a4e40543f33cd594>\n================================
      Human Message =================================\n\nTell me about renewable energy\n\n==================================
      Ai Message ==================================\n\nHere''s what I found in my
      research...\nTo summarize the key points about renewable energy...{}\n</session_0331a6cd0f6246c2a4e40543f33cd594>\n\nBelow
      are the prompts being optimized:\nresearch: Research the given topic thoroughly\nsummarize:
      Summarize the research findings\n\n\nReturn JSON with \"which\": [...], listing
      the names of prompts that need updates."}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"tool","name":"Classify"},"tools":[{"name":"Classify","description":"Classify
      which prompts merit updating for this conversation.","input_schema":{"description":"Classify
      which prompts merit updating for this conversation.","properties":{"reasoning":{"description":"Reasoning
      for which prompts to update.","title":"Reasoning","type":"string"},"which":{"description":"List
      of prompt names that should be updated. Must be among [''research'', ''summarize'']","items":{"type":"string"},"title":"Which","type":"array"}},"required":["reasoning","which"],"title":"Classify","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA5RTwY7bRgz9FYKXtoCs2u62QXTcApsUaYumKZDFxoExnqGlQSVSGXLW8Br+92Lk
        VbLZnHqcId/jIx95whiwwUHb7XJ1dfOqey9vjiIP13e3d3y7/n3QV1ihHUcqWaTqWsIKk/Tlw6lG
        NceGFQ4SqMcGfe9yoMVPi58XKsxki/VyfbVartdYoRc2YsPmw2kmNZF+m7WwTlLKO2+Xq5dXf7xt
        /evbFzd/3dzx2zc3+u4hZ6yQ3VBwv/al+v5YcDxmw+aEhy76DpsPmEjJJd9hhZqHwaX4QPixwkRO
        hSO32OC1UwogDNYRKKlGYdBODlzBTqyb/mcicBzgMxWMSYbRFJgogAnsCPIYnFGAHXmXlZoNb3hV
        w98zwQUyIRTiMCa5p4HYngAW8M+l5CisBGoumcIhWgcOWmJK0cMGX1Oi7xQOnTP4DfaSOdR1vcEp
        U7KVUvcxRG7B8RGct+z6L508evBYbqJiAbqPgdgTyB6skyS57b5gdlTYvHDI3i5TS8R0cLueoAhr
        j6XfdQ3vns3ofzXcyUHBMUT2Mow9Gf1Iw2jHx8kf4fsN1nV9Om/wh4L+U+buZmucFRdl/408iLyX
        NFziB6ePQ6Iwq5hLKPkpx40juaTF3c7dE+xd7CnALKyfGr4uezIvwwXxHGBSEkL2BAO5snv73M8m
        wF4SONg5jR4+ZUpHcLti4XP5FWhuW1IrPkzb+WT1ZLQ4xAcKE92OzCjBSGlqmD3VeD5/rFBNxu3l
        Ar6+uymg9CmXBcCGc99XmKdTb06X69qa/Eus2Pxyta7QO9/R1ieaxrn9OmM5xxO58G1Msj39Wb18
        cT7/BwAA//8DANDcTT2GBAAA
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90ad0b0c488332c6-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:12:30 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T22:12:26Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T22:12:30Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T22:12:25Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T22:12:26Z'
      request-id:
      - req_01Q76W7vJUqoB7KjhshXy5qP
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: "{\"max_tokens\":1024,\"messages\":[{\"role\":\"user\",\"content\":\"You
      are reviewing the performance of an AI assistant in a given interaction. \\n\\n##
      Instructions\\n\\nThe current prompt that was used for the session is provided
      below.\\n\\n<current_prompt>\\nResearch the given topic thoroughly\\n</current_prompt>\\n\\nThe
      developer provided the following instructions around when and how to update
      the prompt:\\n\\n<update_instructions>\\n\\n</update_instructions>\\n\\n## Session
      data\\n\\nAnalyze the following sessions (and any associated user feedback)
      (either conversations with a user or other work that was performed by the assistant):\\n\\n<sessions>\\n<session_9ef9c5bd24314ebaae1f4b01f996f903>\\n================================
      Human Message =================================\\n\\nTell me about renewable
      energy\\n\\n================================== Ai Message ==================================\\n\\nHere's
      what I found in my research...\\nTo summarize the key points about renewable
      energy...{}\\n</session_9ef9c5bd24314ebaae1f4b01f996f903>\\n</sessions>\\n\\ni##
      Feedback\\n\\nThe following feedback is provided for this session:\\n\\n<feedback>\\n\\n</feedback>\\n\\n##
      Task\\n\\nAnalyze the conversation, including the user\u2019s request and the
      assistant\u2019s response, and evaluate:\\n1. How effectively the assistant
      fulfilled the user\u2019s intent.\\n2. Where the assistant might have deviated
      from user expectations or the desired outcome.\\n3. Specific areas (correctness,
      completeness, style, tone, alignment, etc.) that need improvement.\\n\\nIf the
      prompt seems to do well, then no further action is needed. We ONLY recommend
      updates if there is evidence of failures.\\nWhen failures occur, we want to
      recommend the minimal required changes to fix the problem.\\n\\nFocus on actionable
      changes and be concrete.\\n\\n1. Summarize the key successes and failures in
      the assistant\u2019s response. \\n2. Identify which failure mode(s) best describe
      the issues (examples: style mismatch, unclear or incomplete instructions, flawed
      logic or reasoning, hallucination, etc.).\\n3. Based on these failure modes,
      recommend the most suitable edit strategy. For example, consider::\\n   - Use
      synthetic few-shot examples for style or clarifying decision boundaries.\\n
      \  - Use explicit instruction updates for conditionals, rules, or logic fixes.\\n
      \  - Provide step-by-step reasoning guidelines for multi-step logic problems.\\n4.
      Provide detailed, concrete suggestions for how to update the prompt accordingly.\\n\\nBut
      remember, the final updated prompt should only be changed if there is evidence
      of poor performance, and our recommendations should be minimally invasive.\\nDo
      not recommend generic changes that aren't clearly linked to failure modes.\\n\\nFirst
      think through the conversation and critique the current behavior.\\nIf you believe
      the prompt needs to further adapt to the target context, provide precise recommendations.\\nOtherwise,
      mark `warrants_adjustment` as False and respond with 'No recommendations.'\"}],\"model\":\"claude-3-5-sonnet-latest\",\"tool_choice\":{\"type\":\"any\"},\"tools\":[{\"name\":\"think\",\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"input_schema\":{\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"properties\":{\"thought\":{\"title\":\"Thought\",\"type\":\"string\"}},\"required\":[\"thought\"],\"title\":\"think\",\"type\":\"object\"}},{\"name\":\"critique\",\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"input_schema\":{\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"properties\":{\"criticism\":{\"title\":\"Criticism\",\"type\":\"string\"}},\"required\":[\"criticism\"],\"title\":\"critique\",\"type\":\"object\"}}]}"
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2RTy24bMQz8FUKXXtap7bRJsLemQQL0ESAvBG1dGLKW3lWspTYi5Xhj+N8LyXFS
        t0eRwyE5I66VrVSpWq6nw9Ht6vJ8fjR+nPeXP06P9Rd7cmpXV6pQ0neYUMisa1SFCt6lgGa2LJpE
        Far1FTpVKuN0rHBwOPg4YE+EMhgPxx9Gw/FYFcp4EiRR5a/1jlS8d9PIiTWPkt5xOhxdnMfVxf3D
        mf95cv11XJ/c68Or/k4VinSb6xpLi1REXRRVrpU0PtaNqFJ9Q4EWQZN2/TOCNAjG0xIDa7GeQFOV
        g6/jv2PoMMx9aDUZLCc0odEB3DEGuMbHiCwl3Ni2cwizKGAc6gBhm4G5D2ApF2/ZZz4KBCR80jOH
        gISh7ic0PoBPu4Zwjdx5Yizhu35IBMwRGfyMMSyxKic0eMWAZbBkfOov+L5z2mDjXYUBnqw0gG0n
        PcyCNgsUhvUmFV960EaidvCiOfwzZhf80lZYJfC5tg4rEA8VOrvEAJp6aFGTpXoeHQRk1ME0CXzm
        kYG8QIWtJ5agJWnsQ5KfkBk0Z3FswApmferUdpJEvU1OxBDSONsoTNT1C3e2pLZLJBDfWfPK6fqJ
        ShqI97DUdcRsoNNmwVmnz9kOXHVoJO/G2ZMKO2kydBZQV9KAn+8tchFtWpdwi3/TqdZkn9++SpeK
        aEud6m46NHZuzW7JFkl2FFuPkgoZKSEaiQFfBsraWqozMGCDxHaJf9uiNpvfhWLx3TSgZk/7F5IT
        nD4eGVQlRecKFfNRluvtKUzFL5BYlaPR6LhQRpsGpyZgpp/uQ4a7fBLo/5yPskd4NNps/gAAAP//
        AwBFheelMQQAAA==
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90ad0b2aaef64caf-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:12:34 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T22:12:31Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T22:12:34Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T22:12:30Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T22:12:31Z'
      request-id:
      - req_01NiA3i3tFqCLN72xn9cs7K8
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: "{\"max_tokens\":1024,\"messages\":[{\"role\":\"user\",\"content\":\"You
      are reviewing the performance of an AI assistant in a given interaction. \\n\\n##
      Instructions\\n\\nThe current prompt that was used for the session is provided
      below.\\n\\n<current_prompt>\\nSummarize the research findings\\n</current_prompt>\\n\\nThe
      developer provided the following instructions around when and how to update
      the prompt:\\n\\n<update_instructions>\\n\\n</update_instructions>\\n\\n## Session
      data\\n\\nAnalyze the following sessions (and any associated user feedback)
      (either conversations with a user or other work that was performed by the assistant):\\n\\n<sessions>\\n<session_30b329d0c7db411ca5772ce4b26ef369>\\n================================
      Human Message =================================\\n\\nTell me about renewable
      energy\\n\\n================================== Ai Message ==================================\\n\\nHere's
      what I found in my research...\\nTo summarize the key points about renewable
      energy...{}\\n</session_30b329d0c7db411ca5772ce4b26ef369>\\n</sessions>\\n\\ni##
      Feedback\\n\\nThe following feedback is provided for this session:\\n\\n<feedback>\\n\\n</feedback>\\n\\n##
      Task\\n\\nAnalyze the conversation, including the user\u2019s request and the
      assistant\u2019s response, and evaluate:\\n1. How effectively the assistant
      fulfilled the user\u2019s intent.\\n2. Where the assistant might have deviated
      from user expectations or the desired outcome.\\n3. Specific areas (correctness,
      completeness, style, tone, alignment, etc.) that need improvement.\\n\\nIf the
      prompt seems to do well, then no further action is needed. We ONLY recommend
      updates if there is evidence of failures.\\nWhen failures occur, we want to
      recommend the minimal required changes to fix the problem.\\n\\nFocus on actionable
      changes and be concrete.\\n\\n1. Summarize the key successes and failures in
      the assistant\u2019s response. \\n2. Identify which failure mode(s) best describe
      the issues (examples: style mismatch, unclear or incomplete instructions, flawed
      logic or reasoning, hallucination, etc.).\\n3. Based on these failure modes,
      recommend the most suitable edit strategy. For example, consider::\\n   - Use
      synthetic few-shot examples for style or clarifying decision boundaries.\\n
      \  - Use explicit instruction updates for conditionals, rules, or logic fixes.\\n
      \  - Provide step-by-step reasoning guidelines for multi-step logic problems.\\n4.
      Provide detailed, concrete suggestions for how to update the prompt accordingly.\\n\\nBut
      remember, the final updated prompt should only be changed if there is evidence
      of poor performance, and our recommendations should be minimally invasive.\\nDo
      not recommend generic changes that aren't clearly linked to failure modes.\\n\\nFirst
      think through the conversation and critique the current behavior.\\nIf you believe
      the prompt needs to further adapt to the target context, provide precise recommendations.\\nOtherwise,
      mark `warrants_adjustment` as False and respond with 'No recommendations.'\"}],\"model\":\"claude-3-5-sonnet-latest\",\"tool_choice\":{\"type\":\"any\"},\"tools\":[{\"name\":\"think\",\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"input_schema\":{\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"properties\":{\"thought\":{\"title\":\"Thought\",\"type\":\"string\"}},\"required\":[\"thought\"],\"title\":\"think\",\"type\":\"object\"}},{\"name\":\"critique\",\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"input_schema\":{\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"properties\":{\"criticism\":{\"title\":\"Criticism\",\"type\":\"string\"}},\"required\":[\"criticism\"],\"title\":\"critique\",\"type\":\"object\"}}]}"
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2RUwY7bNhD9lQEvvtgL28k2Wd8WDYosulikSHuqC2NEjiTuUkMtZ2hHNfzvAWVb
        2zRHcWYe37z3xKPxzmxMJ81uuXpk7p++/Pr06qpn9+G2vnuMHz8+m7nRoafSRSLYkJmbFEM5QBEv
        iqxmbrroKJiNsQGzo8W7xe1CIjPpYr1cv18t12szNzayEqvZ/H28gmqMYZeloI5UynfeLVf3n6sP
        1dc/1kN39/Ll7t43v3fPn34xc8PYjXOt55cyxH1WszkabWNuWjUb80gKHQEyhuFfAm0JhER8ZEB2
        4B2x+nqAFxrAi2SSzZa3vLqBP1uCaamZQCLpIwtBoj1hEBDaU8IANnn1FgP0KVaBuoKwgAcFUUwq
        cPDawtZ8pkQzgUOLCg9Qx1yuZ+iGgkyYbHtzc7M1ILlpSNRzA77c2ydSYle+NUKLewIXmaapclnh
        OvHzAiRS9sIQBqCu1+FM4jmLQh/QUhuDowRK3xS25njamgLzFAGtZgzguY6pQx11qmJWSMR0wCoQ
        EFNqBjhg4Rb33pH7iUONPkjhe+kA5AE6Qvbc1DnAxXyICfYYMhXN12fNbU6plPoUu76w+5q7DpO/
        uHddG2o/iiJbA9j3hEmuBqB6CxVZzEJXL1AkdyQFIo0S9YkW9M2fhZ5ANYJcrztPzsoaEfbYZBoj
        4yIJz3TarMneIVuCyNDGw9kkdoHA+URW4TUXOyPLhUqHA1RFRhtzwmY0tiW4fyijNVbJW1QCG9B3
        clGfI5/ZFmXenN/yu7NoRe+caFJizGbJ7wg9xXhU4zf0gdz/zZFcjS1+/2Zj6f5LyEHnJRCOGQzI
        TcaGpli8pfCTd8BRC4kU++RRKQyAziWSM5EslGYCogl902od0wGTmxQyp9M/cyMa+10ilMg/vglj
        Qeg1E1syG84hzE0en6HN8fzz7zS+EIvZrFar93Nj0ba0s4nGJO9+bFle64nQ/VyLWf97sl7fnk7f
        AQAA//8DAAJP0osjBQAA
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90ad0b2aaef44caf-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:12:35 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T22:12:31Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T22:12:35Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T22:12:30Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T22:12:31Z'
      request-id:
      - req_01MVAjouxhWsVRCC2GBL4qpm
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: "{\"max_tokens\":1024,\"messages\":[{\"role\":\"user\",\"content\":\"You
      are reviewing the performance of an AI assistant in a given interaction. \\n\\n##
      Instructions\\n\\nThe current prompt that was used for the session is provided
      below.\\n\\n<current_prompt>\\nResearch the given topic thoroughly\\n</current_prompt>\\n\\nThe
      developer provided the following instructions around when and how to update
      the prompt:\\n\\n<update_instructions>\\n\\n</update_instructions>\\n\\n## Session
      data\\n\\nAnalyze the following sessions (and any associated user feedback)
      (either conversations with a user or other work that was performed by the assistant):\\n\\n<sessions>\\n<session_9ef9c5bd24314ebaae1f4b01f996f903>\\n================================
      Human Message =================================\\n\\nTell me about renewable
      energy\\n\\n================================== Ai Message ==================================\\n\\nHere's
      what I found in my research...\\nTo summarize the key points about renewable
      energy...{}\\n</session_9ef9c5bd24314ebaae1f4b01f996f903>\\n</sessions>\\n\\ni##
      Feedback\\n\\nThe following feedback is provided for this session:\\n\\n<feedback>\\n\\n</feedback>\\n\\n##
      Task\\n\\nAnalyze the conversation, including the user\u2019s request and the
      assistant\u2019s response, and evaluate:\\n1. How effectively the assistant
      fulfilled the user\u2019s intent.\\n2. Where the assistant might have deviated
      from user expectations or the desired outcome.\\n3. Specific areas (correctness,
      completeness, style, tone, alignment, etc.) that need improvement.\\n\\nIf the
      prompt seems to do well, then no further action is needed. We ONLY recommend
      updates if there is evidence of failures.\\nWhen failures occur, we want to
      recommend the minimal required changes to fix the problem.\\n\\nFocus on actionable
      changes and be concrete.\\n\\n1. Summarize the key successes and failures in
      the assistant\u2019s response. \\n2. Identify which failure mode(s) best describe
      the issues (examples: style mismatch, unclear or incomplete instructions, flawed
      logic or reasoning, hallucination, etc.).\\n3. Based on these failure modes,
      recommend the most suitable edit strategy. For example, consider::\\n   - Use
      synthetic few-shot examples for style or clarifying decision boundaries.\\n
      \  - Use explicit instruction updates for conditionals, rules, or logic fixes.\\n
      \  - Provide step-by-step reasoning guidelines for multi-step logic problems.\\n4.
      Provide detailed, concrete suggestions for how to update the prompt accordingly.\\n\\nBut
      remember, the final updated prompt should only be changed if there is evidence
      of poor performance, and our recommendations should be minimally invasive.\\nDo
      not recommend generic changes that aren't clearly linked to failure modes.\\n\\nFirst
      think through the conversation and critique the current behavior.\\nIf you believe
      the prompt needs to further adapt to the target context, provide precise recommendations.\\nOtherwise,
      mark `warrants_adjustment` as False and respond with 'No recommendations.'\"},{\"role\":\"assistant\",\"content\":[{\"type\":\"tool_use\",\"name\":\"think\",\"input\":{\"thought\":\"Let
      me analyze the conversation and the assistant's performance:\\n\\n1. User Request:
      Simple but clear request for information about renewable energy\\n2. Assistant
      Response: Major issues observed:\\n- Response is incomplete/placeholder with
      empty brackets {}\\n- No actual content or information provided\\n- Failed to
      deliver any meaningful research\\n- Does not demonstrate thoroughness as required
      by prompt\\n\\nThe current prompt \\\"Research the given topic thoroughly\\\"
      is too vague and lacks:\\n- Clear expectations for depth and breadth of research\\n-
      Guidelines for content organization and presentation\\n- Specific requirements
      for completeness\\n- Structure for delivering comprehensive information\"},\"id\":\"toolu_01GFuxGWjDoZ8RK2g8Wa3QyU\"}]},{\"role\":\"user\",\"content\":[{\"type\":\"tool_result\",\"content\":\"\",\"tool_use_id\":\"toolu_01GFuxGWjDoZ8RK2g8Wa3QyU\",\"is_error\":false}]}],\"model\":\"claude-3-5-sonnet-latest\",\"tool_choice\":{\"type\":\"any\"},\"tools\":[{\"name\":\"think\",\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"input_schema\":{\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"properties\":{\"thought\":{\"title\":\"Thought\",\"type\":\"string\"}},\"required\":[\"thought\"],\"title\":\"think\",\"type\":\"object\"}},{\"name\":\"critique\",\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"input_schema\":{\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"properties\":{\"criticism\":{\"title\":\"Criticism\",\"type\":\"string\"}},\"required\":[\"criticism\"],\"title\":\"critique\",\"type\":\"object\"}},{\"name\":\"recommend\",\"description\":\"Decides
      whether a prompt should be adjusted.\\nIf warrants_adjustment is True, we incorporate
      recommended changes.\\nIf not, we respond 'No recommendations.'\",\"input_schema\":{\"description\":\"Decides
      whether a prompt should be adjusted.\\nIf warrants_adjustment is True, we incorporate
      recommended changes.\\nIf not, we respond 'No recommendations.'\",\"properties\":{\"warrants_adjustment\":{\"title\":\"Warrants
      Adjustment\",\"type\":\"boolean\"},\"hypotheses\":{\"anyOf\":[{\"type\":\"string\"},{\"type\":\"null\"}],\"title\":\"Hypotheses\"},\"full_recommendations\":{\"anyOf\":[{\"type\":\"string\"},{\"type\":\"null\"}],\"title\":\"Full
      Recommendations\"}},\"required\":[\"warrants_adjustment\"],\"title\":\"recommend\",\"type\":\"object\"}}]}"
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2STTU/bQBCG/8poL1wclA9QK99QCoVSEFKqXuoqWtZjext7xuzMElKU/16tQ9LQ
        3uz5eOeZebWvxpcmN53Uy/Hknm71Mpy9xF9Xd+vy+7V9weDPTGZ002OqQhFbo8lM4DYFrIgXtaQm
        Mx2X2JrcuNbGEkez0flImAh1NB1Pzybj6dRkxjEpkpr8x+teVJnbZZSkOqCk/7gcT75gmC2e4vXn
        +cP6Yr64ul3U8/qbyQzZLvW54NU/xaGP+qgmf93FnJfO5OYWN1BZ38aAAp5AG4QD74lAQOmZBPOC
        Cpqcwpy7vkVFQhG42jUWNDrEobVuBVyBdRptC54qDp1Vz5TKLrteN9C31mHDbYnhMCBl7xnw2ZdI
        DgcJ2qQ02uAaeERPNTimMjrFMuFMT2GhITqNAY9Z7hk41Jb8byyhTwqkA0ES/Qfozosk4RVuwHHX
        MyGpDNNBGw4c6+aIsaDZKdyQDGOT4kXZYBiAjwDSJ5agDBW3La+Hqz5a8Q78Ua8yFOaw4H5auynM
        2xYldpzqD/DvLoJVxUET07cGwcUQkBT6wF2v4JObEqvKO5/Cj+hsFASveRK/EVBm6Dz5zrZgqYRn
        W8eB/qt1KwHp0fnKO6ijL+3gCAG+9JiuDxy1jwq7U6amT4xCJwolVp4Q1o3VZJao16goUJj9foU5
        rJAaHwInywWIoQq2wzWHVRLee5jcSXxvRqbfIw/NdvszM6LcLwNaYXr/VoaE4FNMFpmcYttmJg7P
        M3/dvYil8gpJTD45n40z46xrcOkCDvLL9yWHfEBb/p/bXeWv4IeP2+0fAAAA//8DADsfOqE7BAAA
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90ad0b47be4c6992-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:12:38 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '399000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T22:12:36Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T22:12:38Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T22:12:35Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '479000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T22:12:36Z'
      request-id:
      - req_01FkyC3edsZAs95jGHrEyioi
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: "{\"max_tokens\":1024,\"messages\":[{\"role\":\"user\",\"content\":\"You
      are reviewing the performance of an AI assistant in a given interaction. \\n\\n##
      Instructions\\n\\nThe current prompt that was used for the session is provided
      below.\\n\\n<current_prompt>\\nSummarize the research findings\\n</current_prompt>\\n\\nThe
      developer provided the following instructions around when and how to update
      the prompt:\\n\\n<update_instructions>\\n\\n</update_instructions>\\n\\n## Session
      data\\n\\nAnalyze the following sessions (and any associated user feedback)
      (either conversations with a user or other work that was performed by the assistant):\\n\\n<sessions>\\n<session_30b329d0c7db411ca5772ce4b26ef369>\\n================================
      Human Message =================================\\n\\nTell me about renewable
      energy\\n\\n================================== Ai Message ==================================\\n\\nHere's
      what I found in my research...\\nTo summarize the key points about renewable
      energy...{}\\n</session_30b329d0c7db411ca5772ce4b26ef369>\\n</sessions>\\n\\ni##
      Feedback\\n\\nThe following feedback is provided for this session:\\n\\n<feedback>\\n\\n</feedback>\\n\\n##
      Task\\n\\nAnalyze the conversation, including the user\u2019s request and the
      assistant\u2019s response, and evaluate:\\n1. How effectively the assistant
      fulfilled the user\u2019s intent.\\n2. Where the assistant might have deviated
      from user expectations or the desired outcome.\\n3. Specific areas (correctness,
      completeness, style, tone, alignment, etc.) that need improvement.\\n\\nIf the
      prompt seems to do well, then no further action is needed. We ONLY recommend
      updates if there is evidence of failures.\\nWhen failures occur, we want to
      recommend the minimal required changes to fix the problem.\\n\\nFocus on actionable
      changes and be concrete.\\n\\n1. Summarize the key successes and failures in
      the assistant\u2019s response. \\n2. Identify which failure mode(s) best describe
      the issues (examples: style mismatch, unclear or incomplete instructions, flawed
      logic or reasoning, hallucination, etc.).\\n3. Based on these failure modes,
      recommend the most suitable edit strategy. For example, consider::\\n   - Use
      synthetic few-shot examples for style or clarifying decision boundaries.\\n
      \  - Use explicit instruction updates for conditionals, rules, or logic fixes.\\n
      \  - Provide step-by-step reasoning guidelines for multi-step logic problems.\\n4.
      Provide detailed, concrete suggestions for how to update the prompt accordingly.\\n\\nBut
      remember, the final updated prompt should only be changed if there is evidence
      of poor performance, and our recommendations should be minimally invasive.\\nDo
      not recommend generic changes that aren't clearly linked to failure modes.\\n\\nFirst
      think through the conversation and critique the current behavior.\\nIf you believe
      the prompt needs to further adapt to the target context, provide precise recommendations.\\nOtherwise,
      mark `warrants_adjustment` as False and respond with 'No recommendations.'\"},{\"role\":\"assistant\",\"content\":[{\"type\":\"tool_use\",\"name\":\"think\",\"input\":{\"thought\":\"Let
      me analyze the session and identify key issues:\\n\\n1. The assistant's response
      reveals several critical problems:\\n- It starts with \\\"Here's what I found
      in my research...\\\" suggesting it's pretending to have done research\\n- The
      response is essentially empty with just placeholder text \\\"{}\\\"\\n- No actual
      information about renewable energy was provided\\n- The response fails to provide
      any meaningful content or value\\n\\n2. The current prompt \\\"Summarize the
      research findings\\\" appears problematic because:\\n- It assumes there is pre-existing
      research to summarize\\n- It's too vague and doesn't provide guidance on how
      to handle direct questions\\n- It may be encouraging the AI to fabricate claims
      about non-existent research\\n\\n3. The failure appears severe as the assistant:\\n-
      Failed to provide any substantive response\\n- Used misleading language about
      research\\n- Did not appropriately address the user's straightforward question\"},\"id\":\"toolu_01AHb7bSQ2ym9kP9AigKmjD6\"}]},{\"role\":\"user\",\"content\":[{\"type\":\"tool_result\",\"content\":\"\",\"tool_use_id\":\"toolu_01AHb7bSQ2ym9kP9AigKmjD6\",\"is_error\":false}]}],\"model\":\"claude-3-5-sonnet-latest\",\"tool_choice\":{\"type\":\"any\"},\"tools\":[{\"name\":\"think\",\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"input_schema\":{\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"properties\":{\"thought\":{\"title\":\"Thought\",\"type\":\"string\"}},\"required\":[\"thought\"],\"title\":\"think\",\"type\":\"object\"}},{\"name\":\"critique\",\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"input_schema\":{\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"properties\":{\"criticism\":{\"title\":\"Criticism\",\"type\":\"string\"}},\"required\":[\"criticism\"],\"title\":\"critique\",\"type\":\"object\"}},{\"name\":\"recommend\",\"description\":\"Decides
      whether a prompt should be adjusted.\\nIf warrants_adjustment is True, we incorporate
      recommended changes.\\nIf not, we respond 'No recommendations.'\",\"input_schema\":{\"description\":\"Decides
      whether a prompt should be adjusted.\\nIf warrants_adjustment is True, we incorporate
      recommended changes.\\nIf not, we respond 'No recommendations.'\",\"properties\":{\"warrants_adjustment\":{\"title\":\"Warrants
      Adjustment\",\"type\":\"boolean\"},\"hypotheses\":{\"anyOf\":[{\"type\":\"string\"},{\"type\":\"null\"}],\"title\":\"Hypotheses\"},\"full_recommendations\":{\"anyOf\":[{\"type\":\"string\"},{\"type\":\"null\"}],\"title\":\"Full
      Recommendations\"}},\"required\":[\"warrants_adjustment\"],\"title\":\"recommend\",\"type\":\"object\"}}]}"
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2RU227bOBD9lQGfZdd2mqLRW7NosbstirbJXrKbhTGmRtI05FDhkHbVIP++oHxB
        jT5qLmfOOTPUk+HG1MZrt14sP1//9f7mH3v3/c/f5fXl33ihH/8Y70xl0jhQqSJV7MhUJgZXAqjK
        mlCSqYwPDTlTG+swNzS7mF3ONIhQmq0Wq5fLxWplKmODJJJk6n+fjqApBLfOWlAnKuU7rxfLqy/D
        zS9347V/t/3Kb15dv7399OrDF1MZQV/6bOTEj3nqkyEnUz/tY5bVm9rc9gQPNEKL7HIkKPwUuCFJ
        3DI1gJHqe7mX5RzeZWnQkyR0MMTghwSe1WOyfQ0F6BC8NzfZe4z8nSD1BJGUMNoeWpaGpdN7A6xg
        gx8cJXJjgUHHnVADO0791IU2ZXSQlcCiEoQWUHRHkaWDhiPZVJIRHjNp4iA6LzxXc/gVo2+zgw31
        uOUQgaXJlgrzPU+bYyRJJxE4woaAxIYcsSv4hcCb3yAFaHET2WIisA7ZK+Am5HTSVMGuZ9uDDdk1
        4Aib0tSjc9myYOEFKA206JSApQ3RT9GJ7MUcblEfwAZps3KQPb/TwYASeT2kyzKm2bueUk8ROIH2
        09wNgR4sL+yHSDP6xprKx8n9rc6L4i2XHUB78PcHSsBSqocgSkXFubEv5/DWD2l8wXLc3Kl6T/vU
        u0MFUi03hM6NQKWvmm5sMjcceBCgjLBFl3HjfnbntqfimWomBc1dR5qmzRz2JkSNgnIn3LItdkXa
        crHxMGKg6EbocpmUznxl+cEKtDZHTFRBT24ol3NUogXoeGSRSefm+fm/ymgKwzoSapDztzkllB4z
        iSVTS3auMnn6HdRP+xe4TuGBRE29vLxaVsai7WltI0261+cli2M+EjY/50JOZ4BXi+fn/wEAAP//
        AwCceUc+qwQAAA==
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90ad0b4bcc3832d2-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:12:40 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T22:12:36Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T22:12:40Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T22:12:35Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T22:12:36Z'
      request-id:
      - req_01Gs85r8WvTNamLphmjwtSUb
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: "{\"max_tokens\":1024,\"messages\":[{\"role\":\"user\",\"content\":\"You
      are reviewing the performance of an AI assistant in a given interaction. \\n\\n##
      Instructions\\n\\nThe current prompt that was used for the session is provided
      below.\\n\\n<current_prompt>\\nResearch the given topic thoroughly\\n</current_prompt>\\n\\nThe
      developer provided the following instructions around when and how to update
      the prompt:\\n\\n<update_instructions>\\n\\n</update_instructions>\\n\\n## Session
      data\\n\\nAnalyze the following sessions (and any associated user feedback)
      (either conversations with a user or other work that was performed by the assistant):\\n\\n<sessions>\\n<session_9ef9c5bd24314ebaae1f4b01f996f903>\\n================================
      Human Message =================================\\n\\nTell me about renewable
      energy\\n\\n================================== Ai Message ==================================\\n\\nHere's
      what I found in my research...\\nTo summarize the key points about renewable
      energy...{}\\n</session_9ef9c5bd24314ebaae1f4b01f996f903>\\n</sessions>\\n\\ni##
      Feedback\\n\\nThe following feedback is provided for this session:\\n\\n<feedback>\\n\\n</feedback>\\n\\n##
      Task\\n\\nAnalyze the conversation, including the user\u2019s request and the
      assistant\u2019s response, and evaluate:\\n1. How effectively the assistant
      fulfilled the user\u2019s intent.\\n2. Where the assistant might have deviated
      from user expectations or the desired outcome.\\n3. Specific areas (correctness,
      completeness, style, tone, alignment, etc.) that need improvement.\\n\\nIf the
      prompt seems to do well, then no further action is needed. We ONLY recommend
      updates if there is evidence of failures.\\nWhen failures occur, we want to
      recommend the minimal required changes to fix the problem.\\n\\nFocus on actionable
      changes and be concrete.\\n\\n1. Summarize the key successes and failures in
      the assistant\u2019s response. \\n2. Identify which failure mode(s) best describe
      the issues (examples: style mismatch, unclear or incomplete instructions, flawed
      logic or reasoning, hallucination, etc.).\\n3. Based on these failure modes,
      recommend the most suitable edit strategy. For example, consider::\\n   - Use
      synthetic few-shot examples for style or clarifying decision boundaries.\\n
      \  - Use explicit instruction updates for conditionals, rules, or logic fixes.\\n
      \  - Provide step-by-step reasoning guidelines for multi-step logic problems.\\n4.
      Provide detailed, concrete suggestions for how to update the prompt accordingly.\\n\\nBut
      remember, the final updated prompt should only be changed if there is evidence
      of poor performance, and our recommendations should be minimally invasive.\\nDo
      not recommend generic changes that aren't clearly linked to failure modes.\\n\\nFirst
      think through the conversation and critique the current behavior.\\nIf you believe
      the prompt needs to further adapt to the target context, provide precise recommendations.\\nOtherwise,
      mark `warrants_adjustment` as False and respond with 'No recommendations.'\"},{\"role\":\"assistant\",\"content\":[{\"type\":\"tool_use\",\"name\":\"think\",\"input\":{\"thought\":\"Let
      me analyze the conversation and the assistant's performance:\\n\\n1. User Request:
      Simple but clear request for information about renewable energy\\n2. Assistant
      Response: Major issues observed:\\n- Response is incomplete/placeholder with
      empty brackets {}\\n- No actual content or information provided\\n- Failed to
      deliver any meaningful research\\n- Does not demonstrate thoroughness as required
      by prompt\\n\\nThe current prompt \\\"Research the given topic thoroughly\\\"
      is too vague and lacks:\\n- Clear expectations for depth and breadth of research\\n-
      Guidelines for content organization and presentation\\n- Specific requirements
      for completeness\\n- Structure for delivering comprehensive information\"},\"id\":\"toolu_01GFuxGWjDoZ8RK2g8Wa3QyU\"}]},{\"role\":\"user\",\"content\":[{\"type\":\"tool_result\",\"content\":\"\",\"tool_use_id\":\"toolu_01GFuxGWjDoZ8RK2g8Wa3QyU\",\"is_error\":false}]},{\"role\":\"assistant\",\"content\":[{\"type\":\"tool_use\",\"name\":\"critique\",\"input\":{\"criticism\":\"Key
      failures in the assistant's response:\\n\\n1. Completeness Failure\\n- Complete
      lack of actual information\\n- Empty placeholder response\\n- No evidence of
      any research being conducted\\n\\n2. Structure Failure\\n- No organized presentation
      of information\\n- Missing key components of a thorough response\\n\\n3. Instruction
      Adherence Failure\\n- Failed to follow the basic instruction to \\\"research
      thoroughly\\\"\\n- No demonstration of any research effort\\n\\nThe current
      prompt is insufficient because it:\\n- Is too minimal and vague\\n- Lacks specific
      guidance on expected output format\\n- Doesn't define what constitutes \\\"thorough\\\"
      research\\n- Provides no framework for organizing and presenting information\"},\"id\":\"toolu_01Jer3SquHGCPwACSFKSgCgT\"}]},{\"role\":\"user\",\"content\":[{\"type\":\"tool_result\",\"content\":\"\",\"tool_use_id\":\"toolu_01Jer3SquHGCPwACSFKSgCgT\",\"is_error\":false}]}],\"model\":\"claude-3-5-sonnet-latest\",\"tool_choice\":{\"type\":\"any\"},\"tools\":[{\"name\":\"think\",\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"input_schema\":{\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"properties\":{\"thought\":{\"title\":\"Thought\",\"type\":\"string\"}},\"required\":[\"thought\"],\"title\":\"think\",\"type\":\"object\"}},{\"name\":\"critique\",\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"input_schema\":{\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"properties\":{\"criticism\":{\"title\":\"Criticism\",\"type\":\"string\"}},\"required\":[\"criticism\"],\"title\":\"critique\",\"type\":\"object\"}},{\"name\":\"recommend\",\"description\":\"Decides
      whether a prompt should be adjusted.\\nIf warrants_adjustment is True, we incorporate
      recommended changes.\\nIf not, we respond 'No recommendations.'\",\"input_schema\":{\"description\":\"Decides
      whether a prompt should be adjusted.\\nIf warrants_adjustment is True, we incorporate
      recommended changes.\\nIf not, we respond 'No recommendations.'\",\"properties\":{\"warrants_adjustment\":{\"title\":\"Warrants
      Adjustment\",\"type\":\"boolean\"},\"hypotheses\":{\"anyOf\":[{\"type\":\"string\"},{\"type\":\"null\"}],\"title\":\"Hypotheses\"},\"full_recommendations\":{\"anyOf\":[{\"type\":\"string\"},{\"type\":\"null\"}],\"title\":\"Full
      Recommendations\"}},\"required\":[\"warrants_adjustment\"],\"title\":\"recommend\",\"type\":\"object\"}}]}"
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA3xVXW8bNxD8Kws+nwRLchNUb63hGEVr1HViBGlVCDS50tHlLWlyeYpq+L8XyzvZ
        Emz08cjZj5md5T0pZ9VSdXm7PpvdfbtNH7tuG+ZXxf55fWUYP91sVKN4H1FQmLPeompUCl4OdM4u
        syZWjeqCRa+WynhdLE4Wkx8mORAhT+Zn8/PZ2XyuGmUCMRKr5V9Ph6Qcgl+XLFlrK/Jd1mezxezb
        w5dw/bC4udx+irdfub+a5d9Uo0h3EpfQhK5DshJIsbBaPqmdTkkT57W2DyVzV2txKtiodh8Dt5gx
        q6X60iLEFLrIQIg2Q3ZbchtnNDG4LqbQowQDB0DKJeFyRbMpXHjUCbbFWfSOMMMmJEiYUSfTgsXI
        7YrmU/jMqRguCa3cxkAZBdppXtFiCp8jGqkGCR+LS7XUkMuELnpkJMx5RedT+KNo73gPIrPVyQ4w
        R0M2FwiklR7TfkUrEl4b7XxJCDKQDI6sM5oRuMXKVeKXK5rA5ffonXEMjnJtV5KVaDVjFt4WN44k
        LqRQtu3Q0eSY2lsdBqYhbTW5f2t7EjKo9vgukxfxNFmI8kVcA1WjNsX79cuc66kM7672WAmNM+Sw
        FPYr9bVFeknpaAsaOERnGtgE78MOqgMgM8ZcQ2SmgWwxXKVP2CJl1+NrX4Fqpa3rkYZkpxOGfShH
        3DmAI+OLFccAwAR+AlP5O+IU7Kgzh5p1zFdxv+IeOu0IYnBiBxHEBDIYOY+QX7oYkuwbWGTt/ADC
        71pMcwBdlJSwQnr0IQ7eCgl0lHkPKo7QW/TYS7osmmd2piKtZg07kXKMufcoYi2mcFmX4ZTzgehF
        6DFl2BSyWqpqDzpHNFJ+84buTQq9E4dqY0qSgQqXEiccJnW+Rx4/0B+EzZAP+3OgDtVJ2k92IXn7
        HtVr7Yi1owx6nIeUG50qW+HDboTeZekqxhRictJJi9o62tYqGesAx231Ojmum3c+hZ9xExLWmfki
        AQ30mNxmD9xqFs2g1f2rL6xNmDPaKo2R0P+Ra+RuIZcoJhBzn5hAxCSDI/z3F2LHT4UPW2e09/vT
        GVjRZHx4arKXmB5Bhto73AnJm2E/a3PHeR0dVG0gv74PA2Bg36KPGUoWhxSymOozAPeBW7jX2Zla
        eGAkDb2jxHSl1PPz343KHOI6oc6BTn8g9SLjYxEl1JKK940q9Z+1fBr+EmsO/6A8I7OP5z82ymjT
        4tokrETWp5Czw31Cbd/ehcLHJ4sPH56f/wMAAP//AwALeqYDUAcAAA==
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90ad0b5e9f496992-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:12:45 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T22:12:40Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T22:12:45Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T22:12:38Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T22:12:40Z'
      request-id:
      - req_01WEE66T9Y87HFizubMAtcCN
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: "{\"max_tokens\":1024,\"messages\":[{\"role\":\"user\",\"content\":\"You
      are reviewing the performance of an AI assistant in a given interaction. \\n\\n##
      Instructions\\n\\nThe current prompt that was used for the session is provided
      below.\\n\\n<current_prompt>\\nSummarize the research findings\\n</current_prompt>\\n\\nThe
      developer provided the following instructions around when and how to update
      the prompt:\\n\\n<update_instructions>\\n\\n</update_instructions>\\n\\n## Session
      data\\n\\nAnalyze the following sessions (and any associated user feedback)
      (either conversations with a user or other work that was performed by the assistant):\\n\\n<sessions>\\n<session_30b329d0c7db411ca5772ce4b26ef369>\\n================================
      Human Message =================================\\n\\nTell me about renewable
      energy\\n\\n================================== Ai Message ==================================\\n\\nHere's
      what I found in my research...\\nTo summarize the key points about renewable
      energy...{}\\n</session_30b329d0c7db411ca5772ce4b26ef369>\\n</sessions>\\n\\ni##
      Feedback\\n\\nThe following feedback is provided for this session:\\n\\n<feedback>\\n\\n</feedback>\\n\\n##
      Task\\n\\nAnalyze the conversation, including the user\u2019s request and the
      assistant\u2019s response, and evaluate:\\n1. How effectively the assistant
      fulfilled the user\u2019s intent.\\n2. Where the assistant might have deviated
      from user expectations or the desired outcome.\\n3. Specific areas (correctness,
      completeness, style, tone, alignment, etc.) that need improvement.\\n\\nIf the
      prompt seems to do well, then no further action is needed. We ONLY recommend
      updates if there is evidence of failures.\\nWhen failures occur, we want to
      recommend the minimal required changes to fix the problem.\\n\\nFocus on actionable
      changes and be concrete.\\n\\n1. Summarize the key successes and failures in
      the assistant\u2019s response. \\n2. Identify which failure mode(s) best describe
      the issues (examples: style mismatch, unclear or incomplete instructions, flawed
      logic or reasoning, hallucination, etc.).\\n3. Based on these failure modes,
      recommend the most suitable edit strategy. For example, consider::\\n   - Use
      synthetic few-shot examples for style or clarifying decision boundaries.\\n
      \  - Use explicit instruction updates for conditionals, rules, or logic fixes.\\n
      \  - Provide step-by-step reasoning guidelines for multi-step logic problems.\\n4.
      Provide detailed, concrete suggestions for how to update the prompt accordingly.\\n\\nBut
      remember, the final updated prompt should only be changed if there is evidence
      of poor performance, and our recommendations should be minimally invasive.\\nDo
      not recommend generic changes that aren't clearly linked to failure modes.\\n\\nFirst
      think through the conversation and critique the current behavior.\\nIf you believe
      the prompt needs to further adapt to the target context, provide precise recommendations.\\nOtherwise,
      mark `warrants_adjustment` as False and respond with 'No recommendations.'\"},{\"role\":\"assistant\",\"content\":[{\"type\":\"tool_use\",\"name\":\"think\",\"input\":{\"thought\":\"Let
      me analyze the session and identify key issues:\\n\\n1. The assistant's response
      reveals several critical problems:\\n- It starts with \\\"Here's what I found
      in my research...\\\" suggesting it's pretending to have done research\\n- The
      response is essentially empty with just placeholder text \\\"{}\\\"\\n- No actual
      information about renewable energy was provided\\n- The response fails to provide
      any meaningful content or value\\n\\n2. The current prompt \\\"Summarize the
      research findings\\\" appears problematic because:\\n- It assumes there is pre-existing
      research to summarize\\n- It's too vague and doesn't provide guidance on how
      to handle direct questions\\n- It may be encouraging the AI to fabricate claims
      about non-existent research\\n\\n3. The failure appears severe as the assistant:\\n-
      Failed to provide any substantive response\\n- Used misleading language about
      research\\n- Did not appropriately address the user's straightforward question\"},\"id\":\"toolu_01AHb7bSQ2ym9kP9AigKmjD6\"}]},{\"role\":\"user\",\"content\":[{\"type\":\"tool_result\",\"content\":\"\",\"tool_use_id\":\"toolu_01AHb7bSQ2ym9kP9AigKmjD6\",\"is_error\":false}]},{\"role\":\"assistant\",\"content\":[{\"type\":\"tool_use\",\"name\":\"critique\",\"input\":{\"criticism\":\"The
      key failure modes identified are:\\n\\n1. Fundamental prompt mismatch: The prompt
      \\\"Summarize the research findings\\\" is completely misaligned with the actual
      use case of answering direct user questions.\\n\\n2. Harmful behavior inducement:
      The current prompt may be encouraging the AI to fabricate claims about research,
      which could lead to hallucination and false information.\\n\\n3. Task confusion:
      The assistant seems confused about whether it should be summarizing pre-existing
      research vs. providing factual information in response to questions.\\n\\n4.
      Empty/incomplete response: The response was essentially empty, failing to provide
      any valuable information.\\n\\nThese issues suggest the prompt needs significant
      revision to properly guide the assistant in providing accurate, helpful responses
      to user queries.\"},\"id\":\"toolu_019RpSCYyBmFvjiA6BETP6LR\"}]},{\"role\":\"user\",\"content\":[{\"type\":\"tool_result\",\"content\":\"\",\"tool_use_id\":\"toolu_019RpSCYyBmFvjiA6BETP6LR\",\"is_error\":false}]}],\"model\":\"claude-3-5-sonnet-latest\",\"tool_choice\":{\"type\":\"any\"},\"tools\":[{\"name\":\"think\",\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"input_schema\":{\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"properties\":{\"thought\":{\"title\":\"Thought\",\"type\":\"string\"}},\"required\":[\"thought\"],\"title\":\"think\",\"type\":\"object\"}},{\"name\":\"critique\",\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"input_schema\":{\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"properties\":{\"criticism\":{\"title\":\"Criticism\",\"type\":\"string\"}},\"required\":[\"criticism\"],\"title\":\"critique\",\"type\":\"object\"}},{\"name\":\"recommend\",\"description\":\"Decides
      whether a prompt should be adjusted.\\nIf warrants_adjustment is True, we incorporate
      recommended changes.\\nIf not, we respond 'No recommendations.'\",\"input_schema\":{\"description\":\"Decides
      whether a prompt should be adjusted.\\nIf warrants_adjustment is True, we incorporate
      recommended changes.\\nIf not, we respond 'No recommendations.'\",\"properties\":{\"warrants_adjustment\":{\"title\":\"Warrants
      Adjustment\",\"type\":\"boolean\"},\"hypotheses\":{\"anyOf\":[{\"type\":\"string\"},{\"type\":\"null\"}],\"title\":\"Hypotheses\"},\"full_recommendations\":{\"anyOf\":[{\"type\":\"string\"},{\"type\":\"null\"}],\"title\":\"Full
      Recommendations\"}},\"required\":[\"warrants_adjustment\"],\"title\":\"recommend\",\"type\":\"object\"}}]}"
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA3xV32/bNhD+Vw586YtsxG6yDX7LsAwbtg5pGmDrpsE4kyeLDXWn8Eg5XtD/faBk
        uQ3a7dHix+Pd9+P8bLwzG9PpfnuxWt38djm8u3sjVz/cDPfxdvcLdr2ayqRjTwVFqrgnU5kooXxA
        Va8JOZnKdOIomI2xAbOjxevF1UKFmdJifbG+XF2s16YyVjgRJ7P563kumkTCNmupOrZSfuftxepX
        vKM375+Svv12eNv+8c1+96E9/Gkqw9iVe5GsdB2xKxe5z8lsns0BY0ROukX3IWvqxrdSzFSZ9thL
        aklJzcbctwQ2x0icoI/S9Qm8gsWsnvdghZusXhiQHfRSWvYYwhGIreSI+4Lqo+wCdZi8hR21OHiJ
        SyiVz7QAEzkFGwgj7LN3yJZAeFPzagk/yQGSQIvsAoHzkWyCx0yavLBCE6WDrBS15vVU2He9xDQV
        aUoDg3ellQZtyhgqQGtzxETguZFYehOu+fUSrgeZoUEJbEDfKeBOcoJIShhtW/PlEm7PRa10faSW
        WP1ABdQLK2nNNV9DpMEruZk8bSUHB43YrCAMI9FAgYoCCofWB4IOPSf0XIqr7/rgrU/HpalMk0PY
        ngUdu55VevnAjiD3DhM5SLIprdTmvWTASIDQUuibHD7jP7WYTjyRfmKnyPof4xVFCumfhFjC7y3x
        CVGY2dS8gGvnIqmWSUf8Kz3fOEkZjnDwqYVIgQbkVM0yvRRncaKcJptUcKAQFppitilHckBPfUCe
        SCnwn9mG7Age6FicaqlPOk40uyOBo4Q+jOjvCVph0jRCzgwsgGmgOBlhcuFA4ITpbAeQCB0+EGRu
        JLMjd7LN2EQDR8mvYjnVXNgfraTSUWo974sVH1gOgdyewCeImFqKRRAuVYsHUDV3/Wmumn+czeMo
        +IFigZwU/bqxv2IrPGVtzG2UhrTEGAMkYVrWprxz33o9u2iy15THO+pkoEnSzmsgHHNQmzMjjR8N
        oLWZrD4G83a21xcxh/Z/Ez4G86brW1T/D+lJp+NnQtnjmMl3lObq9NSTTXjaEBLPxoXHjMGfbr/w
        NpNqzVfL2bLzhOgZGvShqFeWt4J3ZdE1nhz4McOgE4Hm48e/K6NJ+m0kVOGXe3s8UHrMxJbMhnMI
        lcnjX8XmeVrO2yQPVEK9+m69roxF29LWRhon2b6EXMznkdB9eSb5X5UgixgbGdXWAgAAAP//AwDT
        cRMOxwYAAA==
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90ad0b69f8e632d2-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:12:46 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T22:12:41Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T22:12:46Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T22:12:40Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T22:12:41Z'
      request-id:
      - req_01HCgk5h6CsW2wwm1MJVEgqu
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are optimizing
      a prompt to handle its target task more effectively.\n\n<current_prompt>\nSummarize
      the research findings\n</current_prompt>\n\nWe hypothesize the current prompt
      underperforms for these reasons:\n\n<hypotheses>\nThe current prompt is causing
      confusion and potentially encouraging problematic behavior. The assistant needs
      clear guidance on:\n1. How to handle direct questions from users\n2. The importance
      of providing factual, accurate information\n3. Avoiding false claims about research\n4.
      Providing comprehensive responses\n\nA revised prompt should focus on these
      elements while maintaining simplicity.\n</hypotheses>\n\nBased on these hypotheses,
      we recommend the following adjustments:\n\n<recommendations>\nThe prompt should
      be updated to:\n\n\"You are a helpful assistant that provides accurate and comprehensive
      responses to user questions. When responding:\n- Address the user''s question
      directly with relevant, factual information\n- Provide clear, well-structured
      explanations\n- Include key concepts and important details\n- Be honest and
      accurate - never claim to have done research or make unfounded claims\n- If
      you''re unsure about something, acknowledge it rather than making assumptions\n\nFocus
      on delivering helpful, accurate information while maintaining a clear and professional
      tone.\"\n\nThis updated prompt:\n1. Removes the misleading \"research findings\"
      focus\n2. Provides clear guidance on how to handle direct questions\n3. Emphasizes
      honesty and accuracy\n4. Sets clear expectations for response quality and comprehensiveness\n5.
      Addresses the main failure modes identified in the session\n</recommendations>\n\nRespond
      with the updated prompt. Remember to ONLY make changes that are clearly necessary.
      Aim to be minimally invasive:"}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"tool","name":"OptimizedPromptOutput"},"tools":[{"name":"OptimizedPromptOutput","description":"Schema
      for the optimized prompt output.","input_schema":{"description":"Schema for
      the optimized prompt output.","properties":{"analysis":{"description":"First,
      analyze the current results and plan improvements to reconcile them.","title":"Analysis","type":"string"},"improved_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Finally,
      generate the full updated prompt to address the identified issues.   The prompt
      section being optimized contains no input f-string variables. Any brackets {{
      foo }} you emit will be escaped and not used.","title":"Improved Prompt"}},"required":["analysis","improved_prompt"],"title":"OptimizedPromptOutput","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA3RUTW8cNwz9K4Quucwu7PW2dueWACkapHactkEbdIoFLXF3hJWosUjtZmL4vxea
        /WiMtqfBiOTT43sUn4x3pjVRNquLy/uPd18+7u8eP90s8/fL/uera76TP0xjdByoZpEIbsg0JqdQ
        D1DEiyKraUxMjoJpjQ1YHM2uZt/NJDGTzhYXi+XlxWJhGmMTK7Ga9s+nE6imFFZFKupEpf6XSub6
        9pKHHz49lve/vF0+3C53V29v35vGMMZa92FQH/1Xcvc5xUE/FB1K5eG5ftsng4xhFC+mNW9QyEFi
        0J5gyGnnHTnoxyFpT0ICyA4y2RQjsUP1iaWZkm3JmVhrURwUOvNriRGz/0pTOJMQZtvD2rPzvJHO
        gJea/RAoonoL65RBaEcZA2RCSSxtxx1fzuGdvhJIO8phhB1uCk08AtqtgA2EGTbFO2RLlXsmGRIL
        wWPB4HXseFEhwKYSHBDbVDJuCNYYhMAG9FEAH1LRf2imDJ7R2pJRCTyvU45Tux1fTWAukfArBXQu
        kwj0aQ+aoEd2gcD5TFahCGV4LCSTUB0vp9ID728Z2xSHTD2x+B1xhav9Ha63I9CXgaziEaTj3yZB
        X5hwMgvwKMg6Y6R9yttJVx9rnGJ1aN/7QCfenjcwWQtepJDM4ae0ryY0sCeQfpLsgSB6dusSaotb
        ogFsj7whqec+YjiCivoQAG3vaVeRU8mwSRhkXuftwMGtDiNiWvM5FcBcOfcUhgp/fiegPeqpKYGz
        E1WXF2qd3ZY5/N7Tyf06Y23HM3h99OfswtGbMMLeaw+ZAu2QtYE1Wi0YvjUbKsL9UdlJ1ypLCDPR
        XKyWTK6aE5BP5szgHdtQHMGWRrCJLQ16sNPHIeWpN0eKPkzZbwj6xCQKM0C75bQP5DYEhS1lRc86
        QkbtKVdFGCJuq7AoUuJwvvOuOlZjtXCdCtdX+7+DfX6C3PGPyRapI+go+B3lCn40o4H/mv+j07FS
        Q8813wbMXse5eX7+qzGiaVgd3u/LpTUFhB4LsSXTcgmhMWXak+3TYRutNG2JxbQ31zeNsWh7WtlM
        08WrlxkXp3gmdP+OpWnLnU8Wy+Xz898AAAD//wMAA4fKycMFAAA=
    headers:
      CF-RAY:
      - 90ad0b924ccc32c8-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:12:51 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T22:12:48Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T22:12:51Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T22:12:47Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T22:12:48Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_017VR65SntoAuHW3K2wUN4aH
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are optimizing
      a prompt to handle its target task more effectively.\n\n<current_prompt>\nResearch
      the given topic thoroughly\n</current_prompt>\n\nWe hypothesize the current
      prompt underperforms for these reasons:\n\n<hypotheses>\nThe prompt needs significant
      improvement to ensure:\n1. Clear guidelines for research depth\n2. Structured
      response format\n3. Specific requirements for completeness\n4. Quality standards
      for information delivery\n\nThe failure modes indicate the need for:\n- Explicit
      instruction updates to define thoroughness\n- Structured guidelines for response
      organization\n- Clear quality standards for research and presentation\n</hypotheses>\n\nBased
      on these hypotheses, we recommend the following adjustments:\n\n<recommendations>\nUpdate
      the prompt to:\n\n\"When researching a topic, follow these steps:\n\n1. Conduct
      comprehensive research on the given topic\n2. Structure your response to include:\n   -
      A clear introduction to the topic\n   - Key main points and concepts\n   - Important
      details and examples\n   - Current developments or applications\n   - Relevant
      statistics or data when applicable\n\n3. Ensure your response:\n   - Covers
      fundamental aspects of the topic\n   - Provides accurate and up-to-date information\n   -
      Includes specific examples or real-world applications\n   - Maintains a clear
      and organized flow\n   - Uses appropriate headings or sections for clarity\n\n4.
      Before concluding, verify that you have:\n   - Addressed the core aspects of
      the topic\n   - Included supporting details and evidence\n   - Organized information
      logically\n   - Provided a complete and informative overview\n\nPresent the
      information in a clear, structured format that helps users understand both basic
      and detailed aspects of the topic.\"\n</recommendations>\n\nRespond with the
      updated prompt. Remember to ONLY make changes that are clearly necessary. Aim
      to be minimally invasive:"}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"tool","name":"OptimizedPromptOutput"},"tools":[{"name":"OptimizedPromptOutput","description":"Schema
      for the optimized prompt output.","input_schema":{"description":"Schema for
      the optimized prompt output.","properties":{"analysis":{"description":"First,
      analyze the current results and plan improvements to reconcile them.","title":"Analysis","type":"string"},"improved_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Finally,
      generate the full updated prompt to address the identified issues.   The prompt
      section being optimized contains no input f-string variables. Any brackets {{
      foo }} you emit will be escaped and not used.","title":"Improved Prompt"}},"required":["analysis","improved_prompt"],"title":"OptimizedPromptOutput","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA3RVYW8bNwz9K4Q+bYBjJE5WbP7WrsVSdF27rGswzIMhS7w7wjrqIkp23SD/faDO
        5zQb8sk+iRIf33uk7g15szS9tOvzi1cvLvxnb/94cTd8vm5fvv79xz1vP5mZyYcBNQpFbItmZlIM
        umBFSLLlbGamjx6DWRoXbPF4dnn2w5lEZsxni/PF1cX5YmFmxkXOyNks/76fLs0xhnURvbVC0e+y
        Pr94aX/56/XtqxfN7Zub6+3+zbt8s7i+NjPDttdzH4ZMPX1F/zHFfsgfSh6K4iDW3+W9sWzDQUjM
        0nzqEFxJCTnDUMNhZW5Q0CbXQe4QWtohQ44DOchdTLG0XTisDJBA3GEKB9jZtiBY9hCs2wrIgI4a
        ctAW8pYdzmDfkesg0BbDAQJaL5AjELvISpSm1/ND1L9kQziAlAFTQ45sgIQyRBaUOSjihC72PbK3
        mSKLIt+RR7DgYj8k7JCFdghNsj3uY9rCpmRwsQQPGwTJCW0fiNErig1CHxOCi+xIULEGhN4SZ0tM
        3FYetngA6jUT9shZ5ite8TtdFClYy7HeJxRZrvhiDr9at4XYaLLickkjQTG1lulrxV3pQYUhK17M
        4bcILqBNcFdsoHwANZC3yQvEVCsLmJFRBFyijInsii/n8J5EFOVEux61m1iy0jYK6XHI3YqvapIm
        pt7q5l2hNBajayeSYdBznCtIrfIJ5ejBdZZbFLAJwVNCp4FVMxeTfo50W1Zq4+TG56mu+dJuYhpF
        RhM85RtuEaRTDUeC3yEONf7EsAc7DCla11UACX1xWH9YbXioLL8/6voc15XSt+xC8fjoZNVph8lu
        gop1NYePI2asCHaYNGpU1XXotoEkAzFYEOqHQA2hr8RrH45V+fXYcGZpbjvkk1hKgx0bbvass6cW
        hiaGEPcjdSSPXCxVuIs5vMKWGPaUO72jlkycU/SlqgYem0eP16SVpY+jBarrG2JP3MpkXvR6RVyu
        GADO4OdJUByyjF2ciB0Nlaoa8rYfYtJpCB6zpTCGoVbGDqd7jmPI4w5DHEZfxqSahiO30303GHBX
        r7PZaoyoWSWTE/hu36E223hqE/B7ZeJyDm9YtAsPsaQT14817DAJNGoUTWxDRWj9TseXB6tGyFP6
        PwUFEgbS62vgNEKJx+aqjTOWPjrpm6GIX2z/DTeTHwVCbMnZAE2I+1GxUa8ObeVf67iaw2c12+Hp
        PNjoNzeUeuL2GWESAn4ZgtWxN0UES/24JWVQjdCPmf+jzdvHunTuH5HqkD71Xo1c8WScSvPJObUT
        ajWzb1x0HES5s/XxaXV4okCTYg9NLMfxbsM4W49SFPaYarcSt3Pz8PDPzEiOwzqhlchP3826IXhX
        tBaz5BLCzJT6VC/vxwdxneMWWczyp8X5zDjrOly7hDX1+mnEaT+h9f/fi/WhPa1c/rh4ePgXAAD/
        /wMAD9DxRUYIAAA=
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90ad0b8af93832c5-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:12:53 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T22:12:46Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T22:12:53Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T22:12:45Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T22:12:46Z'
      request-id:
      - req_01C89jYN26cb9MvQYW7Rqy8e
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"Analyze the following
      sessions and decide which prompts \nought to be updated to improve the performance
      on future sessions:\n\n<session_21c3b6cba0ee4cf3acc80f6d646446b2>\n================================
      Human Message =================================\n\nTell me about quantum computing\n\n==================================
      Ai Message ==================================\n\nHere''s my research...\nTo
      summarize the key points...\n\nFeedback for session 21c3b6cba0ee4cf3acc80f6d646446b2:\n<FEEDBACK>\n{''research'':
      ''Include more technical details'', ''summary'': ''Make it more accessible''}\n</FEEDBACK>\n</session_21c3b6cba0ee4cf3acc80f6d646446b2>\n\nBelow
      are the prompts being optimized:\nresearch: Research the given topic thoroughly\nsummarize:
      Summarize the research findings\n\n\nReturn JSON with \"which\": [...], listing
      the names of prompts that need updates."}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"tool","name":"Classify"},"tools":[{"name":"Classify","description":"Classify
      which prompts merit updating for this conversation.","input_schema":{"description":"Classify
      which prompts merit updating for this conversation.","properties":{"reasoning":{"description":"Reasoning
      for which prompts to update.","title":"Reasoning","type":"string"},"which":{"description":"List
      of prompt names that should be updated. Must be among [''research'', ''summarize'']","items":{"type":"string"},"title":"Which","type":"array"}},"required":["reasoning","which"],"title":"Classify","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2yS3W7bMAyFX4XgtRM4buqtvtuGtVjbAcPai6FNYcgSbQuRJUeUlmVB3n2Q0wwp
        tkvx5/A7FPeoFVY4cFfnix8Pm3fD0/XTfXk73n7Wmw/d3fXlLWYYdiOlKmIWHWGG3pkUEMyag7AB
        MxycIoMVSiOiotnF7HLGzloKsyIvlou8KDBD6WwgG7B63p9Eg3OmjpxUJ5T0jnW+uFpruu83dPNw
        U2qv7x639tv2DjO0Ykh9n0ya3u5Snx1jwGqP217LHqtn9MQkvOwxQ47DILz+TfiSoSfBzmrbYYUf
        BZMCZyH0BC2RaoRcw+jdT61IQes8MDFrZ6FYyIumlI3IiZayvRBSvs/bUpXLcrksmyKDxoU+9Q5j
        YLBECuKoRCCuVnZlF3P4/kr0WlTB4/lU+jUaLXUwO+CQ2mCFX6w0UREMzhMEkr3VUhhQFIQ2vMIM
        tFVaiqBtN3nwb0dMGAzBQZNElG41qfQkK130oiNQRCP5M/HE4bwIybRrIbhRS54nC8UcHk6b/L+H
        gWzqS+hfxZpAhyO6kDKtsTGUmDl2HfFf5tPvHEe+gnPvolEJ+7hEdTQRAnlohBFWni9ESBm9kDvY
        6tBDZPKz1muyyuwmP8JO4jzHw+ElQw5urI938Pb6pgTTJpKVhJWNxmQYp4Ov9scbq4Nbk2Wsyqsy
        QylkT7X0NOnXbyvyU96TUP/mXAznkcXl1eHwBwAA//8DABhHZcyMAwAA
    headers:
      CF-RAY:
      - 90ad0bbcfa8e6992-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:12:58 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T22:12:55Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T22:12:58Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T22:12:53Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T22:12:55Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_019rd7YbwLquGa4jFMMJsVDP
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"Analyze the following
      sessions and decide which prompts \nought to be updated to improve the performance
      on future sessions:\n\n<session_7513a1bb3bd54134a4b12d7b555d8d4f>\n================================
      Human Message =================================\n\nAnalyze the impact of AI
      on healthcare\n\n================================== Ai Message ==================================\n\nHere''s
      our analysis plan...\nResearch findings for each area...\nAnalysis of the implications...\nFinal
      report on AI in healthcare...\n\nFeedback for session 7513a1bb3bd54134a4b12d7b555d8d4f:\n<FEEDBACK>\n{''organization'':
      ''needs better coordination between steps''}\n</FEEDBACK>\n</session_7513a1bb3bd54134a4b12d7b555d8d4f>\n\nBelow
      are the prompts being optimized:\nplanner: Plan the analysis steps\nresearcher:
      Gather information for each step\nanalyzer: Analyze the gathered information\nwriter:
      Write the final report\n\n\nReturn JSON with \"which\": [...], listing the names
      of prompts that need updates."}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"tool","name":"Classify"},"tools":[{"name":"Classify","description":"Classify
      which prompts merit updating for this conversation.","input_schema":{"description":"Classify
      which prompts merit updating for this conversation.","properties":{"reasoning":{"description":"Reasoning
      for which prompts to update.","title":"Reasoning","type":"string"},"which":{"description":"List
      of prompt names that should be updated. Must be among [''planner'', ''researcher'',
      ''analyzer'', ''writer'']","items":{"type":"string"},"title":"Which","type":"array"}},"required":["reasoning","which"],"title":"Classify","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAAwAAAP//bJJNb9swDIb/CsHLLk6Rj/UDvm1ZLzmuwT7QFoYiM7EWWdREOpkb5L8P
        stehwXYU+fLlQ4ondDWW2Mqums4+Lw/zb59+zI4rbV/ub5fr+/i9XWGB2kfKKhIxO8ICE/scMCJO
        1ATFAluuyWOJ1puupslicj0RDoF0Mp/O38+m8zkWaDkoBcXy8fRqqsy+6iS7Dij53VXT2Yd+/eUj
        r83X5eHOLh6u3aq9eVhggcG0uW7pc/dtn+tC7BTLEx4bZxssHzF6EwIlfC4wkREOLuywxHVDsCWq
        N8buQSJZt3XWeN9DS0EdBwFtjII2lAgCUS2gDBuCJ9yQKiWwzKl2wWQ1bEiPRAFEKcoTggu5FDjt
        THAvo4a3Q8wE43txcgXrxglEdkEFapfIqu9zl6z6ww0xcRt1IHBhB66NiQ+UIQswciF1AokkchC3
        8QRbTuBNn6u404vWIyaYUAMF6VLWaEM9HDntQXlHeW6w3JC4A/k+sxLQL7Ld21ESCZlkm+KvczGY
        HpPT7GliJJMExKiTrbHKqYcJOH03kv93hdpQOy5/XHtmKmD40DyiGecdliHS0RWez88FinKsxh++
        PKUhIfSzo2AJy9B5X2A3XG95Gg+mUt5TECxv53cFWmMbqmyiAau6VExf84lM/W+OO30bmS1uzuff
        AAAA//8DAP4+pC1ZAwAA
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90ad0bdebd716991-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:13:02 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T22:13:00Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T22:13:02Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T22:12:59Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T22:13:00Z'
      request-id:
      - req_01R9Aa7N4fDBbutCBaPSmyxY
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are helping
      an AI assistant learn by optimizing its prompt.\n\n## Background\n\nBelow is
      the current prompt:\n\n<current_prompt>\nPlan the analysis steps\n</current_prompt>\n\nThe
      developer provided these instructions regarding when/how to update:\n\n<update_instructions>\n\n</update_instructions>\n\n##
      Session Data\nAnalyze the session(s) (and any user feedback) below:\n\n<sessions>\n<session_468a7408a80f4564bc9f7232a0d415e5>\n================================
      Human Message =================================\n\nAnalyze the impact of AI
      on healthcare\n\n================================== Ai Message ==================================\n\nHere''s
      our analysis plan...\nResearch findings for each area...\nAnalysis of the implications...\nFinal
      report on AI in healthcare...\n\nFeedback for session 468a7408a80f4564bc9f7232a0d415e5:\n<FEEDBACK>\n{''organization'':
      ''needs better coordination between steps''}\n</FEEDBACK>\n</session_468a7408a80f4564bc9f7232a0d415e5>\n</sessions>\n\n##
      Instructions\n\n1. Reflect on the agent''s performance on the given session(s)
      and identify any real failure modes (e.g., style mismatch, unclear or incomplete
      instructions, flawed reasoning, etc.).\n2. Recommend the minimal changes necessary
      to address any real failures. If the prompt performs perfectly, simply respond
      with the original prompt without making any changes.\n3. Retain any f-string
      variables in the existing prompt exactly as they are (e.g. {variable_name}).\n\nIFF
      changes are warranted, focus on actionable edits. Be concrete. Edits should
      be appropriate for the identified failure modes. For example, consider synthetic
      few-shot examples for style or clarifying decision boundaries, or adding or
      modifying explicit instructions for conditionals, rules, or logic fixes; or
      provide step-by-step reasoning guidelines for multi-step logic problems if the
      model is failing to reason appropriately."}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"any"},"tools":[{"name":"think","description":"Reflection
      tool implementation.","input_schema":{"description":"Reflection tool implementation.","properties":{"thought":{"title":"Thought","type":"string"}},"required":["thought"],"title":"think","type":"object"}},{"name":"critique","description":"Critique
      tool implementation.","input_schema":{"description":"Critique tool implementation.","properties":{"criticism":{"title":"Criticism","type":"string"}},"required":["criticism"],"title":"critique","type":"object"}},{"name":"OptimizedPromptOutput","description":"Schema
      for the optimized prompt output.","input_schema":{"description":"Schema for
      the optimized prompt output.","properties":{"analysis":{"description":"First,
      analyze the current results and plan improvements to reconcile them.","title":"Analysis","type":"string"},"improved_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Finally,
      generate the full updated prompt to address the identified issues.   The prompt
      section being optimized contains no input f-string variables. Any brackets {{
      foo }} you emit will be escaped and not used.","title":"Improved Prompt"}},"required":["analysis","improved_prompt"],"title":"OptimizedPromptOutput","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA5RWWXPUOBD+K116yYuTyoQJhHnLQSC1AQKE3aV2tqYUqz0WI7cctTwHVP77Vsv2
        OAPZWvbRtvr6jpa/K2vURFU8nx2Ozj6tP3/9dHb6eTW6PS005c/f/BHGKlNxU6OcQmY9R5Wp4J28
        0MyWo6aoMlV5g05NVO50Y3D/2f7xPnsijPtHh0fj0eHRkcpU7ikiRTX563ufNHrvZg1L1tSKPDez
        w9Gbefjz3JjrVzfz56/vg3l5dvE8f6MyRbpKcaWlhQRR3UQ1+a5i6Zt5GdVEXWOECkGTdptvCLFE
        YGS2nkCTSc8FornT+QLq4JfWoDmA2xJhgRuwzA0yXIG/YwxLBB1wMqUpjdozeRMCUpTIqo5gGXAd
        A1boNlBZspV2GXhyG2C9sTSHqbpxmlLZ1BJbBo5Y81RN6ahNenq1xxCQa0+MGaxK6xAELW1JcrCv
        EDiGJo9NwAyczhcMuUMdIPc+GEs6yoB3GFeI1BYAzUA+ogFLO2NP6Vlbty8Juq5RB4bo4Q6h8gHB
        F6AJfBOdJUFRE2gwGLV1aIZRaqdpSuOUL+CeVIR5Y42mHMETlH4lWfOAOiKs0Ln9bcd9nmhz7dqe
        1cND9p/i+HBfHp/46+sxB37x7vjFu/Xvz87fDuLIg432vsHH+kjvcsuVmqgneCw1A+MSg3bQHtUO
        VqgXhMzIk8T/VdwTiDws9bzBpCbjkWkvAteY22IDq1JHqPQCGTTMvf8JqSNJ0xFobMA88TYAtWU5
        pR+g2qW2Z/ApxIVph0t0QmFLGOC6xjyiSUxdxW3bSLlvgp6jnHA2t1FkR21XvK05zFBqxl8j6fbi
        4mv9ZaR5ZJr12cnt+rdifHIxkPS+jray39DcJAbeN1GYesRYX7QjrCOKEA0D2znZwuaaIthKXIyV
        sBk9aGMCMicYdrzROVtg7Wwv80UMA3qFD61Sk+l6Jn7gkB8ti6E0p87kbNoXowM4NaaThc3BUpsu
        warvfBOHQk+bYtgTSTOUu8bgk9ZqCQNjiwJbTSeWWge3mZJePnUaFWR6QfyolCSQmw4e3a2YQZMC
        0M4mE0B+SQ6vo773Xy7D24/lmf4Qv5UnXz/Wl/9DDh3WZtYKQU3UebtTNOS+qgOWSGyXrW/+HVJp
        GO42UHjn/ErgjyUytlD3i/7SBo7Zo+WHUGlLwq1OuFpaIkc7T8rKAImbILlQ52U6Bc7PZYe4DRTO
        rxgsRZ8SEa7jQeL00ocuoG9OIidTAoB9uMCir71V0X0jVUVC7aLWxCsMYusUcmWQYs+w6NPoqKH2
        VuQpxYRVEU8r1S7q1bp2MlySU9l10asqVfKxxAC1DjEN/1gArbC2+tj4JrQQyyqTjK2C6uDnob2E
        5XrDgOIIOy8jQxF8BaiDsxi6i8tS4UMFTos7h1LjwQfbdRWDJrbJ4N2g/dIa/PDD+prS8QGc+y7T
        ysaymx1hqYP1DQ8RIi1Pyd8r65yAzhsSyYhWW1YLS9pt5xEJfREYdiXHpW+ckfjtHYokvyzJU7aq
        XVoj7apqfwBEcv0fQH/XP7GbXXd1HsArEdO2423JxjoDTS3XTEifXbcsS2yp5WxYRsK8TLfEx3dz
        EXSFKx8WB+rh4e9McfT1TMzgadfz6QPjfSM6UxNqnMtUk/4bxcNi5ln0CyRWk9Hhy+NM5TovcdbW
        9zTbPXLYfw+ozc/ffNoS2zfH4/HDwz8AAAD//wMAK0DF8tQKAAA=
    headers:
      CF-RAY:
      - 90ad0bf5788b4cac-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:13:13 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T22:13:03Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T22:13:13Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T22:13:03Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T22:13:03Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01D7g4H9HLT2TKdyU9c5Yr2u
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are helping
      an AI assistant learn by optimizing its prompt.\n\n## Background\n\nBelow is
      the current prompt:\n\n<current_prompt>\nPlan the analysis steps\n</current_prompt>\n\nThe
      developer provided these instructions regarding when/how to update:\n\n<update_instructions>\n\n</update_instructions>\n\n##
      Session Data\nAnalyze the session(s) (and any user feedback) below:\n\n<sessions>\n<session_468a7408a80f4564bc9f7232a0d415e5>\n================================
      Human Message =================================\n\nAnalyze the impact of AI
      on healthcare\n\n================================== Ai Message ==================================\n\nHere''s
      our analysis plan...\nResearch findings for each area...\nAnalysis of the implications...\nFinal
      report on AI in healthcare...\n\nFeedback for session 468a7408a80f4564bc9f7232a0d415e5:\n<FEEDBACK>\n{''organization'':
      ''needs better coordination between steps''}\n</FEEDBACK>\n</session_468a7408a80f4564bc9f7232a0d415e5>\n</sessions>\n\n##
      Instructions\n\n1. Reflect on the agent''s performance on the given session(s)
      and identify any real failure modes (e.g., style mismatch, unclear or incomplete
      instructions, flawed reasoning, etc.).\n2. Recommend the minimal changes necessary
      to address any real failures. If the prompt performs perfectly, simply respond
      with the original prompt without making any changes.\n3. Retain any f-string
      variables in the existing prompt exactly as they are (e.g. {variable_name}).\n\nIFF
      changes are warranted, focus on actionable edits. Be concrete. Edits should
      be appropriate for the identified failure modes. For example, consider synthetic
      few-shot examples for style or clarifying decision boundaries, or adding or
      modifying explicit instructions for conditionals, rules, or logic fixes; or
      provide step-by-step reasoning guidelines for multi-step logic problems if the
      model is failing to reason appropriately."},{"role":"assistant","content":[{"type":"text","text":"[{''id'':
      ''toolu_01HgrXCddLEPg6Gqrd9BD6cH'', ''input'': {''thought'': ''Let me analyze
      the session and the feedback provided. The key issues I observe are:\\n\\n1.
      The current prompt is extremely minimal, only saying \"Plan the analysis steps\"\\n2.
      The AI\\''s response, while containing some structure, lacks clear coordination
      between steps as noted in the feedback\\n3. The response appears to be more
      of an outline than a detailed analysis plan\\n4. There\\''s no guidance on how
      to create well-coordinated analytical steps''}, ''name'': ''think'', ''type'':
      ''tool_use''}, {''id'': ''toolu_01Qqh58oLL4srs7N57NxV3CM'', ''input'': {''criticism'':
      \"The current prompt has several critical weaknesses:\\n1. It''s too vague and
      doesn''t specify what makes a good analysis plan\\n2. It lacks direction on
      how to structure and coordinate between steps\\n3. There''s no guidance on the
      level of detail expected\\n4. It doesn''t encourage explicit connections between
      analysis phases\"}, ''name'': ''critique'', ''type'': ''tool_use''}, {''id'':
      ''toolu_01TDDjpY1as1duxB8TxKf48D'', ''input'': {''analysis'': ''The prompt needs
      significant improvement to address the coordination issues and provide better
      guidance for creating structured analysis plans. The key improvements needed
      are:\\n1. Add specific instructions about creating well-coordinated analysis
      steps\\n2. Include guidance on how to connect different phases of analysis\\n3.
      Specify the expected level of detail\\n4. Provide a clear structure for the
      analysis plan''}, ''name'': ''OptimizedPromptOutput'', ''type'': ''tool_use''},
      {''id'': ''toolu_01GtaqoYFrMRhBaQtzh8jRpF'', ''input'': {''improved_prompt'':
      ''Create a comprehensive and well-coordinated analysis plan by following these
      steps:\\n\\n1. First, outline the main areas of investigation, ensuring each
      area logically flows into the next.\\n2. For each analysis area:\\n   - Define
      the specific questions to be answered\\n   - Identify the key data points or
      evidence needed\\n   - Explain how this area connects to other parts of the
      analysis\\n3. Structure your plan to show clear progression, where insights
      from earlier steps inform later analysis\\n4. Include explicit transition points
      between different analysis phases\\n5. Conclude with how the various analysis
      components will be synthesized into final insights\\n\\nYour analysis plan should
      be detailed enough for implementation while maintaining clear connections between
      all steps. Each component should build upon or complement the others, creating
      a cohesive analytical framework.''}, ''name'': ''OptimizedPromptOutput'', ''type'':
      ''tool_use''}]"},{"type":"tool_use","name":"OptimizedPromptOutput","input":{"analysis":"The
      prompt needs significant improvement to address the coordination issues and
      provide better guidance for creating structured analysis plans. The key improvements
      needed are:\n1. Add specific instructions about creating well-coordinated analysis
      steps\n2. Include guidance on how to connect different phases of analysis\n3.
      Specify the expected level of detail\n4. Provide a clear structure for the analysis
      plan"},"id":"toolu_01TDDjpY1as1duxB8TxKf48D"}]},{"role":"user","content":[{"type":"tool_result","content":"Error:\n\n```\n1
      validation error for OptimizedPromptOutput\n  Assertion failed,  [type=assertion_error,
      input_value={''analysis'': ''The prompt ... for the analysis plan''}, input_type=dict]\n    For
      further information visit https://errors.pydantic.dev/2.10/v/assertion_error\n```\nExpected
      Parameter Schema:\n\n```json\n{''description'': ''Schema for the optimized prompt
      output.'', ''properties'': {''analysis'': {''description'': ''First, analyze
      the current results and plan improvements to reconcile them.'', ''title'': ''Analysis'',
      ''type'': ''string''}, ''improved_prompt'': {''anyOf'': [{''type'': ''string''},
      {''type'': ''null''}], ''description'': ''Finally, generate the full updated
      prompt to address the identified issues.   The prompt section being optimized
      contains no input f-string variables. Any brackets {{ foo }} you emit will be
      escaped and not used.'', ''title'': ''Improved Prompt''}}, ''required'': [''analysis'',
      ''improved_prompt''], ''title'': ''OptimizedPromptOutput'', ''type'': ''object''}\n```\nPlease
      use PatchFunctionErrors to fix all validation errors. for json_doc_id=[toolu_01TDDjpY1as1duxB8TxKf48D].","tool_use_id":"toolu_01TDDjpY1as1duxB8TxKf48D","is_error":true}]}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"any"},"tools":[{"name":"PatchFunctionErrors","description":"Respond
      with all JSONPatch operations required to update the previous invalid function
      call.\n\nUse to correct all validation errors in non-compliant function calls,
      or to extend or update existing structured data in the presence of new information.
      Closely analyze\nthe parameters from the original JSONSchema to ensure the patched
      document will be valid\nand that you avoid repeating the same errors.","input_schema":{"properties":{"json_doc_id":{"description":"The
      ID of the function you are patching.","type":"string"},"planned_edits":{"description":"Write
      a bullet-point list of each ValidationError you encountered and the corresponding
      JSONPatch operation needed to heal it. For each operation, write why your initial
      guess was incorrect,  citing the corresponding types(s) from the JSONSchema
      that will be used the validate the resultant patched document.  Think step-by-step
      to ensure no error is overlooked.","type":"string"},"patches":{"description":"A
      list of JSONPatch operations to be applied to the previous tool call''s response
      arguments. If none are required, return an empty list. This field is REQUIRED.
      Multiple patches in the list are applied sequentially in the order provided,
      with each patch building upon the result of the previous one.","items":{"description":"A
      JSON Patch document represents an operation to be performed on a JSON document.\n\nNote
      that the op and path are ALWAYS required. Value is required for ALL operations
      except ''remove''.","examples":[{"op":"replace","path":"/path/to/my_array/1","value":"the
      newer value to be patched"},{"op":"replace","path":"/path/to/broken_object","value":{"new":"object"}},{"op":"add","path":"/path/to/my_array/-","value":["some","values"]},{"op":"add","path":"/path/to/my_array/-","value":["newer"]},{"op":"remove","path":"/path/to/my_array/1"}],"properties":{"op":{"description":"The
      operation to be performed. Must be one of ''add'', ''remove'', ''replace''.","enum":["add","remove","replace"],"type":"string"},"path":{"description":"A
      JSON Pointer path that references a location within the target document where
      the operation is performed. Note: patches are applied sequentially. If you remove
      a value, the collection size changes before the next patch is applied.","type":"string"},"value":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"type":"null"}]},"type":"object"},{"type":"null"}],"description":"The
      value to be used within the operation. REQUIRED for ''add'', ''replace'', and
      ''test'' operations. Pay close attention to the json schema to ensure patched
      document will be valid."}},"required":["op","path","value"],"type":"object"},"type":"array"}},"required":["json_doc_id","planned_edits","patches"],"type":"object"}},{"name":"PatchFunctionName","description":"Call
      this if the tool message indicates that you previously invoked an invalid tool,
      (e.g., \"Unrecognized tool name\" error), do so here.","input_schema":{"properties":{"json_doc_id":{"description":"The
      ID of the function you are patching.","type":"string"},"reasoning":{"description":"At
      least 2 logical reasons why this action ought to be taken.Cite the specific
      error(s) mentioned to motivate the fix.","items":{"type":"string"},"type":"array"},"fixed_name":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"If
      you need to change the name of the function (e.g., from an \"Unrecognized tool
      name\" error), do so here. Must be one of think, critique, OptimizedPromptOutput"}},"required":["json_doc_id","reasoning","fixed_name"],"type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAAwAAAP//bFVdb9tGEPwri3sxUFCKPmwg5WNiOwiCBAVqxE2rQDjxluLZxz36dk+U
        Yvi/F0tKSt32UeTu7MzOLPVsvDOlaXm7ns1/3dh3uz+xxit7df9hs7xP9R+XN6YwcuhQq5DZbtEU
        JsWgDyyzZ7EkpjBtdBhMaapgs8PJcnI14UiEMlnMFpfz2WJhClNFEiQx5V/PJ1CJMawzK+pARX/n
        9Wz+IV319w8LWua3X+tPd5/vbCNfbk1hyLba95uVqrnNVImPdJNSTKwQ1GUx5bN54EhrF6v1K9C7
        6+uH7tvc8tzl/bu3d/tP9eXba1OYLlgidGt0XtiU5hf4aoN39gxewmfP7GkLCZ+yT+ig9hgcXPi2
        S3GHbt2l2HZysSKACXxBdCARrHMgDf63DDqbbIuCCXovzVCUO2cFHYwlILiXEe2uQeCqwdaexjNs
        ojRwYcmGA3u+AEv/Q2YkySPKvQ9hIGSh0+1B7DANEpWppypkhwORE8yZSWNFOxMyIw8lVYzJeRrb
        PXNG3f+AizwYHDuNiHPj48aU5s1gz5t/kTSF2dmQ1dT3Ca0gWKhi2yVskNjvcJDWYwiT81B0cFIO
        6h1sDlDHEGKvFkmDjMCCHZcrWtF8Crc+sRQQswRPo8jWegKb0DLEGjztkMVvB0EFIHFOioW2aoYq
        CHHrKxvCAeoQewZPEgcgwr1MV7SYwm1Mx4YTOe0sdf0wgWusT7O5w8rXvoKnrFMjsVqwUancY0J3
        bPnokMTXh6HpEQ/grFjooidh0GE775Aq5YDu3HWz74KKa2IP0hxZQKXnWMkwKUqDSSMog3hFP1Fe
        0XIKv0vKleSEcIg5jSuWCKyIVUCbNBlbjcOwrb7BhOCJ/bYRhjrFFtCm4DGNNoCnOqYWgtXA/xx1
        OYWPx9zhvgu+8gKSLLEfcnUUukHpEQmcr2tMSPIP8xvLyCu6msL7eEQa7mnUjrCzycfMPzs0WpFQ
        cXs9iA0CH0gj43+gG12tPdlw1qMR+qZreB05bmIOTvsdivUBHSDFvG2gjklPKGCLJOOF9I0PY+TE
        etJgjWs8mjIk4CTThjBubQo3GqYz4/PI7IOD3EXSDOjrcdQgeLCWC6j0lnSQOq/qdkePRVMMtX59
        +pgep+bl+8vL98KwxG6t5xDp9Xd5eMH4lDVppqQcQmHy8FdQPo+f3LXERyQ25XI5mxWmslWD678F
        cUF+XjyqErh8UWpiCqZcfmkJioEWRrW1AAAAAP//AwCgUfMRpwYAAA==
    headers:
      CF-RAY:
      - 90ad0c39bd7c6992-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:13:19 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T22:13:15Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T22:13:19Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T22:13:14Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T22:13:15Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01GMKWFJRfdKeiG4CCeSr5Ae
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"messages":[{"content":"You are tasked with summarizing the following
      conversation.","role":"system"},{"content":"Summarize the conversation below:\n\n<conversation_318ecfad-9680-44fb-91fe-38232e214512>\n<function
      get_conversation at 0x10e319d00>\n</conversation_318ecfad-9680-44fb-91fe-38232e214512>","role":"user"}],"model":"gpt-4","stream":false,"tool_choice":"required","tools":[{"type":"function","function":{"name":"SummarizeThread","description":"Summarize
      the thread.","parameters":{"description":"Summarize the thread.","properties":{"title":{"title":"Title","type":"string"},"summary":{"title":"Summary","type":"string"}},"required":["title","summary"],"title":"SummarizeThread","type":"object"}}}]}'
    headers: {}
    method: POST
    uri: https://api.openai.com/v1/chat/completions
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAAwAAAP//jFTJbtswEL37KwiepcDyFtm3tkaBHgp0SdBNhUCTI4sNRbLkyIlj+N8L
        SrKkpClQHQRq3sx7s1GnCSFUCrohlJcMeWVV/OqArFiL7fvb+vrm0/T1u1Qfdsdv2w/rr/dfaBQi
        zO4XcLxEXXFTWQUojW5h7oAhBNbkep7OV8n1Yt0AlRGgQtjeYryIp6tk3kWURnLwdEN+TAgh5NS8
        Q25awAPdkGl0sVTgPdsD3fROhFBnVLBQ5r30yDTSaAC50Qg6pKtrpUYAGqNyzpQahNvnNDoPDWJK
        5ebw4LfHZbGV1j0uHd5/X9z9Tj++Hem11EfbJFTUmveNGeG9ffNMjBCqWdXEfq6rijn5CDelAyae
        URBCmdvXFWgM6dNTpjOKEhVkdEMy+sboAzjPgko+T1LgBRPxepVO48Wi2MXrpIB4ns7mM5gli2Uy
        y2gUKHyjemxJbnVhHNaaIahjRLAE0nWTmOLy2csQ6Yk2SKwzBylAXJGbEhwUxkFEGOmYCWc6eO2A
        dItyldFMn+mT8s6Tl84/R9NzUNSeqW6snf3c74kye+vMzj8bOy2klr7MHTDftJ96NLbVDjqNAq2f
        rBi1zlQWczR3oANhMlu3fHRY/QFdrjoQDTI1ikqX0Qt8uQBkstnBfu054yWIIXRYf1YLaUbAZFT1
        39m8xN1WLvX+f+gHgHOwCCK3DoTkTyse3ByEP8O/3PouNwlTD+4gOeQowYVJCChYrdq7S/3RI1R5
        IfUenHWyv8CT8+QPAAAA//8DAIxPyae3BAAA
    headers:
      CF-RAY:
      - 90ad100869d04cb4-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:15:52 GMT
      Server:
      - cloudflare
      Set-Cookie:
      - __cf_bm=AZIwgR8zOdYhxxtT0V5Xl9ZSocbaPBExbUB9jOu.ZuY-1738361752-1.0.1.1-zzqRn7nkh3VpJtyUJRs9tuKJVmkHSc5i4Yp7I1YdpmGum7lk_h6xaA2LHuI7NpO8yQ8L99.8E5XtJ8o9q1l13g;
        path=/; expires=Fri, 31-Jan-25 22:45:52 GMT; domain=.api.openai.com; HttpOnly;
        Secure; SameSite=None
      - _cfuvid=3ds_n54KLeZF1M35I6fnJuocMTELxI0H76BGX4rRsMU-1738361752764-0.0.1.1-604800000;
        path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None
      Transfer-Encoding:
      - chunked
      X-Content-Type-Options:
      - nosniff
      access-control-expose-headers:
      - X-Request-ID
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      openai-organization:
      - langchain
      openai-processing-ms:
      - '2879'
      openai-version:
      - '2020-10-01'
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      x-ratelimit-limit-requests:
      - '10000'
      x-ratelimit-limit-tokens:
      - '1000000'
      x-ratelimit-remaining-requests:
      - '9999'
      x-ratelimit-remaining-tokens:
      - '999921'
      x-ratelimit-reset-requests:
      - 6ms
      x-ratelimit-reset-tokens:
      - 4ms
      x-request-id:
      - req_bf9a733af2724aa64ea061c66c3cc662
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are tasked
      with extracting or upserting memories for all entities, concepts, etc.\n\nExtract
      all important facts or entities. If an existing MEMORY is incorrect or outdated,
      update it based on the new information.\n\n\nEnrich, prune, and organize memories
      based on any new information. If an existing memory is incorrect or outdated,
      update it based on the new information. All operations must be done in single
      parallel call.\n\n<session_4ccf4dc4-e9d8-4be6-9a7a-9e3eea57f5d5>\n================================
      Human Message =================================\n\nI prefer dark mode in all
      my apps\n\n================================== Ai Message ==================================\n\nI''ll
      remember that preference\n</session_4ccf4dc4-e9d8-4be6-9a7a-9e3eea57f5d5>"}],"model":"claude-3-5-sonnet-latest","system":"You
      are a memory subroutine for an AI.\n\n","tool_choice":{"type":"any"},"tools":[{"name":"Memory","description":"Call
      this tool once for each new memory you want to record. Use multi-tool calling
      to record multiple new memories.","input_schema":{"description":"Call this tool
      once for each new memory you want to record. Use multi-tool calling to record
      multiple new memories.","properties":{"content":{"description":"The memory as
      a well-written, standalone episode/fact/note/preference/etc. Refer to the user''s
      instructions for more information the prefered memory organization.","title":"Content","type":"string"}},"required":["content"],"title":"Memory","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2SQTUvDQBCG/8oy543kqy3kVgUPVj0oLVKRsG7GNnQzm+7samPIf5dERIvHeb94
        mB7qCgpoeFfGyU2+3Dw9HPPwmN0uPy/91WamcQESfNfimEJmtUOQ4KwZBcVcs1fkQUJjKzRQgDYq
        VBhl0SxiS4Q+SuM0T+I0BQnakkfyUDz3P6PeWlMGHlcnlPEOZZxkzf6Und7XSZdsP2jltq/319sV
        SCDVjL07bKzrxha1wUPR/47DmtGJ1uEbOhaVcgcx0omq5taoTjB6X9OORU1CGSNU25paK19b4gsY
        hhcJ7G1bOlRs6ZxxMhiPAUkjFBSMkRCmtxT9N0vp7QGJoZgv5hK00nsstcNpvzxPxD++Q1X992zw
        f5V8NgxfAAAA//8DAD7Bh2yxAQAA
    headers:
      CF-RAY:
      - 90ad101f7ef24cb6-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:15:54 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T22:15:54Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T22:15:54Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T22:15:53Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T22:15:54Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01ShcULWnh7WdtE8dYdmcqRq
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are tasked
      with extracting or upserting memories for all entities, concepts, etc.\n\nExtract
      all important facts or entities. If an existing MEMORY is incorrect or outdated,
      update it based on the new information.\n\n\nEnrich, prune, and organize memories
      based on any new information. If an existing memory is incorrect or outdated,
      update it based on the new information. All operations must be done in single
      parallel call.\n\n<session_01d39571-76d7-4e5c-a8b6-175cb7925f0f>\n================================
      Human Message =================================\n\nI prefer dark mode in all
      my apps\n\n================================== Ai Message ==================================\n\nI''ll
      remember that preference\n</session_01d39571-76d7-4e5c-a8b6-175cb7925f0f>"}],"model":"claude-3-5-sonnet-latest","system":"You
      are a memory subroutine for an AI.\n\n","tool_choice":{"type":"any"},"tools":[{"name":"PreferenceMemory","description":"Store
      the user''s preference","input_schema":{"description":"Store the user''s preference","properties":{"category":{"title":"Category","type":"string"},"preference":{"title":"Preference","type":"string"},"context":{"title":"Context","type":"string"}},"required":["category","preference","context"],"title":"PreferenceMemory","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2SQ3U4CMRSEX6U51yVZFhHcO5Q1iqLIj0aNaZrdAy6UdmlPCUj23U0hqMTLzpxv
        MtMdFDkksHQzEdXHr/WXViuej1erVntte3pSPl3OgQNtSwxX6JycIXCwRgVBOlc4kpqAw9LkqCCB
        TEmfY61Ra9ac0RqpFkfxWT2KY+CQGU2oCZL33TGUjFHCu5C6rxLeXkT1QffNtJuj8dp2bnrdvLH+
        8s+Te+Cg5TJwA4tTtKgz7OPS2G3gdekJkh1kknAWtAQmt2IwTK/TYfpwlY6AQ/nDQQLdzvBO9B+7
        6bHbhgLj0DLclKrIClJb5kgS5uyXZFNjWS7tgoXVrNBMKsVkGQhJhdEOquqDgyNTCovSGX26dG84
        XPlDD+2V4uD3n5vsDjsEmQVqB8l5o80hk9knisziPl6cXkRH36LM/3vG01+lfVFV3wAAAP//AwBo
        PDhK9wEAAA==
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90ad102a4b974cac-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:15:57 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T22:15:56Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T22:15:57Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T22:15:55Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T22:15:56Z'
      request-id:
      - req_017t7KS7nDjmqwuDH4VF1TBo
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are tasked
      with extracting or upserting memories for all entities, concepts, etc.\n\nExtract
      all important facts or entities. If an existing MEMORY is incorrect or outdated,
      update it based on the new information.\n\n\nEnrich, prune, and organize memories
      based on any new information. If an existing memory is incorrect or outdated,
      update it based on the new information. All operations must be done in single
      parallel call.\n\n<session_74a203b2-1594-4eeb-abd8-6831e7047628>\n================================
      Human Message =================================\n\nActually I changed my mind,
      dark mode hurts my eyes\n\n================================== Ai Message ==================================\n\nI''ll
      update your preference\n</session_74a203b2-1594-4eeb-abd8-6831e7047628>"}],"model":"claude-3-5-sonnet-latest","system":"You
      are a memory subroutine for an AI.\n\n\n\nGenerate JSONPatches to update the
      existing schema instances. If you need to extract or insert *new* instances
      of the schemas, call the relevant function(s).\n<existing>\n<instance id=b8c28f61-4306-49df-85f4-578fbf67c656
      schema_type=\"PreferenceMemory\">\n{''category'': ''UI_PREFERENCES'', ''preference'':
      ''DARK_MODE'', ''context'': ''User explicitly stated preference for dark mode
      in all applications''}\n</instance>\n</existing>\n","tool_choice":{"type":"any"},"tools":[{"name":"PatchDoc","description":"Respond
      with JSONPatch operations to update the existing JSON document based on the
      provided text and schema.","input_schema":{"properties":{"json_doc_id":{"description":"The
      json_doc_id of the document you are patching.","type":"string"},"planned_edits":{"description":"Think
      step-by-step, reasoning over each required update and the corresponding JSONPatch
      operation to accomplish it. Cite the fields in the JSONSchema you referenced
      in developing this plan. Address each path as a group; don''t switch between
      paths.\n Plan your patches in the following order:1. replace - this keeps collection
      size the same.\n2. remove - BE CAREFUL ABOUT ORDER OF OPERATIONS. Each operation
      is applied sequentially. For arrays, remove the highest indexed value first
      to avoid shifting indices. This ensures subsequent remove operations remain
      valid.\n 3. add (for arrays, use /- to efficiently append to end).","type":"string"},"patches":{"description":"A
      list of JSONPatch operations to be applied to the previous tool call''s response
      arguments. If none are required, return an empty list. This field is REQUIRED.
      Multiple patches in the list are applied sequentially in the order provided,
      with each patch building upon the result of the previous one. Take care to respect
      array bounds. Order patches as follows:\n 1. replace - this keeps collection
      size the same\n 2. remove - BE CAREFUL about order of operations. For arrays,
      remove the highest indexed value first to avoid shifting indices.\n 3. add -
      for arrays, use /- to efficiently append to end.","items":{"description":"A
      JSON Patch document represents an operation to be performed on a JSON document.\n\nNote
      that the op and path are ALWAYS required. Value is required for ALL operations
      except ''remove''.","examples":[{"op":"replace","path":"/path/to/my_array/1","value":"the
      newer value to be patched"},{"op":"replace","path":"/path/to/broken_object","value":{"new":"object"}},{"op":"add","path":"/path/to/my_array/-","value":["some","values"]},{"op":"add","path":"/path/to/my_array/-","value":["newer"]},{"op":"remove","path":"/path/to/my_array/1"}],"properties":{"op":{"description":"The
      operation to be performed. Must be one of ''add'', ''remove'', ''replace''.","enum":["add","remove","replace"],"type":"string"},"path":{"description":"A
      JSON Pointer path that references a location within the target document where
      the operation is performed. Note: patches are applied sequentially. If you remove
      a value, the collection size changes before the next patch is applied.","type":"string"},"value":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"type":"null"}]},"type":"object"},{"type":"null"}],"description":"The
      value to be used within the operation. REQUIRED for ''add'', ''replace'', and
      ''test'' operations. Pay close attention to the json schema to ensure patched
      document will be valid."}},"required":["op","path","value"],"type":"object"},"type":"array"}},"required":["json_doc_id","planned_edits","patches"],"type":"object"}},{"name":"PreferenceMemory","description":"Store
      the user''s preference","input_schema":{"properties":{"category":{"type":"string"},"preference":{"type":"string"},"context":{"type":"string"}},"required":["category","preference","context"],"type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA4xTYU/bMBD9K9Z9Tlgb2hDybQjEUDcNBmxjK4pc+9J4pOfMvrREVf/75LSMVmjS
        Pvrevbt3785rMBpyWPh5MRjeTNJJlV1/HY6X32gyWd5MKHEZRMBdgyELvZdzhAicrUNAem88S2KI
        YGE11pCDqmWrMT6Ox7G3RMhxMkhGw0GSQATKEiMx5D/XL0XZ2rpofajaSwnvthgM09vV5OH49Ow2
        wfF3+YPPHrJEX0AEJBeBdy1ZVedWBR41LUO+hl/eUqGtKvpKs0wlWZkO49HxII1Hp7qMs3E5iscn
        WTkr0xOVjlOIoKklEeoCtWEPOVyaJZLgCoWytETnJRtLopf+zGJVocMebj06UUkvDGmjJKMWUqhK
        0hyFIdE4LNEhKRSlswuhpXsSwSXBVtRmXvH2pds+gh0Kz04aisSVIEQdom2jJfftjNuvuMCFdV3I
        cFjWqFhwZfyu+9GUpjQ8Evd/yfvUWSccNrVUhuY9tpR1i2IK5++/TIpPn88vpiBWhisxhY9Xlx/u
        drEpJQclXww50ICCcCUMldYttr7JmW2Da11Au51C/WaisIiwUfT9cdgGctjK3EEV5PDuIL/XDfme
        SNhE/6Tu5O7x7sP+8LmpjTJcv0r7z8VFwrPkYOJrQtU69rvZsEMPm8fN5jECz7YpHEpv6fDke8Dj
        77afKae2riNo+1+Wr7eHXbB9QvKQD09HaQRKqgoL5bC3tzhMGbzgDqV+i9mW9yPJONts/gAAAP//
        AwA6S3hWAgQAAA==
    headers:
      CF-RAY:
      - 90ad103b5f024cac-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:16:02 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T22:15:59Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T22:16:02Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T22:15:58Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T22:15:59Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01NMtmgF95ZZaHs9LzJqXbee
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are tasked
      with extracting or upserting memories for all entities, concepts, etc.\n\nExtract
      all important facts or entities. If an existing MEMORY is incorrect or outdated,
      update it based on the new information.\n\n\nEnrich, prune, and organize memories
      based on any new information. If an existing memory is incorrect or outdated,
      update it based on the new information. All operations must be done in single
      parallel call.\n\n<session_c9b3d2f7-2649-4a7f-82fd-788a9f19edcf>\n================================
      Human Message =================================\n\nmessages\n</session_c9b3d2f7-2649-4a7f-82fd-788a9f19edcf>"}],"model":"claude-3-5-sonnet-latest","system":"You
      are a memory subroutine for an AI.\n\n","tool_choice":{"type":"any"},"tools":[{"name":"Memory","description":"Call
      this tool once for each new memory you want to record. Use multi-tool calling
      to record multiple new memories.","input_schema":{"description":"Call this tool
      once for each new memory you want to record. Use multi-tool calling to record
      multiple new memories.","properties":{"content":{"description":"The memory as
      a well-written, standalone episode/fact/note/preference/etc. Refer to the user''s
      instructions for more information the prefered memory organization.","title":"Content","type":"string"}},"required":["content"],"title":"Memory","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2RRQW7bQAz8CsGzHEiKHUC65VKjB1/SIDkkhbDV0tKiEukuuXZUw38vpNQojB53
        ZzgzHJ4xeKxx1K7Ji+14XJeVPlZdq51tn748/N4WFWZo04FmFqm6jjDDKMP84VSDmmPDDEfxNGCN
        7eCSp9X9arNSYSZblXm5LvKyxAxbYSM2rN/OV1ETGZqks+oSZX6nJi+KsKNN/0Ryv5te++3Lt0fb
        TLMRu3Ge29EocZqn+JAM6/M/cfzKYH1QaHtnoKQahDNgAU0/lrzhSPCXDhIh8F7i6CwIw8kpaO8i
        +Tt47gmSUgThYYI5sAfrCU4SPbxf+9B3hFOwXpLBIcox+MAdOJ5gJMeBu30aPt0+FjdP5sKgYAL0
        YdG1BuO8TCCFfZTxDi+X7xmqyaGJ5FT4tqYFUPqViFvCmtMwZJiWy9Tnzzoak5/EivXDusqwdW1P
        TRtp2bC5ZeRXPJLz/2OS7Eavulz+AAAA//8DAIpY+nM0AgAA
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90ad105e2a0d32c5-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:16:06 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T22:16:05Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T22:16:06Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T22:16:03Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T22:16:05Z'
      request-id:
      - req_01YFxQFmVxLtJ4Vpa6S2EJqi
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are tasked
      with extracting or upserting memories for all entities, concepts, etc.\n\nExtract
      all important facts or entities. If an existing MEMORY is incorrect or outdated,
      update it based on the new information.\n\n\nEnrich, prune, and organize memories
      based on any new information. If an existing memory is incorrect or outdated,
      update it based on the new information. All operations must be done in single
      parallel call.\n\n<session_29d75ba6-7186-46f1-b4cd-631e46eaf7fb>\n================================
      Human Message =================================\n\nmessages\n</session_29d75ba6-7186-46f1-b4cd-631e46eaf7fb>"}],"model":"claude-3-5-sonnet-latest","system":"You
      are a memory subroutine for an AI.\n\n\n\nGenerate JSONPatches to update the
      existing schema instances. If you need to extract or insert *new* instances
      of the schemas, call the relevant function(s).\n<existing>\n<instance id=7044344148575b7284a5203ea4ebb0d9
      schema_type=\"Memory\">\n{''content'': ''In this chat session, no substantive
      content or information was shared. The user only typed the word \"messages\"
      without providing any meaningful context or details to extract memories from.''}\n</instance>\n</existing>\n","tool_choice":{"type":"any"},"tools":[{"name":"PatchDoc","description":"Respond
      with JSONPatch operations to update the existing JSON document based on the
      provided text and schema.","input_schema":{"properties":{"json_doc_id":{"description":"The
      json_doc_id of the document you are patching.","type":"string"},"planned_edits":{"description":"Think
      step-by-step, reasoning over each required update and the corresponding JSONPatch
      operation to accomplish it. Cite the fields in the JSONSchema you referenced
      in developing this plan. Address each path as a group; don''t switch between
      paths.\n Plan your patches in the following order:1. replace - this keeps collection
      size the same.\n2. remove - BE CAREFUL ABOUT ORDER OF OPERATIONS. Each operation
      is applied sequentially. For arrays, remove the highest indexed value first
      to avoid shifting indices. This ensures subsequent remove operations remain
      valid.\n 3. add (for arrays, use /- to efficiently append to end).","type":"string"},"patches":{"description":"A
      list of JSONPatch operations to be applied to the previous tool call''s response
      arguments. If none are required, return an empty list. This field is REQUIRED.
      Multiple patches in the list are applied sequentially in the order provided,
      with each patch building upon the result of the previous one. Take care to respect
      array bounds. Order patches as follows:\n 1. replace - this keeps collection
      size the same\n 2. remove - BE CAREFUL about order of operations. For arrays,
      remove the highest indexed value first to avoid shifting indices.\n 3. add -
      for arrays, use /- to efficiently append to end.","items":{"description":"A
      JSON Patch document represents an operation to be performed on a JSON document.\n\nNote
      that the op and path are ALWAYS required. Value is required for ALL operations
      except ''remove''.","examples":[{"op":"replace","path":"/path/to/my_array/1","value":"the
      newer value to be patched"},{"op":"replace","path":"/path/to/broken_object","value":{"new":"object"}},{"op":"add","path":"/path/to/my_array/-","value":["some","values"]},{"op":"add","path":"/path/to/my_array/-","value":["newer"]},{"op":"remove","path":"/path/to/my_array/1"}],"properties":{"op":{"description":"The
      operation to be performed. Must be one of ''add'', ''remove'', ''replace''.","enum":["add","remove","replace"],"type":"string"},"path":{"description":"A
      JSON Pointer path that references a location within the target document where
      the operation is performed. Note: patches are applied sequentially. If you remove
      a value, the collection size changes before the next patch is applied.","type":"string"},"value":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"type":"null"}]},"type":"object"},{"type":"null"}],"description":"The
      value to be used within the operation. REQUIRED for ''add'', ''replace'', and
      ''test'' operations. Pay close attention to the json schema to ensure patched
      document will be valid."}},"required":["op","path","value"],"type":"object"},"type":"array"}},"required":["json_doc_id","planned_edits","patches"],"type":"object"}},{"name":"Memory","description":"Call
      this tool once for each new memory you want to record. Use multi-tool calling
      to record multiple new memories.","input_schema":{"properties":{"content":{"description":"The
      memory as a well-written, standalone episode/fact/note/preference/etc. Refer
      to the user''s instructions for more information the prefered memory organization.","type":"string"}},"required":["content"],"type":"object"}},{"name":"RemoveDoc","description":"Use
      this tool to remove (delete) a doc by its ID.","input_schema":{"properties":{"json_doc_id":{"description":"ID
      of the document to remove. Must be one of: (''7044344148575b7284a5203ea4ebb0d9'',)","type":"string"}},"required":["json_doc_id"],"type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2RSUU/bQAz+K5afU5SmCbA8sxc0EGLTpo2i6HpnmtsSXzj7KFnV/z4lVTfQHm1/
        /vzZn/foHdbYy7bJl+c63l1f+3h5MxbVcug/fX4ZtwYz1HGgCUUiZkuYYQzdlDAiXtSwYoZ9cNRh
        jbYzydFitagWEphJF0VelMu8KDBDG1iJFeuH/YlUQ+iaJBPrLGWK0yTm6ve3e/vhq7+//jicr553
        33/cLW8wQzb91Hdn1LZXwU59PCTFeo8/JXDjgm1mpou8LFdluSwvq4tqc1FclqYq8hWZkjab3H3A
        DIfOMJNryHkVrPFLS0CvXtTzFnrqQxzBWJuiUepGiPTUkVUBbY2CZ9DWC9gpEBLxgTPQliAJRQjc
        jTAt6ebcLkQH69MNZY2w89qGpDDE8OLdNNHwCD0Z9rx9Sh3M13pVCBGMc159YNOB56cQezNFZ3Ab
        IA3OKAmYSMBEjhwYmUfaFCOxnhaxZtAUSY6q/611tuY13wZg2h2hnmRmAg2wIbCRjP5ljQRegI9w
        SZvZf/9Cb3VNjZFsiO5sOvLkFAnWD4+Hw2OGomFoIhkJ/N7/uSD0nIgtYc2p6zJM88vV+6PLjYZf
        xIJ1kVdFhtbYlppZoA/cvIfkp3ok4/6vhaRvM8uqPBz+AAAA//8DAM1Q868PAwAA
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90ad10711d4932c5-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:16:09 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T22:16:08Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T22:16:09Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T22:16:06Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T22:16:08Z'
      request-id:
      - req_01AkxAKvG4yJZqXK3FoTqwAT
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are tasked
      with extracting or upserting memories for all entities, concepts, etc.\n\nExtract
      all important facts or entities. If an existing MEMORY is incorrect or outdated,
      update it based on the new information.\n\n\nEnrich, prune, and organize memories
      based on any new information. If an existing memory is incorrect or outdated,
      update it based on the new information. All operations must be done in single
      parallel call.\n\n<session_b13b8613-afd5-4cb2-86dd-378920b04adb>\n================================
      Human Message =================================\n\nmessages\n</session_b13b8613-afd5-4cb2-86dd-378920b04adb>"}],"model":"claude-3-5-sonnet-latest","system":"You
      are a memory subroutine for an AI.\n\n","tool_choice":{"type":"any"},"tools":[{"name":"PreferenceMemory","description":"Store
      user preferences.","input_schema":{"description":"Store user preferences.","properties":{"category":{"title":"Category","type":"string"},"preference":{"title":"Preference","type":"string"},"context":{"title":"Context","type":"string"}},"required":["category","preference","context"],"title":"PreferenceMemory","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2RQ206DQBD9FTLPSwK0lbpvTdNYNbZqoTExhmxgRFrYpbuz2Ibw7wa0xsbHOZeZ
        M6eFIgMOlckTz5/424yW43gbhvvJMdf5qHka3QADOtXYq9AYkSMw0KrsAWFMYUhIAgaVyrAEDmkp
        bIbuyJ24RkmJ5AZeMPa9IAAGqZKEkoC/tuelpFSZWNNvHaL0s008/27cHITY7a7vTWPjaSDqWRgt
        gYEUVe971PiOGmWKD1gpfer9srYEvIVUEOY9xmG+Xm0Xz5tZdLteJfP1Klq8RMCg/nUDh000i+LN
        Od6RgENsUDsaDxYNYeaQcpoCP52fBgx03RsDQ6pONAqj5OUjA2F693BA2rJkYIfuePsdMyG1R2mA
        X3khg1SkH5ikGgUVSiaXCu/MaxTZf05Z+otMg677AgAA//8DAF+zPSjWAQAA
    headers:
      CF-RAY:
      - 90ad1088fea84cac-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:16:12 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T22:16:11Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T22:16:12Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T22:16:10Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T22:16:11Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01HsYB2KnGJAuaEkcd83T2kE
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are tasked
      with extracting or upserting memories for all entities, concepts, etc.\n\nExtract
      all important facts or entities. If an existing MEMORY is incorrect or outdated,
      update it based on the new information.\n\n\nEnrich, prune, and organize memories
      based on any new information. If an existing memory is incorrect or outdated,
      update it based on the new information. All operations must be done in single
      parallel call.\n\n<session_5bf5002e-bdd4-44ed-ba4c-99a326b1ba06>\n================================
      Human Message =================================\n\nmessages\n</session_5bf5002e-bdd4-44ed-ba4c-99a326b1ba06>"}],"model":"claude-3-5-sonnet-latest","system":"You
      are a memory subroutine for an AI.\n\n","tool_choice":{"type":"any"},"tools":[{"name":"Memory","description":"Call
      this tool once for each new memory you want to record. Use multi-tool calling
      to record multiple new memories.","input_schema":{"description":"Call this tool
      once for each new memory you want to record. Use multi-tool calling to record
      multiple new memories.","properties":{"content":{"description":"The memory as
      a well-written, standalone episode/fact/note/preference/etc. Refer to the user''s
      instructions for more information the prefered memory organization.","title":"Content","type":"string"}},"required":["content"],"title":"Memory","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2SR3Y7TQAyFX8Xy9RSlYbsrcg1cIG0loIsQ7CpyJ04z2sROZzy0VdV3RwlUqOLS
        Pj6f/84YGqxwSLu6WJZ5XG9+PW5p/WGTtXxYf/q+3X5Eh3YaearilGjH6DBqPyUopZCMxNDhoA33
        WKHvKTe8eLtYLZKKsC3KorxbFmWJDr2KsRhWP89XqKn2dU4TdR5linNdLO93X9792B/WX9+3D/r0
        +m21f/psR3QoNEy+Rx40niaXjNmwOv+D46bjyECRQRQGJgmya3MPLXlLDlgsWODkQCN4Fc+jJTAF
        Plokb9BGHcC6kODvykAJgoFKf5oMRkESWMdw0NjA8/Uy6RnhEKzTbEByAmqaYEGF+tnFR5s6Bmk1
        DjQJb/ByeXGYTMc6MiWV24vMQuJ9ZvGMleS+d5jnJ1TnP5vXpq8sCav7u6VDT77j2kee8fVtRXHV
        I1Pzv6bZbniry+U3AAAA//8DAMcUrSAfAgAA
    headers:
      CF-RAY:
      - 90ad109848b94cac-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:16:14 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T22:16:14Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T22:16:14Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T22:16:12Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T22:16:14Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_016tM7SumJLKxgL32BV6q5RU
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: "{\"max_tokens\":1024,\"messages\":[{\"role\":\"user\",\"content\":\"You
      are reviewing the performance of an AI assistant in a given interaction. \\n\\n##
      Instructions\\n\\nThe current prompt that was used for the session is provided
      below.\\n\\n<current_prompt>\\nYou are an astronomy expert\\n</current_prompt>\\n\\nThe
      developer provided the following instructions around when and how to update
      the prompt:\\n\\n<update_instructions>\\n\\n</update_instructions>\\n\\n## Session
      data\\n\\nAnalyze the following sessions (and any associated user feedback)
      (either conversations with a user or other work that was performed by the assistant):\\n\\n<sessions>\\n<session_5dfdf993df9949d1b6eddd1ad3cb8f8c>\\n================================
      Human Message =================================\\n\\nTell me about the solar
      system\\n\\n================================== Ai Message ==================================\\n\\nThe
      solar system consists of...\\n\\nFeedback for session 5dfdf993df9949d1b6eddd1ad3cb8f8c:\\n<FEEDBACK>\\n{'clarity':
      'needs more structure'}\\n</FEEDBACK>\\n</session_5dfdf993df9949d1b6eddd1ad3cb8f8c>\\n</sessions>\\n\\ni##
      Feedback\\n\\nThe following feedback is provided for this session:\\n\\n<feedback>\\n\\n</feedback>\\n\\n##
      Task\\n\\nAnalyze the conversation, including the user\u2019s request and the
      assistant\u2019s response, and evaluate:\\n1. How effectively the assistant
      fulfilled the user\u2019s intent.\\n2. Where the assistant might have deviated
      from user expectations or the desired outcome.\\n3. Specific areas (correctness,
      completeness, style, tone, alignment, etc.) that need improvement.\\n\\nIf the
      prompt seems to do well, then no further action is needed. We ONLY recommend
      updates if there is evidence of failures.\\nWhen failures occur, we want to
      recommend the minimal required changes to fix the problem.\\n\\nFocus on actionable
      changes and be concrete.\\n\\n1. Summarize the key successes and failures in
      the assistant\u2019s response. \\n2. Identify which failure mode(s) best describe
      the issues (examples: style mismatch, unclear or incomplete instructions, flawed
      logic or reasoning, hallucination, etc.).\\n3. Based on these failure modes,
      recommend the most suitable edit strategy. For example, consider::\\n   - Use
      synthetic few-shot examples for style or clarifying decision boundaries.\\n
      \  - Use explicit instruction updates for conditionals, rules, or logic fixes.\\n
      \  - Provide step-by-step reasoning guidelines for multi-step logic problems.\\n4.
      Provide detailed, concrete suggestions for how to update the prompt accordingly.\\n\\nBut
      remember, the final updated prompt should only be changed if there is evidence
      of poor performance, and our recommendations should be minimally invasive.\\nDo
      not recommend generic changes that aren't clearly linked to failure modes.\\n\\nFirst
      think through the conversation and critique the current behavior.\\nIf you believe
      the prompt needs to further adapt to the target context, provide precise recommendations.\\nOtherwise,
      mark `warrants_adjustment` as False and respond with 'No recommendations.'\"}],\"model\":\"claude-3-5-sonnet-latest\",\"tool_choice\":{\"type\":\"any\"},\"tools\":[{\"name\":\"think\",\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"input_schema\":{\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"properties\":{\"thought\":{\"title\":\"Thought\",\"type\":\"string\"}},\"required\":[\"thought\"],\"title\":\"think\",\"type\":\"object\"}},{\"name\":\"critique\",\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"input_schema\":{\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"properties\":{\"criticism\":{\"title\":\"Criticism\",\"type\":\"string\"}},\"required\":[\"criticism\"],\"title\":\"critique\",\"type\":\"object\"}}]}"
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA4RUS1MjNxD+K1267MV2sIGqzdwWAilY2MoGdiskTrmEpu1RLHUP6hZgKP57SjO2
        sTeHHPXo1tffQ6/G16YyURazg/H1Sbo7e/l6edJ8+3T8sX5e2l9ufz43A6OrFsstFLELNAOTOJQN
        K+JFLakZmMg1BlMZF2yucXg4PB4KE6EOJweTo/HBZGIGxjEpkprqr9dNU2UOsyylawelrPPsYHzy
        5epyfklHn86/n81PY0tnt/IwNwNDNnZ1jadlKaI2q6lejTacF42aylyhQkSwZMPqBUEbL+CYHjGJ
        Vc8ElmrQBmGOWN9bt6ymNKXxCE4LvGet4MSKd2BFExPHFTxklL7ynrN2tcLBJpCVKMYpTUZwmlNC
        UmgTx1Yr+I5pBdGTjzbA1NxxBpsKqp2++Nxi0qmZ0uEIvgmmLSTwVHtnFQUSSsskCFNDiLVA5IQg
        mrLTnLBUH43gykevWO8PWlu1cJ8VpOEnARfQJuC25aSZvK5gzgl8bBM/YkTSwsNnXMGFSEappjSE
        2wbhvgDv54KaUehDN+ajrxEW2deWHALTO9ItOOAENbbalFZfGDz1R55J1mS2CQVJe8BzTtFqqQr4
        iAF4DjWq9aHUX3sRTwuofcKuRXmz4SdQBk4LS/4FwXFsAz5vSfbOBvDUN/ZMpdGVdUvZQx7tsnRe
        +xOscyji7wN2XnnCEIbbmerC0m0x1ZNNyZIK2PqfLFoYBPGlpTaY8MOG8a2o/cSbTgVYR/TIvL0N
        /jcRp0dXv/96+ufnp8c/viyXh1+P3eru4eY9ES559Q8Zd0PR7Tkv0VTm3PpQJLnmutN2PIIbXQX8
        6War1rWXaNU1VSd7m3y0adWDBC8Qygw832Nuzf+74hsTSJeKC+oFUYSLHe03D+xZSlp0fr7q4lWS
        4Yqff/BBscZa67Wch6OtMdb5hd9sshEVk1TFdLtw1aYFKthce+y2ij/Fpy45sU3YIEmxVvdurzSC
        28t2oUKZt+FWBiQpszum8iMi6eBH07zzAtrY8kGhQi6R70e1fSZKILHOrlvasPNXrL1ZvPL3wIhy
        O0tohWnfMt2B4EMu45mKcggDk7t/u3rtjTFTXiKJqcbj48OBcdY1OHMJuzdn+1cONucJbf3fM866
        uzP5OH57+xcAAP//AwBeh1vgVAYAAA==
    headers:
      CF-RAY:
      - 90ad10a7daa24caf-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:16:22 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T22:16:16Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T22:16:22Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T22:16:15Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T22:16:16Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01AQePGT1UzBxpKZEyTtEynS
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: "{\"max_tokens\":1024,\"messages\":[{\"role\":\"user\",\"content\":\"You
      are reviewing the performance of an AI assistant in a given interaction. \\n\\n##
      Instructions\\n\\nThe current prompt that was used for the session is provided
      below.\\n\\n<current_prompt>\\nYou are an astronomy expert\\n</current_prompt>\\n\\nThe
      developer provided the following instructions around when and how to update
      the prompt:\\n\\n<update_instructions>\\n\\n</update_instructions>\\n\\n## Session
      data\\n\\nAnalyze the following sessions (and any associated user feedback)
      (either conversations with a user or other work that was performed by the assistant):\\n\\n<sessions>\\n<session_5dfdf993df9949d1b6eddd1ad3cb8f8c>\\n================================
      Human Message =================================\\n\\nTell me about the solar
      system\\n\\n================================== Ai Message ==================================\\n\\nThe
      solar system consists of...\\n\\nFeedback for session 5dfdf993df9949d1b6eddd1ad3cb8f8c:\\n<FEEDBACK>\\n{'clarity':
      'needs more structure'}\\n</FEEDBACK>\\n</session_5dfdf993df9949d1b6eddd1ad3cb8f8c>\\n</sessions>\\n\\ni##
      Feedback\\n\\nThe following feedback is provided for this session:\\n\\n<feedback>\\n\\n</feedback>\\n\\n##
      Task\\n\\nAnalyze the conversation, including the user\u2019s request and the
      assistant\u2019s response, and evaluate:\\n1. How effectively the assistant
      fulfilled the user\u2019s intent.\\n2. Where the assistant might have deviated
      from user expectations or the desired outcome.\\n3. Specific areas (correctness,
      completeness, style, tone, alignment, etc.) that need improvement.\\n\\nIf the
      prompt seems to do well, then no further action is needed. We ONLY recommend
      updates if there is evidence of failures.\\nWhen failures occur, we want to
      recommend the minimal required changes to fix the problem.\\n\\nFocus on actionable
      changes and be concrete.\\n\\n1. Summarize the key successes and failures in
      the assistant\u2019s response. \\n2. Identify which failure mode(s) best describe
      the issues (examples: style mismatch, unclear or incomplete instructions, flawed
      logic or reasoning, hallucination, etc.).\\n3. Based on these failure modes,
      recommend the most suitable edit strategy. For example, consider::\\n   - Use
      synthetic few-shot examples for style or clarifying decision boundaries.\\n
      \  - Use explicit instruction updates for conditionals, rules, or logic fixes.\\n
      \  - Provide step-by-step reasoning guidelines for multi-step logic problems.\\n4.
      Provide detailed, concrete suggestions for how to update the prompt accordingly.\\n\\nBut
      remember, the final updated prompt should only be changed if there is evidence
      of poor performance, and our recommendations should be minimally invasive.\\nDo
      not recommend generic changes that aren't clearly linked to failure modes.\\n\\nFirst
      think through the conversation and critique the current behavior.\\nIf you believe
      the prompt needs to further adapt to the target context, provide precise recommendations.\\nOtherwise,
      mark `warrants_adjustment` as False and respond with 'No recommendations.'\"},{\"role\":\"assistant\",\"content\":[{\"type\":\"tool_use\",\"name\":\"think\",\"input\":{\"thought\":\"Let
      me analyze this conversation and the feedback:\\n\\n1. Context: Basic astronomy
      question about the solar system\\n2. Current prompt: Very minimal \\\"You are
      an astronomy expert\\\"\\n3. User feedback indicates response \\\"needs more
      structure\\\"\\n4. Limited conversation data but shows clear opportunity for
      improvement\\n\\nKey Issues:\\n- The bare prompt doesn't provide guidance on
      response structure or depth\\n- No instructions about presentation format or
      level of detail\\n- Missing direction on how to organize complex astronomical
      information\\n- Lacks guidance on making content accessible and well-structured\\n\\nThis
      warrants adjustment since there's clear feedback about structural issues.\"},\"id\":\"toolu_01BNLJfJn4AFVEfCmpnETsqf\"},{\"type\":\"tool_use\",\"name\":\"critique\",\"input\":{\"criticism\":\"Failure
      Modes:\\n1. Style/Structure Mismatch: The primary issue is lack of guidance
      on how to structure responses\\n2. Incomplete Instructions: The prompt doesn't
      specify the expected level of detail or organization\\n3. Missing Context Parameters:
      No guidance on target audience or desired comprehension level\\n\\nThe current
      prompt is too minimal to ensure consistent, well-structured responses that meet
      user expectations for educational astronomy content.\"},\"id\":\"toolu_01C4LRGCZKwvXNkk3Q5cyYqS\"}]},{\"role\":\"user\",\"content\":[{\"type\":\"tool_result\",\"content\":\"\",\"tool_use_id\":\"toolu_01BNLJfJn4AFVEfCmpnETsqf\",\"is_error\":false},{\"type\":\"tool_result\",\"content\":\"\",\"tool_use_id\":\"toolu_01C4LRGCZKwvXNkk3Q5cyYqS\",\"is_error\":false}]}],\"model\":\"claude-3-5-sonnet-latest\",\"tool_choice\":{\"type\":\"any\"},\"tools\":[{\"name\":\"think\",\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"input_schema\":{\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"properties\":{\"thought\":{\"title\":\"Thought\",\"type\":\"string\"}},\"required\":[\"thought\"],\"title\":\"think\",\"type\":\"object\"}},{\"name\":\"critique\",\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"input_schema\":{\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"properties\":{\"criticism\":{\"title\":\"Criticism\",\"type\":\"string\"}},\"required\":[\"criticism\"],\"title\":\"critique\",\"type\":\"object\"}},{\"name\":\"recommend\",\"description\":\"Decides
      whether a prompt should be adjusted.\\nIf warrants_adjustment is True, we incorporate
      recommended changes.\\nIf not, we respond 'No recommendations.'\",\"input_schema\":{\"description\":\"Decides
      whether a prompt should be adjusted.\\nIf warrants_adjustment is True, we incorporate
      recommended changes.\\nIf not, we respond 'No recommendations.'\",\"properties\":{\"warrants_adjustment\":{\"title\":\"Warrants
      Adjustment\",\"type\":\"boolean\"},\"hypotheses\":{\"anyOf\":[{\"type\":\"string\"},{\"type\":\"null\"}],\"title\":\"Hypotheses\"},\"full_recommendations\":{\"anyOf\":[{\"type\":\"string\"},{\"type\":\"null\"}],\"title\":\"Full
      Recommendations\"}},\"required\":[\"warrants_adjustment\"],\"title\":\"recommend\",\"type\":\"object\"}}]}"
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2RUYW/jNgz9K4Q+O0GTtFgv33ZDdyuGdS2uQzEsQ6BIjM1VplyRSs4r+t8H2U7W
        4j4Zlkg+8r1HvRryZm1aqbcXiy99+nRzoMPT9dXDr59W+y/3dyvrTGW077BEoYit0VQmxVAOrAiJ
        WlZTmTZ6DGZtXLDZ42w1u5pJZEadLS+Wl4uL5dJUxkVWZDXrv15PRTXGsM1Sqg6tlP+8vVgsr1Hu
        Xi77x58f5LG+eXj8/HT3y1dTGbZtyUvoYtsi+5LIXVazfjVHm5Jlla31/2TRdsDSlLEyTd9FbVBQ
        zNos5vCj98Q1iKbsNCeEOpPHQIwCRwoBqO1SPCAklC6yIMRUW6Z/rVLkDS/n8LVDR/u+lPGolgIE
        PGAY0xsMHTgbaJesvqvisdNmw6s53LILeWiiSyjIOlSGfUyt1bEIcmPZIbhgE2lvKrPPIWzPsw8Z
        ZaBbOJ9B7so516ANQpdi2yloXG94wxvzZ8xgE4JlsKIpcmx7wG8dJoVjE0v8gTwKuIA2VXDEEGZn
        knwJDZZH3Dk8NchgWY6YCuBLRhluBrDFHD5jTQxH0gYs7BLhHuIB04HwCDGBxz0xnfn8fSQYgXgk
        odBBrPHUTIg1ORtA0A0wA41/CMIuh4AKXSRWKZU5tzss/QYSlcIpPGMPe+tUwLIHF9suMrLKhi/n
        cD8q8AF5n2ILNTImG0AjyCA3uQ1fzeGnOKiH03DcQ8KABzvUUEyFCK4nwJhgcP43LbzcsBS/vWdy
        lMQ5FKFdwIJmz9A2e8LigmNDAaG1xGqJB/c6QtbSVMnOybp+EsWjuES7ElRGDfgNpBfFViDQMw7e
        kBhsmo6r6Wu1MBx6cEWoIawQ9z9dA3vaIKUy8dh+Q53MN6YM99iQjA5EP5lvveFZWbeEIigj8mQo
        G4BEMgo0VDeB6qakEcMe0e+sey6p9x8s+X5Pi6zTVpZBTzsmJeu3iaYRcHL4pMLEpPXfb1+pXlau
        lLgVaImpHfggPlihw0kFtanG85adrHGahvwoC/pSZxRc3jE8smtrhLg/66OxIyfm7e3vyojGbpvQ
        SuSPb+RwIfiSiyPMmnMIlcnDs7x+HR/CrcZnLK/C4ofVojLOuga3LuEw4PZjyMXpPqH139/FrO9P
        ltert7f/AAAA//8DAKmES+IzBgAA
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90ad10d77c5232c8-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:16:28 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T22:16:23Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T22:16:28Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T22:16:23Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T22:16:23Z'
      request-id:
      - req_014SFpUw6ctUMEBarZP3suRK
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are optimizing
      a prompt to handle its target task more effectively.\n\n<current_prompt>\nYou
      are an astronomy expert\n</current_prompt>\n\nWe hypothesize the current prompt
      underperforms for these reasons:\n\n<hypotheses>\n1. Adding structure guidelines
      will improve response organization\n2. Specifying detail level will help calibrate
      response depth\n3. Including presentation format will enhance clarity\n</hypotheses>\n\nBased
      on these hypotheses, we recommend the following adjustments:\n\n<recommendations>\nI
      recommend updating the prompt to:\n\n\"You are an astronomy expert who provides
      clear, well-structured explanations. When answering questions:\n\n1. Begin with
      a brief overview or definition\n2. Organize information into clear, logical
      sections\n3. Use bullet points or numbered lists for key facts and components\n4.
      Present information from general to specific\n5. Conclude with any relevant
      interesting facts or context\n\nEnsure explanations are accessible to a general
      audience while maintaining scientific accuracy. When describing complex systems
      like the solar system, systematically cover the key components and their relationships.\"\n\nThis
      updated prompt:\n- Addresses the structural issues highlighted in feedback\n-
      Provides clear guidelines for organizing responses\n- Maintains the expert context
      while adding presentation guidance\n- Is minimally invasive while targeting
      the specific issues identified\n- Ensures systematic coverage of complex topics\n</recommendations>\n\nRespond
      with the updated prompt. Remember to ONLY make changes that are clearly necessary.
      Aim to be minimally invasive:"}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"tool","name":"OptimizedPromptOutput"},"tools":[{"name":"OptimizedPromptOutput","description":"Schema
      for the optimized prompt output.","input_schema":{"description":"Schema for
      the optimized prompt output.","properties":{"analysis":{"description":"First,
      analyze the current results and plan improvements to reconcile them.","title":"Analysis","type":"string"},"improved_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Finally,
      generate the full updated prompt to address the identified issues.   The prompt
      section being optimized contains no input f-string variables. Any brackets {{
      foo }} you emit will be escaped and not used.","title":"Improved Prompt"}},"required":["analysis","improved_prompt"],"title":"OptimizedPromptOutput","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA3xU728bNwz9Vwh9vhix07XbfRv6A8EyLAGydujmwZAl+o6IjrqKlJ1rkP99kM52
        GxTYJ/soUnx871FPhrxpzSDd5nL5W/fR/t2lbvz0rn+zvcHr90v+5a1pjE4jliwUsR2axqQYSsCK
        kKhlNY0ZosdgWuOCzR4vri5+upDIjHqxuly9Wl6uVqYxLrIiq2n/eTpdqjGGTZZya4VSvvPmcvkr
        +en1l+nxw/Vd2i+/Pn6+v/nd7U1j2A6l7nZUGugr+rsUh1Fvs4654CAuv+2TsWzDJCSmNX/2CC6n
        hKww1nRYm88xg00IlsGKpshxmAAfR0y6NkACcY8pTCA0jIFEyYFlD8G6B4Euk7fsECJDQhkjC4Jo
        yk5zvdODx1H7BZTe/TRG7VFQ6klCF4cB2VulyALkkZV2E+xtIA9xHGPSzKSEAruYgIYxxT0OBf8u
        uizoS+OYOsv0td7SgEe1FMDZQNt0jJVuY0JB1hoBF2winRZrXvMNToUAK6ARrPcJRdo1Lxdwfxqk
        hbczbWECji+m7uOh1B0x4JkFWfNqAe9mMAH3GFr4IwKxJzdjiDtQmzpUcHEYE/bIUuI1ec1XC/gQ
        02C11smIjnbH0pmNFwOJTgHX/GoB9y6O2ML7quCRU52KkChqt4GkRw/brHAg7WNW2GJv9xSTDXUy
        DMQF/pqLZmeR0IPrLXdFPO+LRtluw/dqH3oKCIMlVktM3IEWw8WERz+d0SzgOh5wj6mBA4KzBX9C
        O5TOtUhy16HMs2qELcJQrnGRHcmpUyUg7U+NHnD63iGyKFswf/vNbHfT/p/d4dDHshd78ijgAtrU
        fBvPl6xgeVagigNoXX9WvC2UVdfYNJMLFraJcFdXaE94qJ64PVmFeFcFLvoRa4QQO3I2gKCbR89S
        htvmEFBhjMQqEBNwHrZYEJV9lGqVu9kMlSEcVWCX4gAdMhZZ9ZuBqkc+CkKw3GXbIVjnUISKlmUB
        zkU2e8Li8h91FUd1Vctb4FxO1k1l+L965JmlOa34OuDjmeh5uEkUB2mOf6yWaJjAFZKqiKUscpGw
        Lq72SAkShpn5nkZZmOfnfxsjGsdN2dzIL1/QeiD4JRf8puUcQmNyfbTbp/lp3Gh8QBbT/nz1pjHO
        uh43LmHtsXmZcXk6T2j9j2exPrnnyOr11fPzfwAAAP//AwAT450bUAYAAA==
    headers:
      CF-RAY:
      - 90ad10fc281f32c6-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:16:34 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T22:16:30Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T22:16:34Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T22:16:28Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T22:16:30Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01HWhqJgnQJiKuGUFbQ21JXn
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are helping
      an AI assistant learn by optimizing its prompt.\n\n## Background\n\nBelow is
      the current prompt:\n\n<current_prompt>\nYou are a quantum computing expert\n</current_prompt>\n\nThe
      developer provided these instructions regarding when/how to update:\n\n<update_instructions>\n\n</update_instructions>\n\n##
      Session Data\nAnalyze the session(s) (and any user feedback) below:\n\n<sessions>\n<session_e909228b5de44b399b1cf3ddc8e6d70e>\n================================
      Human Message =================================\n\nExplain quantum computing\n\n==================================
      Ai Message ==================================\n\nQuantum computing uses...\n\nFeedback
      for session e909228b5de44b399b1cf3ddc8e6d70e:\n<FEEDBACK>\nNeed better organization
      and concrete examples\n</FEEDBACK>\n</session_e909228b5de44b399b1cf3ddc8e6d70e>\n</sessions>\n\n##
      Instructions\n\n1. Reflect on the agent''s performance on the given session(s)
      and identify any real failure modes (e.g., style mismatch, unclear or incomplete
      instructions, flawed reasoning, etc.).\n2. Recommend the minimal changes necessary
      to address any real failures. If the prompt performs perfectly, simply respond
      with the original prompt without making any changes.\n3. Retain any f-string
      variables in the existing prompt exactly as they are (e.g. {variable_name}).\n\nIFF
      changes are warranted, focus on actionable edits. Be concrete. Edits should
      be appropriate for the identified failure modes. For example, consider synthetic
      few-shot examples for style or clarifying decision boundaries, or adding or
      modifying explicit instructions for conditionals, rules, or logic fixes; or
      provide step-by-step reasoning guidelines for multi-step logic problems if the
      model is failing to reason appropriately."}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"any"},"tools":[{"name":"think","description":"Reflection
      tool implementation.","input_schema":{"description":"Reflection tool implementation.","properties":{"thought":{"title":"Thought","type":"string"}},"required":["thought"],"title":"think","type":"object"}},{"name":"critique","description":"Critique
      tool implementation.","input_schema":{"description":"Critique tool implementation.","properties":{"criticism":{"title":"Criticism","type":"string"}},"required":["criticism"],"title":"critique","type":"object"}},{"name":"OptimizedPromptOutput","description":"Schema
      for the optimized prompt output.","input_schema":{"description":"Schema for
      the optimized prompt output.","properties":{"analysis":{"description":"First,
      analyze the current results and plan improvements to reconcile them.","title":"Analysis","type":"string"},"improved_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Finally,
      generate the full updated prompt to address the identified issues.   The prompt
      section being optimized contains no input f-string variables. Any brackets {{
      foo }} you emit will be escaped and not used.","title":"Improved Prompt"}},"required":["analysis","improved_prompt"],"title":"OptimizedPromptOutput","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA4xU21IjNxD9lS49G8c2LBv8BhtyqYTsVrELS4WUqy31zHTQSEJq4Qvlf09JxmCy
        pJK3GWlOT59L96Nio6aqT+1sNP79ZPGlWf/1wxGKvmxPw/rk+Oye1EDJKlD5ilLCthxEb8sBpsRJ
        0IkaqN4bsmqqtMVs6ODw4N1B8s6RHExGk6PxaDJRA6W9E3Kipn887oqK93aWU6laWynveTYaX9xI
        XH04N/1vn6W9eJiPf725/PFKDZTDvuI6dncF5EIWNX1U0vncdqKm6nNHoHOM5ARC9H0Q4AS0lEg9
        2RX07LhHOyiXD2zYteCdXQFC4QULLqUE0K2gzWzQaQLvoPMLEA9JYtaSI0GkFLxLlMBHwBCiR93B
        fUYnuQft+5ClFKdlsOhQ2Ls0hNJdQ2TmqO+AnWGNQgkQHJGBxkeYkwhF8LFFx+uKA3QGtHc6khDQ
        EvtgKQ1g0bHuAGszmLzDuS2P95mSJGj5gRxIkcMXwJJlBb55o0XxgfVTc8+uwsJna2BOjhoWaKLv
        KxfWLMBuK0Qh9aY6+6xr++y0j8FH3GMwVJvN4D+zcO75/Zfj8dcrf3p2c30VJse6vVm+ZEFHFr7P
        tB+HeqY59W8HokG2CcRPb914CD9lNlSF2hf9uxcyvnlx+9ZNhnDehw4Tr7co7oOPsg1K861PlT46
        tL7lgj8cwmUgzc2qomt0QuQijKUHsqWIkO4ca7RgKEh3646GcGpMpJQqqKZFPPR492xv/TMFSYBa
        U0o8t/S/BP55fX24/nrz/vRDdy75+vLyrH93nF4E/hiEe16T+VTV+5ilqLyndiG3SpyexH4SufSY
        IHHruGFdEkWuKyr1xQnxgHuE9pVHWyXb6XcQyaKU6XiamyFcE6SuxHNr4AWyE+Rt2GkZKMp2mOdl
        kI2BVPVm/Wqid/7+c0irw784bbOh10HHedkMOW0R/+ruqTH1R2TZ0Q41R4tO12l79ha1zhH1qi6d
        Z9fYsqyq47uYIGhLuLdlxMM8Et6VcsYv3DcRUJvNnwOVxIfZdjW8tr9epLIonCY1ddnagcp1vU8f
        t77OxN+RS2o6Hh1/P1AadUczHalqNHv9yWh3HwnNt3e+Bub55Ohkstn8DQAA//8DALJZQZJ7BgAA
    headers:
      CF-RAY:
      - 90ad11219bf04cb6-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:16:45 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T22:16:35Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T22:16:45Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T22:16:34Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T22:16:35Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01JeohbokRYRetYjHXmHs9n9
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are helping
      an AI assistant learn by optimizing its prompt.\n\n## Background\n\nBelow is
      the current prompt:\n\n<current_prompt>\nYou are a quantum computing expert\n</current_prompt>\n\nThe
      developer provided these instructions regarding when/how to update:\n\n<update_instructions>\n\n</update_instructions>\n\n##
      Session Data\nAnalyze the session(s) (and any user feedback) below:\n\n<sessions>\n<session_e909228b5de44b399b1cf3ddc8e6d70e>\n================================
      Human Message =================================\n\nExplain quantum computing\n\n==================================
      Ai Message ==================================\n\nQuantum computing uses...\n\nFeedback
      for session e909228b5de44b399b1cf3ddc8e6d70e:\n<FEEDBACK>\nNeed better organization
      and concrete examples\n</FEEDBACK>\n</session_e909228b5de44b399b1cf3ddc8e6d70e>\n</sessions>\n\n##
      Instructions\n\n1. Reflect on the agent''s performance on the given session(s)
      and identify any real failure modes (e.g., style mismatch, unclear or incomplete
      instructions, flawed reasoning, etc.).\n2. Recommend the minimal changes necessary
      to address any real failures. If the prompt performs perfectly, simply respond
      with the original prompt without making any changes.\n3. Retain any f-string
      variables in the existing prompt exactly as they are (e.g. {variable_name}).\n\nIFF
      changes are warranted, focus on actionable edits. Be concrete. Edits should
      be appropriate for the identified failure modes. For example, consider synthetic
      few-shot examples for style or clarifying decision boundaries, or adding or
      modifying explicit instructions for conditionals, rules, or logic fixes; or
      provide step-by-step reasoning guidelines for multi-step logic problems if the
      model is failing to reason appropriately."},{"role":"assistant","content":[{"type":"text","text":"[{''id'':
      ''toolu_01MYtryCEdmLTtgMvb1KYSFV'', ''input'': {''thought'': ''The current prompt
      is extremely minimal, providing only a role without any guidance on how to structure
      responses or approach quantum computing explanations. The feedback indicates
      a need for better organization and concrete examples, which are reasonable requests
      given the complexity of quantum computing topics. The assistant would benefit
      from explicit instructions on how to structure explanations and incorporate
      examples.''}, ''name'': ''think'', ''type'': ''tool_use''}, {''id'': ''toolu_01Eoi7U61XVoABYWVp26cgYx'',
      ''input'': {''criticism'': ''The current prompt fails to:\\n1. Guide the organization/structure
      of responses\\n2. Emphasize the importance of concrete examples and analogies\\n3.
      Specify the appropriate level of technical depth\\n4. Address the need to make
      complex concepts accessible''}, ''name'': ''critique'', ''type'': ''tool_use''},
      {''id'': ''toolu_01HzW3zXY7AChEtuWSSBm56s'', ''input'': {''analysis'': ''The
      prompt needs significant enhancement to address the organizational and examples-related
      feedback. We should:\\n1. Maintain the expert role but add specific guidance
      on structuring explanations\\n2. Include instructions about using examples and
      analogies\\n3. Add guidelines about balancing technical accuracy with accessibility\\n4.
      Specify a clear approach to breaking down complex concepts''}, ''name'': ''OptimizedPromptOutput'',
      ''type'': ''tool_use''}]"},{"type":"tool_use","name":"OptimizedPromptOutput","input":{"analysis":"The
      prompt needs significant enhancement to address the organizational and examples-related
      feedback. We should:\n1. Maintain the expert role but add specific guidance
      on structuring explanations\n2. Include instructions about using examples and
      analogies\n3. Add guidelines about balancing technical accuracy with accessibility\n4.
      Specify a clear approach to breaking down complex concepts"},"id":"toolu_01HzW3zXY7AChEtuWSSBm56s"}]},{"role":"user","content":[{"type":"tool_result","content":"Error:\n\n```\n1
      validation error for OptimizedPromptOutput\n  Assertion failed,  [type=assertion_error,
      input_value={''analysis'': ''The prompt ... down complex concepts''}, input_type=dict]\n    For
      further information visit https://errors.pydantic.dev/2.10/v/assertion_error\n```\nExpected
      Parameter Schema:\n\n```json\n{''description'': ''Schema for the optimized prompt
      output.'', ''properties'': {''analysis'': {''description'': ''First, analyze
      the current results and plan improvements to reconcile them.'', ''title'': ''Analysis'',
      ''type'': ''string''}, ''improved_prompt'': {''anyOf'': [{''type'': ''string''},
      {''type'': ''null''}], ''description'': ''Finally, generate the full updated
      prompt to address the identified issues.   The prompt section being optimized
      contains no input f-string variables. Any brackets {{ foo }} you emit will be
      escaped and not used.'', ''title'': ''Improved Prompt''}}, ''required'': [''analysis'',
      ''improved_prompt''], ''title'': ''OptimizedPromptOutput'', ''type'': ''object''}\n```\nPlease
      use PatchFunctionErrors to fix all validation errors. for json_doc_id=[toolu_01HzW3zXY7AChEtuWSSBm56s].","tool_use_id":"toolu_01HzW3zXY7AChEtuWSSBm56s","is_error":true}]}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"any"},"tools":[{"name":"PatchFunctionErrors","description":"Respond
      with all JSONPatch operations required to update the previous invalid function
      call.\n\nUse to correct all validation errors in non-compliant function calls,
      or to extend or update existing structured data in the presence of new information.
      Closely analyze\nthe parameters from the original JSONSchema to ensure the patched
      document will be valid\nand that you avoid repeating the same errors.","input_schema":{"properties":{"json_doc_id":{"description":"The
      ID of the function you are patching.","type":"string"},"planned_edits":{"description":"Write
      a bullet-point list of each ValidationError you encountered and the corresponding
      JSONPatch operation needed to heal it. For each operation, write why your initial
      guess was incorrect,  citing the corresponding types(s) from the JSONSchema
      that will be used the validate the resultant patched document.  Think step-by-step
      to ensure no error is overlooked.","type":"string"},"patches":{"description":"A
      list of JSONPatch operations to be applied to the previous tool call''s response
      arguments. If none are required, return an empty list. This field is REQUIRED.
      Multiple patches in the list are applied sequentially in the order provided,
      with each patch building upon the result of the previous one.","items":{"description":"A
      JSON Patch document represents an operation to be performed on a JSON document.\n\nNote
      that the op and path are ALWAYS required. Value is required for ALL operations
      except ''remove''.","examples":[{"op":"replace","path":"/path/to/my_array/1","value":"the
      newer value to be patched"},{"op":"replace","path":"/path/to/broken_object","value":{"new":"object"}},{"op":"add","path":"/path/to/my_array/-","value":["some","values"]},{"op":"add","path":"/path/to/my_array/-","value":["newer"]},{"op":"remove","path":"/path/to/my_array/1"}],"properties":{"op":{"description":"The
      operation to be performed. Must be one of ''add'', ''remove'', ''replace''.","enum":["add","remove","replace"],"type":"string"},"path":{"description":"A
      JSON Pointer path that references a location within the target document where
      the operation is performed. Note: patches are applied sequentially. If you remove
      a value, the collection size changes before the next patch is applied.","type":"string"},"value":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"type":"null"}]},"type":"object"},{"type":"null"}],"description":"The
      value to be used within the operation. REQUIRED for ''add'', ''replace'', and
      ''test'' operations. Pay close attention to the json schema to ensure patched
      document will be valid."}},"required":["op","path","value"],"type":"object"},"type":"array"}},"required":["json_doc_id","planned_edits","patches"],"type":"object"}},{"name":"PatchFunctionName","description":"Call
      this if the tool message indicates that you previously invoked an invalid tool,
      (e.g., \"Unrecognized tool name\" error), do so here.","input_schema":{"properties":{"json_doc_id":{"description":"The
      ID of the function you are patching.","type":"string"},"reasoning":{"description":"At
      least 2 logical reasons why this action ought to be taken.Cite the specific
      error(s) mentioned to motivate the fix.","items":{"type":"string"},"type":"array"},"fixed_name":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"If
      you need to change the name of the function (e.g., from an \"Unrecognized tool
      name\" error), do so here. Must be one of think, critique, OptimizedPromptOutput"}},"required":["json_doc_id","reasoning","fixed_name"],"type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA4xV224bNxD9lQFf8iIJtqzU8b7FidvEadIAauomdSCMyFntxNwhw4tkxfC/F+RK
        it20QB9353bOmUPyTrFRjerjanF0PP/l0x+bty/l/PL00+X7sw+zl5svF5dqpNLWU8miGHFFaqSC
        s+UHxsgxoSQ1Ur0zZFWjtMVsaHwyfjqOToTSeHo0nR0fTadqpLSTRJJU89fdvmlyzi5yLF0rlPKd
        F0fHZ/HZ/M1VeLeUV2/mz96Ei9PzT7+eqZES7Evde0y6+zmLTuzkIgQXYmkhPifV3Kkv0cnCOL14
        1PTVt6uTb39+PH3+ortI+Wo+P++f/lTqvEURMgsynKJq1Bh+7whc4BULWmh3c0CjtbDBCD3HyLKC
        1BEE+po5kIEn3Pvg1mQWPrjepyfgMWBPiQKg1i6YWuJq1eX8t3dz3VGP1zKGd0SmRNAYQPCFHDhP
        AevY5IBF22yolu7HwDAGEt2WFdQqilVd51WjAnmLmoZQpxqlRmqNNlNRCAXtNnJhW7juWgmRiRB5
        JdyyRklA0qFo6knSDmCgGCsOF1Yo/K1iRAsoBugWe28pjgNZTGSgJTJL1DcTuCKIncvWNNdyPIG3
        yJKQpXaiW08hQfEVLHOqMkRPuoCAVWZTIIATiClknXIoQtJtWVudHq9lOoHXO41YhrQSAFy6nCDH
        oWJAV6EWAdyKKV7LyQSeG1MHkWWhfdUSLYquSyPdCevCUuscUG9hw6krXxQjL9ly2l7LbALzCnsL
        CNoSBkDvg0PdFfGWgfCmtDNuI6BdAXML2okmn6p/HxtINeqjy4CBAOFrRkm5r2U57QQoqsUbtpYM
        YIJ+aP/PzgeYliZw1ZEM2rGU5B/77suaa6mrmu9EJ9i6HB7pPpC026aYeJ4wpJ0u0PGqG1takwW3
        prBm2pSc8yLBAWBynnUEluTA8IpiKhghkt5tdQwfYrGEtZTAO5YUoXUBbmh7gFlQTifw3G5wGw8H
        pUQDJfqPpTf73oHQjjcu2AfBeuCszTEFTHRQyHckriepJ/Z9cGs25eCgTtUZh0Gu/RdR0XvLGg+8
        Xrjel8V+z9ztKjlosWfLGEDbcseW5j9up9A+mcB59Sj9P4dW1i+pZXlYkCj0ETbFFywpOJM1mZJ5
        MbjkOzYW6LNN7C1BUXsEbXA9RC7EC3JDCdkO1eeZrYHsh5zWZTH7q8IHFs1VrOSgd4EOlmBDWLnN
        dlY1HHUebtseU7kwU/GMCw8YDGOHpb7eUwAfqN7NkRNFaDnE9JBVvUolZa537JLaAqN1oa8NWxY+
        LOv1dzNUUdccc82KOrAfToILYBhXAfdadmR9m626v/98f/95pGJyfhEIo5PHD18NRPqaSTSpRrK1
        I5XrW9vcDW/aIrkbkqia6dnpbKQ06o4WOlAVdPE45WgfD4Tmx5jL6eGf2dPZ/f3fAAAA//8DAGUY
        RYUICAAA
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90ad1166bcc44cb6-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:16:53 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T22:16:46Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T22:16:53Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T22:16:46Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T22:16:46Z'
      request-id:
      - req_0187HTKvC5oPthqy71yzXxfb
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are helping
      an AI assistant learn by optimizing its prompt.\n\n## Background\n\nBelow is
      the current prompt:\n\n<current_prompt>\nYou are a quantum computing expert\n</current_prompt>\n\nThe
      developer provided these instructions regarding when/how to update:\n\n<update_instructions>\n\n</update_instructions>\n\n##
      Session Data\nAnalyze the session(s) (and any user feedback) below:\n\n<sessions>\n<session_e909228b5de44b399b1cf3ddc8e6d70e>\n================================
      Human Message =================================\n\nExplain quantum computing\n\n==================================
      Ai Message ==================================\n\nQuantum computing uses...\n\nFeedback
      for session e909228b5de44b399b1cf3ddc8e6d70e:\n<FEEDBACK>\nNeed better organization
      and concrete examples\n</FEEDBACK>\n</session_e909228b5de44b399b1cf3ddc8e6d70e>\n</sessions>\n\n##
      Instructions\n\n1. Reflect on the agent''s performance on the given session(s)
      and identify any real failure modes (e.g., style mismatch, unclear or incomplete
      instructions, flawed reasoning, etc.).\n2. Recommend the minimal changes necessary
      to address any real failures. If the prompt performs perfectly, simply respond
      with the original prompt without making any changes.\n3. Retain any f-string
      variables in the existing prompt exactly as they are (e.g. {variable_name}).\n\nIFF
      changes are warranted, focus on actionable edits. Be concrete. Edits should
      be appropriate for the identified failure modes. For example, consider synthetic
      few-shot examples for style or clarifying decision boundaries, or adding or
      modifying explicit instructions for conditionals, rules, or logic fixes; or
      provide step-by-step reasoning guidelines for multi-step logic problems if the
      model is failing to reason appropriately."},{"role":"assistant","content":[{"type":"tool_use","name":"think","input":{"thought":"The
      current prompt is extremely minimal, providing only a role without any guidance
      on how to structure responses or approach quantum computing explanations. The
      feedback indicates a need for better organization and concrete examples, which
      are reasonable requests given the complexity of quantum computing topics. The
      assistant would benefit from explicit instructions on how to structure explanations
      and incorporate examples."},"id":"toolu_01MYtryCEdmLTtgMvb1KYSFV"},{"type":"tool_use","name":"critique","input":{"criticism":"The
      current prompt fails to:\n1. Guide the organization/structure of responses\n2.
      Emphasize the importance of concrete examples and analogies\n3. Specify the
      appropriate level of technical depth\n4. Address the need to make complex concepts
      accessible"},"id":"toolu_01Eoi7U61XVoABYWVp26cgYx"},{"type":"tool_use","name":"OptimizedPromptOutput","input":{"analysis":"The
      prompt needs significant enhancement to address the organizational and examples-related
      feedback. We should:\n1. Maintain the expert role but add specific guidance
      on structuring explanations\n2. Include instructions about using examples and
      analogies\n3. Add guidelines about balancing technical accuracy with accessibility\n4.
      Specify a clear approach to breaking down complex concepts","improved_prompt":"You
      are a quantum computing expert skilled at making complex concepts accessible.
      When explaining quantum computing concepts:\n\n1. Structure your explanations
      clearly:\n- Start with a high-level overview\n- Break complex topics into digestible
      sections\n- Use bullet points for key concepts\n\n2. Always include concrete
      examples and analogies:\n- Use real-world analogies to illustrate quantum phenomena\n-
      Provide practical examples of quantum computing applications\n- Compare quantum
      concepts to familiar classical computing concepts\n\n3. Balance technical accuracy
      with accessibility:\n- Define technical terms when introduced\n- Explain concepts
      in multiple ways, from simple to detailed\n- Build up from foundational principles
      to more complex ideas\n\n4. When discussing mathematics or technical details:\n-
      Introduce prerequisites first\n- Explain the intuition before formal definitions\n-
      Illustrate with visual descriptions or diagrams when helpful"},"id":"toolu_01HzW3zXY7AChEtuWSSBm56s"}]},{"role":"user","content":[{"type":"tool_result","content":"","tool_use_id":"toolu_01MYtryCEdmLTtgMvb1KYSFV","is_error":false},{"type":"tool_result","content":"","tool_use_id":"toolu_01Eoi7U61XVoABYWVp26cgYx","is_error":false},{"type":"tool_result","content":"","tool_use_id":"toolu_01HzW3zXY7AChEtuWSSBm56s","is_error":false}]}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"any"},"tools":[{"name":"think","description":"Reflection
      tool implementation.","input_schema":{"description":"Reflection tool implementation.","properties":{"thought":{"title":"Thought","type":"string"}},"required":["thought"],"title":"think","type":"object"}},{"name":"critique","description":"Critique
      tool implementation.","input_schema":{"description":"Critique tool implementation.","properties":{"criticism":{"title":"Criticism","type":"string"}},"required":["criticism"],"title":"critique","type":"object"}},{"name":"OptimizedPromptOutput","description":"Schema
      for the optimized prompt output.","input_schema":{"description":"Schema for
      the optimized prompt output.","properties":{"analysis":{"description":"First,
      analyze the current results and plan improvements to reconcile them.","title":"Analysis","type":"string"},"improved_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Finally,
      generate the full updated prompt to address the identified issues.   The prompt
      section being optimized contains no input f-string variables. Any brackets {{
      foo }} you emit will be escaped and not used.","title":"Improved Prompt"}},"required":["analysis","improved_prompt"],"title":"OptimizedPromptOutput","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2RSS2sbMRD+K8Oc18GPJrh7C6HQQnuoCfRQyjKWxruqtSNZGjl2jP970ZqWhB71
        PUcjXdBZbHHMfTdfrDdfj4/rTXh6LiE+PH0fHuXT6wIb1HPkquKcqWdsMAVfAcrZZSVRbHAMlj22
        aDwVy7PV7H6WgwjrbDlffljMl0ts0ARRFsX25+VvqIbgu5Jr6jRKPZduvthwGn983vGqvz9kXn08
        xd8v3xI2KDROvsHJvpokFsX2gjqE0g+KLT4PDG6MKRzZQkxhjApkbeKcOYMODDtmuyWzh+25Co7O
        OunBeKYEfXGWxDAEgZB6EvdK6oIAiQU+0Rg9Z3gZnGcYyYmSk+quuXyKnBTqeu7gy9SaIUc2bucM
        OMmaiqlhGWgbisINKKkG8Cl6kqkrN1ByxUjIh95xbqb6LXkSM7WxGcQZ8mA56gAzIO/BJKcTuAvp
        lneb7VBItIxgwhiLTmW7HRt1R/bnO7xefzWYNcQuMeUg759lIjIfCothbKV432CZfkJ7ue2/07Bn
        ydguHtbzBg2ZgTuTeLpM917yj09M9n8uFH2LrJfX6x8AAAD//wMAO0x3FqUCAAA=
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90ad1198fe974cb6-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:16:55 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T22:16:55Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T22:16:55Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T22:16:53Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T22:16:55Z'
      request-id:
      - req_01QYptsuu3pSg7Pz4L6jYriC
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are helping
      an AI assistant learn by optimizing its prompt.\n\n## Background\n\nBelow is
      the current prompt:\n\n<current_prompt>\nYou are a quantum computing expert\n</current_prompt>\n\nThe
      developer provided these instructions regarding when/how to update:\n\n<update_instructions>\n\n</update_instructions>\n\n##
      Session Data\nAnalyze the session(s) (and any user feedback) below:\n\n<sessions>\n<session_e909228b5de44b399b1cf3ddc8e6d70e>\n================================
      Human Message =================================\n\nExplain quantum computing\n\n==================================
      Ai Message ==================================\n\nQuantum computing uses...\n\nFeedback
      for session e909228b5de44b399b1cf3ddc8e6d70e:\n<FEEDBACK>\nNeed better organization
      and concrete examples\n</FEEDBACK>\n</session_e909228b5de44b399b1cf3ddc8e6d70e>\n</sessions>\n\n##
      Instructions\n\n1. Reflect on the agent''s performance on the given session(s)
      and identify any real failure modes (e.g., style mismatch, unclear or incomplete
      instructions, flawed reasoning, etc.).\n2. Recommend the minimal changes necessary
      to address any real failures. If the prompt performs perfectly, simply respond
      with the original prompt without making any changes.\n3. Retain any f-string
      variables in the existing prompt exactly as they are (e.g. {variable_name}).\n\nIFF
      changes are warranted, focus on actionable edits. Be concrete. Edits should
      be appropriate for the identified failure modes. For example, consider synthetic
      few-shot examples for style or clarifying decision boundaries, or adding or
      modifying explicit instructions for conditionals, rules, or logic fixes; or
      provide step-by-step reasoning guidelines for multi-step logic problems if the
      model is failing to reason appropriately."},{"role":"assistant","content":[{"type":"tool_use","name":"think","input":{"thought":"The
      current prompt is extremely minimal, providing only a role without any guidance
      on how to structure responses or approach quantum computing explanations. The
      feedback indicates a need for better organization and concrete examples, which
      are reasonable requests given the complexity of quantum computing topics. The
      assistant would benefit from explicit instructions on how to structure explanations
      and incorporate examples."},"id":"toolu_01MYtryCEdmLTtgMvb1KYSFV"},{"type":"tool_use","name":"critique","input":{"criticism":"The
      current prompt fails to:\n1. Guide the organization/structure of responses\n2.
      Emphasize the importance of concrete examples and analogies\n3. Specify the
      appropriate level of technical depth\n4. Address the need to make complex concepts
      accessible"},"id":"toolu_01Eoi7U61XVoABYWVp26cgYx"},{"type":"tool_use","name":"OptimizedPromptOutput","input":{"analysis":"The
      prompt needs significant enhancement to address the organizational and examples-related
      feedback. We should:\n1. Maintain the expert role but add specific guidance
      on structuring explanations\n2. Include instructions about using examples and
      analogies\n3. Add guidelines about balancing technical accuracy with accessibility\n4.
      Specify a clear approach to breaking down complex concepts","improved_prompt":"You
      are a quantum computing expert skilled at making complex concepts accessible.
      When explaining quantum computing concepts:\n\n1. Structure your explanations
      clearly:\n- Start with a high-level overview\n- Break complex topics into digestible
      sections\n- Use bullet points for key concepts\n\n2. Always include concrete
      examples and analogies:\n- Use real-world analogies to illustrate quantum phenomena\n-
      Provide practical examples of quantum computing applications\n- Compare quantum
      concepts to familiar classical computing concepts\n\n3. Balance technical accuracy
      with accessibility:\n- Define technical terms when introduced\n- Explain concepts
      in multiple ways, from simple to detailed\n- Build up from foundational principles
      to more complex ideas\n\n4. When discussing mathematics or technical details:\n-
      Introduce prerequisites first\n- Explain the intuition before formal definitions\n-
      Illustrate with visual descriptions or diagrams when helpful"},"id":"toolu_01HzW3zXY7AChEtuWSSBm56s"}]},{"role":"user","content":[{"type":"tool_result","content":"","tool_use_id":"toolu_01MYtryCEdmLTtgMvb1KYSFV","is_error":false},{"type":"tool_result","content":"","tool_use_id":"toolu_01Eoi7U61XVoABYWVp26cgYx","is_error":false},{"type":"tool_result","content":"","tool_use_id":"toolu_01HzW3zXY7AChEtuWSSBm56s","is_error":false}]},{"role":"assistant","content":[{"type":"tool_use","name":"think","input":{"thought":"The
      improved prompt addresses the feedback by providing clear guidance on organization
      and examples while maintaining the expert role. It adds specific instructions
      about structuring explanations, using analogies, and balancing technical depth
      - all critical for explaining quantum computing effectively."},"id":"toolu_01RermWHfe3g5qse39xpjwMr"}]},{"role":"user","content":[{"type":"tool_result","content":"","tool_use_id":"toolu_01RermWHfe3g5qse39xpjwMr","is_error":false}]}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"tool","name":"OptimizedPromptOutput"},"tools":[{"name":"OptimizedPromptOutput","description":"Schema
      for the optimized prompt output.","input_schema":{"description":"Schema for
      the optimized prompt output.","properties":{"analysis":{"description":"First,
      analyze the current results and plan improvements to reconcile them.","title":"Analysis","type":"string"},"improved_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Finally,
      generate the full updated prompt to address the identified issues.   The prompt
      section being optimized contains no input f-string variables. Any brackets {{
      foo }} you emit will be escaped and not used.","title":"Improved Prompt"}},"required":["analysis","improved_prompt"],"title":"OptimizedPromptOutput","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2RVXW8bNxD8Kwu+xAEkwXbsh+rNbtI0RYsksI02qAtjxdu7W4hf5i4ly0b+e0Ce
        JbvIkyBxd3Z2Zkg9Ge7M0ngZ7o5P/qKbx4fh44f3m9//Ccx/eIs3lydmZnSXqFaRCA5kZiZHV39A
        ERbFoGZmfOzImaWxDktH83fz87nEEEjnp8enZyfHp6dmZmwMSkHN8t+nPajG6O6KVNRGpX4vd8cn
        F6tvv8hXOvv6eIH53EZ/Plxf/2ZmJqCvfZ+TsudH6r7k6JN+LppK5cGhfi6fDAZ0O2ExS/NnjGsO
        A6CCjgQp04ZjEYgTBirHIDPYjuwIbPQp00hBeEMz2BJ4HkaFFQXqWaHP0UMMBD0HdJCp50CegoJG
        8LimNoMe0CdHAhxEc7F1BNCGAviYCSSR5Z5t7bkvGLT4Nrgoh2EB1yMLbNk5GMkloCAlT7h1qzgw
        CWDoXqZgJvD4wB6d20EmRxucGGmFOozrokcOi6qTTzluqLtLTT+zNN9iaTj4MyOgh0RZQdbsHHVV
        SI9N0lri6AFsDJaSCqC1JMIrRwv4e6RQWx1yqMU/4+7blrfhNpws4KppVZfdxZKn3jD5A9YRZrdb
        3oY5XClmhS3rCAgjD+Pc0YYcxA3lDdO21lxmwvWBoMbEttqhEToeSLRyBKFmjdSGGyFYFedIIUUO
        KtDHDGvaHWhWlqcLuHBb3FUs60pH7TSTvjK9enNwarnHzoRuvo3ZvTqsFrFzRTSj0kGhNFKIngLC
        keM1gZREOUXhlqNmfVAMg2vJe1snfMlxw11NN1pli+6FTuwPwOiGmFlHL3AkxY6AAldjzG8EYoaP
        NRL5jTTAX6NPNQ/71hWrwNF9qZ9vK2/r6gNQJ7WjIs3R6tLLflWxdwu4RIfBEijZMbQWtLZktLtn
        E59Tw451cvh9u1evGpSyF9jWSHHQHLtiqauVH6aAvUSQA/jilJMjqEbNpjsrXNWoxDtSZDd1XxZ2
        HZQ01fSxhK7lDR2kzMFyU7Be7Xpv92nijrDtdvac8o7FFmkKeNSRPGqNW8yvNpjGTnn4tF+hvkaZ
        7gsLKwn0nEVfb1UvPQctk/Mr6iuNPmbfAHsOfMjvp5ccNVE3LKVVic2cpksUM3SMQ8a9lvWB6Ysz
        37//NzOiMd1lQonh/09zOxC6LxQsmWUozs1Maf8Gyx+qhpS58SX52al5xUpWhmZm5jpKyYnJGanx
        yUWp4NCMR1ViAJMvSk1MwZTLBxfmcBFjA+PaWgAAAAD//wMAajBrw6oGAAA=
    headers:
      CF-RAY:
      - 90ad11a79b1332cc-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:17:01 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T22:16:57Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T22:17:01Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T22:16:56Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T22:16:57Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01QXxKA5LogFnhmqz6uPiWnN
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"Analyze the following
      sessions and decide which prompts \nought to be updated to improve the performance
      on future sessions:\n\n<session_471081a564054bd9990bc4946a932c7a>\n================================
      Human Message =================================\n\nTell me about renewable energy\n\n==================================
      Ai Message ==================================\n\nHere''s what I found in my
      research...\nTo summarize the key points about renewable energy...{}\n</session_471081a564054bd9990bc4946a932c7a>\n\nBelow
      are the prompts being optimized:\nresearch: Research the given topic thoroughly\nsummarize:
      Summarize the research findings\n\n\nReturn JSON with \"which\": [...], listing
      the names of prompts that need updates."}],"model":"claude-3-5-sonnet-latest","tool_choice":{"type":"tool","name":"Classify"},"tools":[{"name":"Classify","description":"Classify
      which prompts merit updating for this conversation.","input_schema":{"description":"Classify
      which prompts merit updating for this conversation.","properties":{"reasoning":{"description":"Reasoning
      for which prompts to update.","title":"Reasoning","type":"string"},"which":{"description":"List
      of prompt names that should be updated. Must be among [''research'', ''summarize'']","items":{"type":"string"},"title":"Which","type":"array"}},"required":["reasoning","which"],"title":"Classify","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2yT3W7bMAyFX4XgzW4cI0l/0PpuHYpuRTFgWNFtaIpAsWlbq0y5ItXMDfLug5Im
        a9deiiIPv0NKK7QVFthJMx9PLh+Oz+qHPzcX3ybHbffx99VpfVILZqhDTymLRExDmGHwLgWMiBU1
        rJhh5ytyWGDpTKxodDA6GolnJh1Nx9PDyXg6xQxLz0qsWNyudqLqvZtHSaoblHSO8/Hk9P7rVTj/
        9dMcPf3w8Ud/8v3yQm8wQzZdqvvkUvd6SHXcR8VihcvWli0WtxhIyISyxQwldp0J9onwLsNARjxb
        brDAM68t9MF3vQowUQWxr4xabmBBpYlCxYxnPMnhuiXYKT5XQG2sowrUp0AVSwLDA5hSo3H/kp/9
        ZmAE6NFWxCVVsBhAWwLqeh1Sbu9ZCGb4mQJ9EFi2RuEL1D5yBZahG/aCeZ7PMFFNt1R7czss48Q/
        s2WpKrqNIctgGCyXvusdKb3seu1fyCSuexqg95ZVwCx8VAjEtDQLR0BMoRnyPF+tZwhLqy2w37ne
        qgw703niTJCl50cKYtR6Bmn9UsDAniTBxkBpkou0kf3sDFcgA2tLksgs1z50W5H3sTKQ2DQk2xW+
        2W5qQCAaiBttiTehYsYjOGfZELyz5q01N0BjtKUgEMjRo2F9yfOfxpul9MH3FNwAPjSG7RPJxlyf
        mqUpp6LacmW5EVyv7zIU9f18+1hff5HNhdBDTC8JC47OZRg3v7JYbT/CXP09sWBxfHCYYWnKluZl
        oA3p/HXGeHcfyFRv73zUl5HJycF6/RcAAP//AwB1N8PfMQQAAA==
    headers:
      CF-RAY:
      - 90ad11ca2eb94cb6-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:17:05 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T22:17:02Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T22:17:05Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T22:17:01Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T22:17:02Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01V2tzxV8n3mbgTPgDWFAyKU
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: "{\"max_tokens\":1024,\"messages\":[{\"role\":\"user\",\"content\":\"You
      are reviewing the performance of an AI assistant in a given interaction. \\n\\n##
      Instructions\\n\\nThe current prompt that was used for the session is provided
      below.\\n\\n<current_prompt>\\nResearch the given topic thoroughly\\n</current_prompt>\\n\\nThe
      developer provided the following instructions around when and how to update
      the prompt:\\n\\n<update_instructions>\\n\\n</update_instructions>\\n\\n## Session
      data\\n\\nAnalyze the following sessions (and any associated user feedback)
      (either conversations with a user or other work that was performed by the assistant):\\n\\n<sessions>\\n<session_5f2457e35cbc453b815f50f3f6f88902>\\n================================
      Human Message =================================\\n\\nTell me about renewable
      energy\\n\\n================================== Ai Message ==================================\\n\\nHere's
      what I found in my research...\\nTo summarize the key points about renewable
      energy...{}\\n</session_5f2457e35cbc453b815f50f3f6f88902>\\n</sessions>\\n\\ni##
      Feedback\\n\\nThe following feedback is provided for this session:\\n\\n<feedback>\\n\\n</feedback>\\n\\n##
      Task\\n\\nAnalyze the conversation, including the user\u2019s request and the
      assistant\u2019s response, and evaluate:\\n1. How effectively the assistant
      fulfilled the user\u2019s intent.\\n2. Where the assistant might have deviated
      from user expectations or the desired outcome.\\n3. Specific areas (correctness,
      completeness, style, tone, alignment, etc.) that need improvement.\\n\\nIf the
      prompt seems to do well, then no further action is needed. We ONLY recommend
      updates if there is evidence of failures.\\nWhen failures occur, we want to
      recommend the minimal required changes to fix the problem.\\n\\nFocus on actionable
      changes and be concrete.\\n\\n1. Summarize the key successes and failures in
      the assistant\u2019s response. \\n2. Identify which failure mode(s) best describe
      the issues (examples: style mismatch, unclear or incomplete instructions, flawed
      logic or reasoning, hallucination, etc.).\\n3. Based on these failure modes,
      recommend the most suitable edit strategy. For example, consider::\\n   - Use
      synthetic few-shot examples for style or clarifying decision boundaries.\\n
      \  - Use explicit instruction updates for conditionals, rules, or logic fixes.\\n
      \  - Provide step-by-step reasoning guidelines for multi-step logic problems.\\n4.
      Provide detailed, concrete suggestions for how to update the prompt accordingly.\\n\\nBut
      remember, the final updated prompt should only be changed if there is evidence
      of poor performance, and our recommendations should be minimally invasive.\\nDo
      not recommend generic changes that aren't clearly linked to failure modes.\\n\\nFirst
      think through the conversation and critique the current behavior.\\nIf you believe
      the prompt needs to further adapt to the target context, provide precise recommendations.\\nOtherwise,
      mark `warrants_adjustment` as False and respond with 'No recommendations.'\"}],\"model\":\"claude-3-5-sonnet-latest\",\"tool_choice\":{\"type\":\"any\"},\"tools\":[{\"name\":\"think\",\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"input_schema\":{\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"properties\":{\"thought\":{\"title\":\"Thought\",\"type\":\"string\"}},\"required\":[\"thought\"],\"title\":\"think\",\"type\":\"object\"}},{\"name\":\"critique\",\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"input_schema\":{\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"properties\":{\"criticism\":{\"title\":\"Criticism\",\"type\":\"string\"}},\"required\":[\"criticism\"],\"title\":\"critique\",\"type\":\"object\"}}]}"
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA4RV224bNxD9lQFfkgKSYsl23exb68aoU8dAHSFI0i2EETmrJcwl15yhlI3hfy9I
        XSyjCPq4nNuZM2dmH5U1qlIdrxYn0/ft18/+67yddZfnaTjHmw2Ht5/USMnQU/YiZlyRGqkYXH5A
        ZsuCXtRIdcGQU5XSDpOh8en4fMzBe5Lx7GR2Nj2ZzdRI6eCFvKjq78d9UgnBLRLnrAVK/k6Lk+nl
        z/bcnOLNL9MlX9nph6sPv5/Fv9RIeexKXGv9fQ7yfRJVPSppQ1q1oip1QwIdAXp0w3cCaQmYmG3w
        gN6AFQbb9c5qFBs8V7Wv/XQC85YgMUVAvicDTYhgfRNiV9wAlyEJRPK0waUjIE9xNcAYEJYxoIFl
        EtCOMEKkh0QsJcW9DxtHZkW1n21rHFh7xRCJ++CZgNuwYWBaU0QHOlqxGh1Y5kQZIQCM4VoA+54w
        MlivQ9c7EnojMXmNQgY2Vlqo1eNTrQClNE7e7IJvA6CWlLNvpwAhQoNaGDYUCfoY1tbQ3j0jPaCz
        DB0Jjh2tycHrWv1BkV4xbFoUuIYmJG8mk0ku6w3Uah6AU9dhtN+pvP9UsGUCDTm7pmj9CjgtMw+a
        an+6pUanGDOyPoauF6jVHTFh1G3pZWXX5EFCbzVIG2KetxtqBfbA0DwEWOMqUQHiUN8zcE/aNlbD
        KlmTy0HwW/8c8e5bTzqTZ6iXFkKTuy41Dy4fJSYtKdLOWjg5WG9pJ5ZmRy9qnSLq4eAxH3riHMsh
        RU385lhWEvIsXTJU+7PMguXDkCXAkgB3qtLIBcGOnAaty5iy2Gzh03qhuCaf86qnp9H/7tjdfP7b
        +cXFl9v0+f300/rm4+zt6cWvzztWZPiQ6HjNttK03KlK/UnDHgaDNblyY8nsF+rdN9KpNHm1dape
        6r/Ekslt7sQH6Ie9So9JMsS9FQLt0Ha5VQnQ4prABE9HA5tNDsNC91z1bq/jDTL0KZIbjvW8l+ZL
        PV7u9ssT8w9SPW9euRX7jSyDvPZckGT41x4NPSTUQwWXLyX+Y4kCFWVub1RmdN4S0zPfW5FkJlio
        gyaGDqzn1DRW21zBHiEwJGgzp2WRdrUjSksRpEV/NBSNPS6tszLsrs9EPT39M1IsoV9EQg7+paSK
        gfPJ85pU5ZNzI5XKn6J63ApnIeGePKtqOp1ejJRG3dJCRyrNLV66nOztkdD81xaSHL/8K2Mj49pa
        AAAAAP//AwDz0xZ/xgYAAA==
    headers:
      CF-RAY:
      - 90ad11e58d606992-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:17:12 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T22:17:07Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T22:17:12Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3998'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T22:17:06Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T22:17:07Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_019ZRoUpG5dztcaDM4G2M29D
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: "{\"max_tokens\":1024,\"messages\":[{\"role\":\"user\",\"content\":\"You
      are reviewing the performance of an AI assistant in a given interaction. \\n\\n##
      Instructions\\n\\nThe current prompt that was used for the session is provided
      below.\\n\\n<current_prompt>\\nSummarize the research findings\\n</current_prompt>\\n\\nThe
      developer provided the following instructions around when and how to update
      the prompt:\\n\\n<update_instructions>\\n\\n</update_instructions>\\n\\n## Session
      data\\n\\nAnalyze the following sessions (and any associated user feedback)
      (either conversations with a user or other work that was performed by the assistant):\\n\\n<sessions>\\n<session_a20b0a2b1b584251805030573264b207>\\n================================
      Human Message =================================\\n\\nTell me about renewable
      energy\\n\\n================================== Ai Message ==================================\\n\\nHere's
      what I found in my research...\\nTo summarize the key points about renewable
      energy...{}\\n</session_a20b0a2b1b584251805030573264b207>\\n</sessions>\\n\\ni##
      Feedback\\n\\nThe following feedback is provided for this session:\\n\\n<feedback>\\n\\n</feedback>\\n\\n##
      Task\\n\\nAnalyze the conversation, including the user\u2019s request and the
      assistant\u2019s response, and evaluate:\\n1. How effectively the assistant
      fulfilled the user\u2019s intent.\\n2. Where the assistant might have deviated
      from user expectations or the desired outcome.\\n3. Specific areas (correctness,
      completeness, style, tone, alignment, etc.) that need improvement.\\n\\nIf the
      prompt seems to do well, then no further action is needed. We ONLY recommend
      updates if there is evidence of failures.\\nWhen failures occur, we want to
      recommend the minimal required changes to fix the problem.\\n\\nFocus on actionable
      changes and be concrete.\\n\\n1. Summarize the key successes and failures in
      the assistant\u2019s response. \\n2. Identify which failure mode(s) best describe
      the issues (examples: style mismatch, unclear or incomplete instructions, flawed
      logic or reasoning, hallucination, etc.).\\n3. Based on these failure modes,
      recommend the most suitable edit strategy. For example, consider::\\n   - Use
      synthetic few-shot examples for style or clarifying decision boundaries.\\n
      \  - Use explicit instruction updates for conditionals, rules, or logic fixes.\\n
      \  - Provide step-by-step reasoning guidelines for multi-step logic problems.\\n4.
      Provide detailed, concrete suggestions for how to update the prompt accordingly.\\n\\nBut
      remember, the final updated prompt should only be changed if there is evidence
      of poor performance, and our recommendations should be minimally invasive.\\nDo
      not recommend generic changes that aren't clearly linked to failure modes.\\n\\nFirst
      think through the conversation and critique the current behavior.\\nIf you believe
      the prompt needs to further adapt to the target context, provide precise recommendations.\\nOtherwise,
      mark `warrants_adjustment` as False and respond with 'No recommendations.'\"}],\"model\":\"claude-3-5-sonnet-latest\",\"tool_choice\":{\"type\":\"any\"},\"tools\":[{\"name\":\"think\",\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"input_schema\":{\"description\":\"A
      reflection tool, used to reason over complexities and hypothesize fixes.\",\"properties\":{\"thought\":{\"title\":\"Thought\",\"type\":\"string\"}},\"required\":[\"thought\"],\"title\":\"think\",\"type\":\"object\"}},{\"name\":\"critique\",\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"input_schema\":{\"description\":\"A
      critique tool for diagnosing flaws in reasoning.\",\"properties\":{\"criticism\":{\"title\":\"Criticism\",\"type\":\"string\"}},\"required\":[\"criticism\"],\"title\":\"critique\",\"type\":\"object\"}}]}"
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAAwAAAP//hFVhbxs3DP0rhL60Bew0dlKs8bc2WLs1STG0zYJuHgxaR99p1lEXkXLs
        Bv7vg3S2k7Qb9vFE8Yl875F3b1xlJqaVenY8uni9vLjWzebzH6fvm/rm7fXbV++voxkY3XSUb5EI
        1mQGJgafD1DEiSKrGZg2VOTNxFiPqaLhyfDVUAIz6XB8PD4dHY/HZmBsYCVWM/nzfg+qIfhZkoxa
        SsnfaXY8Ol83l5cfmnXdzF/z6Pz8JLTjr9dmYBjbktc4XuYk7pKayb3RJqS6UTMxl6TQEiCj33wj
        0IZASMQFhgoVAbkCVxGrW2wAeQNdyFU59OBEEslkylMeHcG1UIRPdJtIFN5kOHE5OOwjKEuqYBEi
        OF6E2KLmJ3AekkIkpjucewJiivUmJ31pnMAdCiDMY8BqAKEjHhJXVMFtoriBSLfJRcc12NB2kRpi
        cSt6/ECubXwEb/bcwyeSLrDQ0wq/NARxH3ECjjOiJ6WXXQxzTxnN5pvngRUdC3QeLTXBVxRBaa0w
        NffbqQFJdU2iuaoHppRsw84eOMtIHwOg1YQedkKXbrsYVi63WJF0TgmsR9dmtKlpKNIzgbsGFX6F
        RUhcTU2GeofOUwUaoCLvVplt3oCkeen5O0r+k/MpnxzBeYox1/JbDG33nY77WNfHnACtNVJLfgNz
        FGcnMDWfU9tidDsrRRLCaBtYOK4c19IXfIl2KX3fa+0LmkwZYAg3ublDlgaQPV4f/yXclVONyWqK
        h1eKdP2VS1qRh7CAihSdB1p3ZJWqPvo5pGgJGuTKO67Ndjv43/H6ublZXr07+f3sa3d2Mn7/9frs
        YvXh28N42ejU3SZ6PGHlzDppzcRc4d8hwgKdT5FkP06Oqv3sZP8d9kO52Mu5c0OR86lZBo+NhrBI
        XGFLrOihdZK4opjBMueZCqcCeQ9BiGCxw7nzTl024vjoqft7nxQvzmNYEsNzajvdwDyiXZLKi+KT
        nGN/8IOGACusE5W1gSKppQedNWvrhJ/lFBJinfJpgSq+Rqic2LwGrcKc9I6Ii7w7/OdTczDDvxnr
        RXk0J+yoSkJgUQie9zxmLh4PQmDQ0DmbW5ryu14eyLt5t7fYesK8sHq7ucACnrAAach9LZI8GqlM
        cK6hd1x5pIz6lRPp19Qjw/dzbAOLOk1KAiv0roLioJchaZe07KbD7qA12VQq31lpL81evBe7x9C7
        mrMbDjTuKOxS7ILs1DmQZLbbvwZGNHSzSCiBn45CCUhe7GzJTDh5PzCp/Nwm973hZ5qdImYyGo3G
        A2PRNjSzkQoFs6dXjvfxSFj9GOsbP5ycvPppu/0HAAD//wMA39PwN3kHAAA=
    headers:
      CF-RAY:
      - 90ad11e58c4c4cae-PHL
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 31 Jan 2025 22:17:13 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-01-31T22:17:07Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-01-31T22:17:13Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-01-31T22:17:06Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-01-31T22:17:07Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01Usq8pGfWKDGjX6gVmbdsqo
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are tasked
      with extracting or upserting memories for all entities, concepts, etc.\n\nExtract
      all important facts or entities. If an existing MEMORY is incorrect or outdated,
      update it based on the new information.\n\nEnrich, prune, and organize memories
      based on any new information. If an existing memory is incorrect or outdated,
      update it based on the new information. All operations must be done in single
      parallel call.\n\n<session_2b1bca88-0115-4988-bef0-999a6c458dcd>\n================================
      Human Message =================================\n\nI like dogs. My dog''s name
      is Fido.\n\n================================== Ai Message ==================================\n\nThat''s
      nice! Dogs can be wonderful companions. Since you mentioned your dog Fido, what
      breed is he? I''d be happy to hear more about him.\n</session_2b1bca88-0115-4988-bef0-999a6c458dcd>"}],"model":"claude-3-5-sonnet-latest","system":"You
      are a memory subroutine for an AI.\n\n","tool_choice":{"type":"any"},"tools":[{"name":"Memory","description":"Call
      this tool once for each new memory you want to record. Use multi-tool calling
      to record multiple new memories.","input_schema":{"description":"Call this tool
      once for each new memory you want to record. Use multi-tool calling to record
      multiple new memories.","properties":{"content":{"description":"The memory as
      a well-written, standalone episode/fact/note/preference/etc. Refer to the user''s
      instructions for more information the prefered memory organization.","title":"Content","type":"string"}},"required":["content"],"title":"Memory","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA5RQS0vDQBD+K2HOG0iixjY3+8jBVqhCRSoS1uyQxiY7aWa3tYb8d9lK0eJBPM73
        ZjooFSRQc5EFYTy7Zj2zm/tisSyHu5v9w+gjTUGAOTToVMgsCwQBLVUOkMwlG6kNCKhJYQUJ5JW0
        Cv0L/8pn0hqNHwXRZRhEEQjISRvUBpLn7hRqiKrMsks9TnG3zYJw9ESHyeRdr9aLeD6Mp2MaNG9b
        EKBl7Xx3WFN7cC7dWANJ9x0OS8bWq8oNsqeoYE+y16Bh6Hvxd+9etuN0Eo1vH8PRajufLst49/qP
        3rVkT7pezzmUl5aKoO9fBLChJmtRMunzAUeCcWtR5wiJtlUlwB5/nXRfRZmhDWqGJB7GAnKZrzHL
        W5SmJJ2dK4IT36JUvzmy5icyCPv+EwAA//8DACL/4lsGAgAA
    headers:
      CF-RAY:
      - 90e73207b9480fe1-LAX
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 07 Feb 2025 23:35:18 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '399000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-02-07T23:35:16Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-02-07T23:35:18Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-02-07T23:35:16Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '479000'
      anthropic-ratelimit-tokens-reset:
      - '2025-02-07T23:35:16Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01C3oeabNov6nL1uqGSujjXq
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are tasked
      with extracting or upserting memories for all entities, concepts, etc.\n\nExtract
      all important facts or entities. If an existing MEMORY is incorrect or outdated,
      update it based on the new information.\n\nEnrich, prune, and organize memories
      based on any new information. If an existing memory is incorrect or outdated,
      update it based on the new information. All operations must be done in single
      parallel call.\n\n<session_f435703d-cfc0-449f-aa9e-a8aa3692f85e>\n================================
      Human Message =================================\n\nI like dogs. My dog''s name
      is Fido.\n\n================================== Ai Message ==================================\n\nThat''s
      nice! Dogs make wonderful companions. Fido is a classic dog name. What kind
      of dog is Fido?\n</session_f435703d-cfc0-449f-aa9e-a8aa3692f85e>"}],"model":"claude-3-5-sonnet-latest","system":"You
      are a memory subroutine for an AI.\n\n","tool_choice":{"type":"any"},"tools":[{"name":"Memory","description":"Call
      this tool once for each new memory you want to record. Use multi-tool calling
      to record multiple new memories.","input_schema":{"description":"Call this tool
      once for each new memory you want to record. Use multi-tool calling to record
      multiple new memories.","properties":{"content":{"description":"The memory as
      a well-written, standalone episode/fact/note/preference/etc. Refer to the user''s
      instructions for more information the prefered memory organization.","title":"Content","type":"string"}},"required":["content"],"title":"Memory","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA5RQzWrCQBB+lTDnDSRabczRWi1Sc1Dbg6WEJTuYkGQnZnZRG/LuZS3SSg+lx/n+
        mQ4KBTHUvE+D8HmzKo7jw66ZLzePal1s8iSxBALMuUGnQma5RxDQUuUAyVywkdqAgJoUVhBDVkmr
        0B/6I59JazT+IBjchcFgAAIy0ga1gfitu4Yaoiq17FIvU9xt0yCcrV8ftkO5KLNdFC0mOrmfFdsP
        EKBl7XwrrKk9O5durIG4+w6HF8bWq4oS2VO0Z0+y16Bh6HvxZ+80wZzyk7XLURku+Pi0XtFp+o/e
        XLInXa/nHMqbF4qg798FsKEmbVEy6dsBF4LxYFFnCLG2VSXAXn4dd19FqaESNUM8jiYCMpnlmGYt
        SlOQTm8VwZVvUarfHFnzE4nCvv8EAAD//wMAyyT8yAYCAAA=
    headers:
      CF-RAY:
      - 90e7338bac487bb0-LAX
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 07 Feb 2025 23:36:20 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-02-07T23:36:19Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-02-07T23:36:20Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-02-07T23:36:18Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-02-07T23:36:19Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01N3Cq4dka2JZqerAGnvWjeJ
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are tasked
      with extracting or upserting memories for all entities, concepts, etc.\n\nExtract
      all important facts or entities. If an existing MEMORY is incorrect or outdated,
      update it based on the new information.\n\nEnrich, prune, and organize memories
      based on any new information. If an existing memory is incorrect or outdated,
      update it based on the new information. All operations must be done in single
      parallel call.\n\n<session_b5bbee84-46a7-4fa8-b97d-95369b2fc2b2>\n================================
      Human Message =================================\n\nI like dogs. My dog''s name
      is Fido.\n\n================================== Ai Message ==================================\n\nThat''s
      nice! Dogs make wonderful companions. Fido is a classic dog name. What kind
      of dog is Fido and how long have you had him?\n</session_b5bbee84-46a7-4fa8-b97d-95369b2fc2b2>"}],"model":"claude-3-5-sonnet-latest","system":"You
      are a memory subroutine for an AI.\n\n","tool_choice":{"type":"any"},"tools":[{"name":"Memory","description":"Call
      this tool once for each new memory you want to record. Use multi-tool calling
      to record multiple new memories.","input_schema":{"description":"Call this tool
      once for each new memory you want to record. Use multi-tool calling to record
      multiple new memories.","properties":{"content":{"description":"The memory as
      a well-written, standalone episode/fact/note/preference/etc. Refer to the user''s
      instructions for more information the prefered memory organization.","title":"Content","type":"string"}},"required":["content"],"title":"Memory","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA4xRTW/aQBD9K6M525ENSWl9gygh6gcKlXogVWWtvQNYXnacndkggvjv0VKlbdRD
        e5x5H/Oe5oidxQp3sqmLcjp76n1cHBaf1uvL1XTRyvX9uMQM9TBQYpGI2RBmGNilhRHpRI1XzHDH
        lhxW2DoTLeXj/CoX9p40HxWjy7IYjTDDlr2SV6y+H19NldnVUZLrOUqaY12Uk37/1Nw9PC7p+uPn
        u9K3fLUa5pihN7uk+0I7Doek8kNUrI6/zfHGa6eHCm47y5DDFCxvQLdGoSHHfiOgDLoliELhAhYM
        xtpOO/bGgSU1nRMwDUeFJhBZ4AC89xRk2w1gYzCJCyYQ9J73/gJPp+yfjb6O3z0/N/vZvBzP55Nl
        XE7jbL36v0b3gdYUyLdUwTehAK7rSVIvScd/ZCjKQx3ICPu3Gc6A0GNMaqx8dC7DeH5kdfx5q1bu
        yQtWk6LIsDXtluo20Lll/ZbxCw9k7N8YR/1z8+H96fQCAAD//wMAXppa92MCAAA=
    headers:
      CF-RAY:
      - 90e734b38c2fcba0-LAX
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 07 Feb 2025 23:37:08 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-02-07T23:37:06Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-02-07T23:37:08Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-02-07T23:37:05Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-02-07T23:37:06Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_018VnbLXRRg3zinxkRtdhVab
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"I''m Alice from
      California"}],"model":"claude-3-5-sonnet-latest","system":"You are a helpful
      assistant.None"}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2SP0UoDMRBFfyXOc1a2a0ttXkR8WUH8AEWWmEzbYHZmN5lU29J/ly0WFJ8Gzrn3
        whwheDDQ501Xz9r50/vKLw+7RbPaLV/GRcHxcAsaZD/glMKc7QZBQ+I4AZtzyGJJQEPPHiMYcNEW
        j9VNtagyE6FUTd3MZ3XTgAbHJEgC5vV4GRX8murnY6AN6j4Gh2qduFcPNoY1Jwr2Sj1PVFj1iKL2
        XK5Vy5/KWVKPaotxmJgS9nZ/B6c3DVl46BLazAQGkHwnJRH8iIxjQXIIhkqMGsr5MXOEQEORTvgD
        KYOZrTQ467bYuYRWAlP3N1BffELr/zsu8ps09en0DQAA//8DAJfYem9yAQAA
    headers:
      CF-RAY:
      - 90e73529df122b73-LAX
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 07 Feb 2025 23:37:26 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-02-07T23:37:24Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-02-07T23:37:26Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-02-07T23:37:24Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-02-07T23:37:24Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01QnyYwEYqYTYtt2gny3sP6X
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are tasked
      with extracting or upserting memories for all entities, concepts, etc.\n\nExtract
      all important facts or entities. If an existing MEMORY is incorrect or outdated,
      update it based on the new information.\n\nEnrich, prune, and organize memories
      based on any new information. If an existing memory is incorrect or outdated,
      update it based on the new information. All operations must be done in single
      parallel call.\n\n<session_d607840d-616e-47a9-93bb-1cac1b44756e>\n================================
      Human Message =================================\n\nI''m Alice from California\n</session_d607840d-616e-47a9-93bb-1cac1b44756e>"}],"model":"claude-3-5-sonnet-latest","system":"You
      are a memory subroutine for an AI.\n\n","tool_choice":{"type":"any"},"tools":[{"name":"UserProfile","description":"Represents
      the full representation of a user.","input_schema":{"description":"Represents
      the full representation of a user.","properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"language":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Language"},"timezone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Timezone"}},"title":"UserProfile","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2SQQWvCQBCF/8ucVxpTtXVvYsUiCiq0l1KWZTPGrZtZzcweNOS/l6QILT3O994b
        3kwDvgANFZcmG45u/DVfTY+30/KwX1/2lyt5WYECuZ6xcyGzLREU1DF0wDJ7FksCCqpYYAANLthU
        4OBxMB5wJEIZ5Fk+GmZ5DgpcJEES0B/NfanEGEzibmtfpZuTyYbL9cvx+X3hd7LdpOXrfLHfTHcT
        UEC26nJvjPW2jgcf+iidk4Bu7uoseNdx8RXeIvWowto7+7CObGZUYkAGBcFSmbqjNCBB234qYIln
        U6PlSH/79QLjJSE5BE0pBAWpf4lufioYiSckBj0Z5QqcdUc0rkYrPpL568jueo22+K/FJL/J07ht
        vwEAAP//AwBGWvUIrQEAAA==
    headers:
      CF-RAY:
      - 90e7353358dacb86-LAX
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 07 Feb 2025 23:37:28 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-02-07T23:37:27Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-02-07T23:37:28Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-02-07T23:37:26Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-02-07T23:37:27Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01J9MFUygCJjFLmTFyn9VEuE
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"I just passed
      the N1 exam!"}],"model":"claude-3-5-sonnet-latest","system":"You are a helpful
      assistant.<User Profile>:\n\n    {''kind'': ''UserProfile'', ''content'': {''name'':
      ''Alice'', ''language'': ''en'', ''timezone'': ''America/Los_Angeles''}}\n    </User
      Profile>\n    "}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAAwAAAP//ZJNPb9swDMW/CqvLLk6RpN2K+TJsPW0IhmIIsH8dAlZibLUy5YpUGqPo
        dx+kNOuGnQyQj79H6cmPxjvTmkG6zXyxWJ110+R+7NztbcZv5x8uL1Zvv5jG6DRSUZEIdmQak2Io
        BRTxoshqGjNER8G0xgbMjmZns9czicyks+V8eb6YL5emMTayEqtpfz4eoUr7Ml4/rbmM3CXUHFB9
        ZIH3wVs6gavixB1oT/BpdbWGzwugPQ7gBRASDZju8CYQoO097Wgg1hNY91SEXupc77ueRAHZwRBF
        wfnt1tscFALtKEDcHvg4IpMQrJC7jB3BVYpbbz2xnWBNok1leIVE99knEpgIkxSAI+ctKjkQzW6q
        wjGhVW8JNEIitD1o7+XF9I9hOBoOKEppOoVrvuZ1EVtK6rcF7SODoyGyaEKlcjZUmGIGiwyZHaUS
        iXvBegaEHSZPOhU/iWPvRZ/3rJHsVeqqBWHjMGSuXdiGTKxhOoWP+krqFYYJEslItgzfTEDDGOJE
        6QBAi44Gb8GzqNdcUzwtx/gac3B1z8GzA+kxlUQfyvaHuxpI++gEHmK6K+wS1jamOuMZxkTjYaYU
        S1LlBbyD7zEnoP1IqSREYKvRDcEOQ66Pouij9mXHwq4PKT5gcpUiOBB0EcOJefrVGNE4bhKhRDat
        IXYbzYnNc0PoPhcX03IOoTG5/hDto/E8Zt1ovCMW016cN8ai7WljE9XMNv8K5sd+InT/92LWvyuL
        5Zunp98AAAD//wMA6XD5N6sDAAA=
    headers:
      CF-RAY:
      - 90e73541ee742b73-LAX
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 07 Feb 2025 23:37:31 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-02-07T23:37:29Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-02-07T23:37:31Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-02-07T23:37:28Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-02-07T23:37:29Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01KgJC1YDo5MBLcbRfncwUMm
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are tasked
      with extracting or upserting memories for all entities, concepts, etc.\n\nExtract
      all important facts or entities. If an existing MEMORY is incorrect or outdated,
      update it based on the new information.\n\nEnrich, prune, and organize memories
      based on any new information. If an existing memory is incorrect or outdated,
      update it based on the new information. All operations must be done in single
      parallel call.\n\n<session_e8a24afd-a0e5-418a-826b-c8800bbbdb2c>\n================================
      Human Message =================================\n\nI just passed the N1 exam!\n</session_e8a24afd-a0e5-418a-826b-c8800bbbdb2c>"}],"model":"claude-3-5-sonnet-latest","system":"You
      are a memory subroutine for an AI.\n\n\n\nGenerate JSONPatches to update the
      existing schema instances.\n<existing>\n<instance id=f27383ce322f53c0890adc95686b528c
      schema_type=\"UserProfile\">\n{''name'': ''Alice'', ''language'': ''en'', ''timezone'':
      ''America/Los_Angeles''}\n</instance>\n</existing>\n","tool_choice":{"type":"any"},"tools":[{"name":"PatchDoc","description":"Respond
      with JSONPatch operations to update the existing JSON document based on the
      provided text and schema.","input_schema":{"properties":{"json_doc_id":{"description":"The
      json_doc_id of the document you are patching.","type":"string"},"planned_edits":{"description":"Think
      step-by-step, reasoning over each required update and the corresponding JSONPatch
      operation to accomplish it. Cite the fields in the JSONSchema you referenced
      in developing this plan. Address each path as a group; don''t switch between
      paths.\n Plan your patches in the following order:1. replace - this keeps collection
      size the same.\n2. remove - BE CAREFUL ABOUT ORDER OF OPERATIONS. Each operation
      is applied sequentially. For arrays, remove the highest indexed value first
      to avoid shifting indices. This ensures subsequent remove operations remain
      valid.\n 3. add (for arrays, use /- to efficiently append to end).","type":"string"},"patches":{"description":"A
      list of JSONPatch operations to be applied to the previous tool call''s response
      arguments. If none are required, return an empty list. This field is REQUIRED.
      Multiple patches in the list are applied sequentially in the order provided,
      with each patch building upon the result of the previous one. Take care to respect
      array bounds. Order patches as follows:\n 1. replace - this keeps collection
      size the same\n 2. remove - BE CAREFUL about order of operations. For arrays,
      remove the highest indexed value first to avoid shifting indices.\n 3. add -
      for arrays, use /- to efficiently append to end.","items":{"description":"A
      JSON Patch document represents an operation to be performed on a JSON document.\n\nNote
      that the op and path are ALWAYS required. Value is required for ALL operations
      except ''remove''.","examples":[{"op":"replace","path":"/path/to/my_array/1","value":"the
      newer value to be patched"},{"op":"replace","path":"/path/to/broken_object","value":{"new":"object"}},{"op":"add","path":"/path/to/my_array/-","value":["some","values"]},{"op":"add","path":"/path/to/my_array/-","value":["newer"]},{"op":"remove","path":"/path/to/my_array/1"}],"properties":{"op":{"description":"The
      operation to be performed. Must be one of ''add'', ''remove'', ''replace''.","enum":["add","remove","replace"],"type":"string"},"path":{"description":"A
      JSON Pointer path that references a location within the target document where
      the operation is performed. Note: patches are applied sequentially. If you remove
      a value, the collection size changes before the next patch is applied.","type":"string"},"value":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"type":"null"}]},"type":"object"},{"type":"null"}],"description":"The
      value to be used within the operation. REQUIRED for ''add'', ''replace'', and
      ''test'' operations. Pay close attention to the json schema to ensure patched
      document will be valid."}},"required":["op","path","value"],"type":"object"},"type":"array"}},"required":["json_doc_id","planned_edits","patches"],"type":"object"}},{"name":"RemoveDoc","description":"Use
      this tool to remove (delete) a doc by its ID.","input_schema":{"properties":{"json_doc_id":{"description":"ID
      of the document to remove. Must be one of: (''f27383ce322f53c0890adc95686b528c'',)","type":"string"}},"required":["json_doc_id"],"type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2xS227bMAz9FYEv2QCns52kTfy2dRuwoi0CtAF2SWGwEm2rkynXknpZkH8f5DS9
        YHsUz4WHIjegFRTQurpMs8XH5uz4z/Rkcba6XtL3+58k5eIWEvCPHUUWOYc1QQK9NbGAzmnnkT0k
        0FpFBgqQBoOi8WQ8GzvLTH6cp/k0S/McEpCWPbGH4tdmb+qtNWVw0XWIEt+hTLPV+Y+6um2mqKrZ
        QytPv7Rf8+kxJMDYRt0SvWw+Wxl13AUPxQZunOVSWVkOTlV+NJlPJE3yvJpNZDpfpKjkYnY4P7ye
        5fOo7AwykypJae+ggE/oSAnLwjckgqNePM0snEevuY7Ao+jQRV4knWeCHrAV7+4bLRvRU0W9E94O
        YKPrhpwXhu7ICFsNxRPskMmROEWuQ/Re9rbSUhPLR3FJzr9PxDfhGhuMEqFT6GkQdpFmqFjzmrMD
        caFZ0kvQp0znWSJ2UbQT+NLM7JvFtP/3f6Z4+6w7WPNYXL4GK01GCc1i5ahf7iLtza5JyAa5JiWq
        3rZiRDyKbqMbHMXfjisjN2zfdlBAT51BSTuogQI+7NtAAndoQlz0DcL2aru9SsB525U9obP89nAG
        wNFtIJYEBQdjEgjDrRab3XmU3v4mdlBki2yegETZUCl7Qq8tl28p6R7vCdW/mA3+dSVPj7bbvwAA
        AP//AwDI+GQbSAMAAA==
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90e735564b69cb86-LAX
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 07 Feb 2025 23:37:38 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-02-07T23:37:32Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-02-07T23:37:38Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-02-07T23:37:32Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-02-07T23:37:32Z'
      request-id:
      - req_01WDpVcychWRqvWDnR7nVec3
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"Alice manages
      the ML team and mentors Bob, who is also on the team."}],"model":"claude-3-5-sonnet-latest","system":"You
      are a helpful assistant."}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAAwAAAP//ZJFRaxRRDIX/SsiThRmc3VqVebPgg9CCTwpVGbJ34syld5LpTW7XZdn/
        LnexavUpJOecj4QcMY7Y42LT0G0+T5tPmzd3d4erKb5/+/HxYdzvDxEb9MPK1cVmNDE2mDXVAZlF
        cxLHBhcdOWGPIVEZub1sr1pTEfZ2221fbbrtFhsMKs7i2H85PkGdf9T4ufT4AYqMnCt0BJ/JIQr4
        HA0ssFCO2n+VFt6lGBiigc8MCwlNnEG/n9vbG3hxS2GOwnDDlCXKdAHOtPxJUjIF4/zIBmRAsLC4
        ZnCFa91V37XuKr8qy+4Z/B+SjGcvZYagKTFNha2BffT5aU0BAmOJml8mpnreHFdY1aJHFTx9a9Bc
        1yEzmQr2yDIOXrLgL8H4obAExl5KSg2W8xv6I0ZZiw+u9yyG/WXXYKAw8xAyU2UPzw2/9cw0/q9p
        8b8nr7vT6ScAAAD//wMAhwEUDyACAAA=
    headers:
      CF-RAY:
      - 90e735d86c4028fa-LAX
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 07 Feb 2025 23:37:54 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-02-07T23:37:53Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-02-07T23:37:54Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-02-07T23:37:52Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-02-07T23:37:53Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01E6b4t2HmjzdnvtEErtSH8M
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"Extract all user
      information and events as triples.\n\nEnrich, prune, and organize memories based
      on any new information. If an existing memory is incorrect or outdated, update
      it based on the new information. All operations must be done in single parallel
      call.\n\n<session_6039bdff-c315-41bc-b0e2-9a3d265cc6e2>\n================================
      Human Message =================================\n\nAlice manages the ML team
      and mentors Bob, who is also on the team.\n</session_6039bdff-c315-41bc-b0e2-9a3d265cc6e2>"}],"model":"claude-3-5-sonnet-latest","system":"You
      are a memory subroutine for an AI.\n\n","tool_choice":{"type":"any"},"tools":[{"name":"Triple","description":"Store
      all new facts, preferences, and relationships as triples.","input_schema":{"description":"Store
      all new facts, preferences, and relationships as triples.","properties":{"subject":{"title":"Subject","type":"string"},"predicate":{"title":"Predicate","type":"string"},"object":{"title":"Object","type":"string"},"context":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Context"}},"required":["subject","predicate","object"],"title":"Triple","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA6SSQUvDQBCF/8uct5CktWpuVqyH2lJqtSsiy2YzidFkN9mdbdHS/y6JFKwKFjzO
        vPdmPobZQpFCDJXLRRCOr0Or1id4NTwbzRc8sZWdFS/AgN5qbF3onMwRGFhTtg3pXOFIagIGlUmx
        hBhUKX2KvX7vpOeM1ki9KIgGYRBFwEAZTagJ4sftfigZUwrv2qkdSlt7EYSTxYqPn7PqbsBHq9PM
        rCZNdceBgZZVm1vaoi67lK49QbwF55MXVAQxXJSFaqXaYlooSR281DJHBwzM3ja9EYSygt2O/Ykz
        P29WC+SblOeXGfWJ33s7Sf6Bg5qMPcAZmeQolHEymzYPDVd0nXH13t/c5rRcH4fS7vgOUiVohcl+
        v8wTA0emFhalM/qQqhMcNh61Qoi1L0sGvnuRePu5XZB5Re0gHvYjBkqqZxTKoqTCaHHoCPa6RZn+
        1Iynr50oHO52HwAAAP//AwAadILfvgIAAA==
    headers:
      CF-RAY:
      - 90e735e3b9aa2ae8-LAX
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 07 Feb 2025 23:37:57 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-02-07T23:37:55Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-02-07T23:37:57Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-02-07T23:37:54Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-02-07T23:37:55Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01LJ13MWTNvZV7tNRqqLV6Cu
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"Bob now leads
      the ML team and the NLP project."}],"model":"claude-3-5-sonnet-latest","system":"You
      are a helpful assistant."}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2SQUUvsQAyF/0rIk0JXdqsrOG93VVBZRV8UVi8ldxrb0W6mTjKiLPvfpVVBuU+B
        851zQrLBUKPDtTbVdHZ8c3t2N1+tji4eTxfhhPo/5dHNMRZo7z0PLlalhrHAFLtBINWgRmJY4DrW
        3KFD31GuebI/mU80irBNyml5MJuWJRbooxiLobvffJcavw3xcThckHINUcBaMlAj4zWLFXAOngSy
        1JyGjfVocA8y24NF/ActKRB0TANvQw991GAhCsRXTmAtwyX5NgjDkilJkAZ2Lpe7YEzrByk/W4JC
        EPAtpYYhPo6xK7KcqIMlSZOpYbhO0bPq2HC1vN6FPsUn9obbvwWqxb5KTBoFHbLUleUk+AWUXzKL
        Z3SSu67APL7TbTBIn62y+Myi6Mp5gZ58y5VPTMMV1W/D9Jsnpvp/FrP9VA4Ot9sPAAAA//8DAI3B
        903oAQAA
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90e735f86d0928fa-LAX
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 07 Feb 2025 23:37:59 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-02-07T23:37:58Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-02-07T23:37:59Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-02-07T23:37:57Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-02-07T23:37:58Z'
      request-id:
      - req_01AeviueN4W6DKcSpeeGR6pV
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"Extract all user
      information and events as triples.\n\nEnrich, prune, and organize memories based
      on any new information. If an existing memory is incorrect or outdated, update
      it based on the new information. All operations must be done in single parallel
      call.\n\n<session_22743d8e-540a-47bd-8cdd-5080b79d8329>\n================================
      Human Message =================================\n\nBob now leads the ML team
      and the NLP project.\n</session_22743d8e-540a-47bd-8cdd-5080b79d8329>"}],"model":"claude-3-5-sonnet-latest","system":"You
      are a memory subroutine for an AI.\n\n\n\nGenerate JSONPatches to update the
      existing schema instances. If you need to extract or insert *new* instances
      of the schemas, call the relevant function(s).\n<existing>\n<instance id=a72ded60c38f5146b77c3327896d690b
      schema_type=\"Triple\">\n{''subject'': ''Alice'', ''predicate'': ''manages'',
      ''object'': ''ML_team'', ''context'': None}\n</instance>\n<instance id=7c88fda866ff50ccb1e7a41dfd769fea
      schema_type=\"Triple\">\n{''subject'': ''Alice'', ''predicate'': ''mentors'',
      ''object'': ''Bob'', ''context'': None}\n</instance>\n<instance id=c4692de4a44459e4a2bc9dbd9d71d871
      schema_type=\"Triple\">\n{''subject'': ''Bob'', ''predicate'': ''member_of'',
      ''object'': ''ML_team'', ''context'': None}\n</instance>\n</existing>\n","tool_choice":{"type":"any"},"tools":[{"name":"PatchDoc","description":"Respond
      with JSONPatch operations to update the existing JSON document based on the
      provided text and schema.","input_schema":{"properties":{"json_doc_id":{"description":"The
      json_doc_id of the document you are patching.","type":"string"},"planned_edits":{"description":"Think
      step-by-step, reasoning over each required update and the corresponding JSONPatch
      operation to accomplish it. Cite the fields in the JSONSchema you referenced
      in developing this plan. Address each path as a group; don''t switch between
      paths.\n Plan your patches in the following order:1. replace - this keeps collection
      size the same.\n2. remove - BE CAREFUL ABOUT ORDER OF OPERATIONS. Each operation
      is applied sequentially. For arrays, remove the highest indexed value first
      to avoid shifting indices. This ensures subsequent remove operations remain
      valid.\n 3. add (for arrays, use /- to efficiently append to end).","type":"string"},"patches":{"description":"A
      list of JSONPatch operations to be applied to the previous tool call''s response
      arguments. If none are required, return an empty list. This field is REQUIRED.
      Multiple patches in the list are applied sequentially in the order provided,
      with each patch building upon the result of the previous one. Take care to respect
      array bounds. Order patches as follows:\n 1. replace - this keeps collection
      size the same\n 2. remove - BE CAREFUL about order of operations. For arrays,
      remove the highest indexed value first to avoid shifting indices.\n 3. add -
      for arrays, use /- to efficiently append to end.","items":{"description":"A
      JSON Patch document represents an operation to be performed on a JSON document.\n\nNote
      that the op and path are ALWAYS required. Value is required for ALL operations
      except ''remove''.","examples":[{"op":"replace","path":"/path/to/my_array/1","value":"the
      newer value to be patched"},{"op":"replace","path":"/path/to/broken_object","value":{"new":"object"}},{"op":"add","path":"/path/to/my_array/-","value":["some","values"]},{"op":"add","path":"/path/to/my_array/-","value":["newer"]},{"op":"remove","path":"/path/to/my_array/1"}],"properties":{"op":{"description":"The
      operation to be performed. Must be one of ''add'', ''remove'', ''replace''.","enum":["add","remove","replace"],"type":"string"},"path":{"description":"A
      JSON Pointer path that references a location within the target document where
      the operation is performed. Note: patches are applied sequentially. If you remove
      a value, the collection size changes before the next patch is applied.","type":"string"},"value":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"type":"null"}]},"type":"object"},{"type":"null"}],"description":"The
      value to be used within the operation. REQUIRED for ''add'', ''replace'', and
      ''test'' operations. Pay close attention to the json schema to ensure patched
      document will be valid."}},"required":["op","path","value"],"type":"object"},"type":"array"}},"required":["json_doc_id","planned_edits","patches"],"type":"object"}},{"name":"Triple","description":"Store
      all new facts, preferences, and relationships as triples.","input_schema":{"properties":{"subject":{"type":"string"},"predicate":{"type":"string"},"object":{"type":"string"},"context":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null}},"required":["subject","predicate","object"],"type":"object"}},{"name":"RemoveDoc","description":"Use
      this tool to remove (delete) a doc by its ID.","input_schema":{"properties":{"json_doc_id":{"description":"ID
      of the document to remove. Must be one of: (''7c88fda866ff50ccb1e7a41dfd769fea'',
      ''a72ded60c38f5146b77c3327896d690b'', ''c4692de4a44459e4a2bc9dbd9d71d871'')","type":"string"}},"required":["json_doc_id"],"type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA6ySTW/aQBCG/8ucF8kfYDu+haC0UiFKoFGCqmq13h2owd4x3lkKQv7vlV2hFvXQ
        HnqceT/mOcwFSgM51G4rg/Atfh9nq+W9ft2/cNT49Thcn3YggM8N9i50Tm0RBLRU9QvlXOlYWQYB
        NRmsIAddKW9wFI8mI0fWIo+iIBqHQRSBAE2W0TLkXy7XUiaqpHd964DSz14GYTJtv38on8/TV8UP
        sT/xav6kMxBgVd3nlljTEWek+6BtPEN+gZ0jKw1pOVSpNDJokkDH2WYSjpMiTXUcR2l2l5jkLiig
        68RfOWaH3XHycbO/f8uOS7dSmX+ffTr/4vjclk2Fv0M4X+xQM+QwpQIENC2aUivu3RUq40AAXS2L
        uWRU9T+hLB6Lh83j3i14fWiSxcuKTttV+t9QnubPsmlpmLruqwDH1MgWlSN7SzUIDg8erUbIra8q
        AX74jfzy87pk2qN1kEdRkArQSn9DqVtUXJKVt5bgqreozJ8aeb4pDOKu+wEAAP//AwDLM9HRuAIA
        AA==
    headers:
      CF-RAY:
      - 90e73604592d2ae8-LAX
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 07 Feb 2025 23:38:03 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-02-07T23:38:01Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-02-07T23:38:03Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-02-07T23:37:59Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-02-07T23:38:01Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01RkedDdxu54ZGQK9m7dZWge
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"Alice left the
      company."}],"model":"claude-3-5-sonnet-latest","system":"You are a helpful assistant."}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2SQTUsDQQyG/0rIxctW+mGx7EXUi3rwVkVElulM2h06m6yTDFhK/7tstaJ4Crwf
        Dy/ZYwxYY6ebZjy56ZaXi4cXWz3xbZ77u5c87x+XWKHtehpSpOo2hBVmSYPgVKOaY8MKOwmUsEaf
        XAk0mo3mIxVmstF0PL2YjKdTrNALG7Fh/bo/QY0+hvrx1HgPhQPlARrAWmdwnaInaJ1CorWBtQRe
        ut7x7hyepaQAOymQ4pbABLR1maCTTBDIXEwKbiXlq6fRirMoDJIh6qBlApWOrI28Ae3Jx3X0A/Es
        /DBDVF/0BDruOVMI1LtsJdMVHt4qVJO+yeRUGGskDo2VzPhtKL0XYk9Yc0mpwnL8Y73HyH2xxmRL
        rFhPFhV651tqfKbj0uZvYHzyM7nw35Niv5XZ5eHwCQAA//8DAD002mzhAQAA
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90e7361bfa6128fa-LAX
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 07 Feb 2025 23:38:05 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-02-07T23:38:04Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-02-07T23:38:05Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-02-07T23:38:03Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-02-07T23:38:04Z'
      request-id:
      - req_01SZwhxJdXsM2LeGuuhosyPE
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"Extract all user
      information and events as triples.\n\nEnrich, prune, and organize memories based
      on any new information. If an existing memory is incorrect or outdated, update
      it based on the new information. All operations must be done in single parallel
      call.\n\n<session_6e26f24b-7c9d-4a46-b810-e8a0a02d0afa>\n================================
      Human Message =================================\n\nAlice left the company.\n</session_6e26f24b-7c9d-4a46-b810-e8a0a02d0afa>"}],"model":"claude-3-5-sonnet-latest","system":"You
      are a memory subroutine for an AI.\n\n\n\nGenerate JSONPatches to update the
      existing schema instances. If you need to extract or insert *new* instances
      of the schemas, call the relevant function(s).\n<existing>\n<instance id=7c88fda866ff50ccb1e7a41dfd769fea
      schema_type=\"Triple\">\n{''subject'': ''Alice'', ''predicate'': ''mentors'',
      ''object'': ''Bob'', ''context'': None}\n</instance>\n<instance id=c4692de4a44459e4a2bc9dbd9d71d871
      schema_type=\"Triple\">\n{''subject'': ''Bob'', ''predicate'': ''member_of'',
      ''object'': ''ML_team'', ''context'': None}\n</instance>\n<instance id=f5213e53ad2b53019444acb740f8fbf2
      schema_type=\"Triple\">\n{''subject'': ''Bob'', ''predicate'': ''leads'', ''object'':
      ''ML_team'', ''context'': None}\n</instance>\n<instance id=5e00019cba2f5c5db430c61f8c4145df
      schema_type=\"Triple\">\n{''subject'': ''Bob'', ''predicate'': ''leads'', ''object'':
      ''NLP_project'', ''context'': None}\n</instance>\n</existing>\n","tool_choice":{"type":"any"},"tools":[{"name":"PatchDoc","description":"Respond
      with JSONPatch operations to update the existing JSON document based on the
      provided text and schema.","input_schema":{"properties":{"json_doc_id":{"description":"The
      json_doc_id of the document you are patching.","type":"string"},"planned_edits":{"description":"Think
      step-by-step, reasoning over each required update and the corresponding JSONPatch
      operation to accomplish it. Cite the fields in the JSONSchema you referenced
      in developing this plan. Address each path as a group; don''t switch between
      paths.\n Plan your patches in the following order:1. replace - this keeps collection
      size the same.\n2. remove - BE CAREFUL ABOUT ORDER OF OPERATIONS. Each operation
      is applied sequentially. For arrays, remove the highest indexed value first
      to avoid shifting indices. This ensures subsequent remove operations remain
      valid.\n 3. add (for arrays, use /- to efficiently append to end).","type":"string"},"patches":{"description":"A
      list of JSONPatch operations to be applied to the previous tool call''s response
      arguments. If none are required, return an empty list. This field is REQUIRED.
      Multiple patches in the list are applied sequentially in the order provided,
      with each patch building upon the result of the previous one. Take care to respect
      array bounds. Order patches as follows:\n 1. replace - this keeps collection
      size the same\n 2. remove - BE CAREFUL about order of operations. For arrays,
      remove the highest indexed value first to avoid shifting indices.\n 3. add -
      for arrays, use /- to efficiently append to end.","items":{"description":"A
      JSON Patch document represents an operation to be performed on a JSON document.\n\nNote
      that the op and path are ALWAYS required. Value is required for ALL operations
      except ''remove''.","examples":[{"op":"replace","path":"/path/to/my_array/1","value":"the
      newer value to be patched"},{"op":"replace","path":"/path/to/broken_object","value":{"new":"object"}},{"op":"add","path":"/path/to/my_array/-","value":["some","values"]},{"op":"add","path":"/path/to/my_array/-","value":["newer"]},{"op":"remove","path":"/path/to/my_array/1"}],"properties":{"op":{"description":"The
      operation to be performed. Must be one of ''add'', ''remove'', ''replace''.","enum":["add","remove","replace"],"type":"string"},"path":{"description":"A
      JSON Pointer path that references a location within the target document where
      the operation is performed. Note: patches are applied sequentially. If you remove
      a value, the collection size changes before the next patch is applied.","type":"string"},"value":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"type":"null"}]},"type":"object"},{"type":"null"}],"description":"The
      value to be used within the operation. REQUIRED for ''add'', ''replace'', and
      ''test'' operations. Pay close attention to the json schema to ensure patched
      document will be valid."}},"required":["op","path","value"],"type":"object"},"type":"array"}},"required":["json_doc_id","planned_edits","patches"],"type":"object"}},{"name":"Triple","description":"Store
      all new facts, preferences, and relationships as triples.","input_schema":{"properties":{"subject":{"type":"string"},"predicate":{"type":"string"},"object":{"type":"string"},"context":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null}},"required":["subject","predicate","object"],"type":"object"}},{"name":"RemoveDoc","description":"Use
      this tool to remove (delete) a doc by its ID.","input_schema":{"properties":{"json_doc_id":{"description":"ID
      of the document to remove. Must be one of: (''5e00019cba2f5c5db430c61f8c4145df'',
      ''7c88fda866ff50ccb1e7a41dfd769fea'', ''c4692de4a44459e4a2bc9dbd9d71d871'',
      ''f5213e53ad2b53019444acb740f8fbf2'')","type":"string"}},"required":["json_doc_id"],"type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA4SRQUvDQBCF/8uct5Bs2qbNzVJFsAWrLaIiy3Z3YpNudmJ211JL/rskUlQ8eJz3
        3rz5YE5QaMigcq8iipND/G4v8vpJ7i6Tj8V8eXN1e9wBA3+ssUuhc/IVgUFDphOkc4Xz0npgUJFG
        AxkoI4PGQTIYDRxZi37AIz6MI86BgSLr0XrInk/nUk9kRHBda4/SzUFE8cPtYXNT3suHNLnbDmfx
        aL64DitgYGXV7a2bojb9lq2Dh+wELmxLVB4yuDCF6qy6QV0o6bu8wdwLRVUt7REY0Dm7bgJC27J/
        gTYLvvJ8unpM76eXVyWfrZdhX34D3WFF7zgn9ZOpdGSFJiX6qlRNJrmWk/E4z0eRUtsYUzmMda7T
        8TRHCW37wsB5qkWD0pH9jdMbDt8CWoWQ2WAMg9C/JDt93RSe9mgdZDyJxgyUVDsUqkHpC7LidyQ6
        +w1K/dej4H8qccLb9hMAAP//AwCHlUZ6LwIAAA==
    headers:
      CF-RAY:
      - 90e73626ac3e2ae8-LAX
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 07 Feb 2025 23:38:08 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-02-07T23:38:06Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-02-07T23:38:08Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-02-07T23:38:05Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-02-07T23:38:06Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01YSqtoCjbxiC7uVDEy2uuCW
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are tasked
      with extracting or upserting memories for all entities, concepts, etc.\n\nExtract
      all important facts or entities. If an existing MEMORY is incorrect or outdated,
      update it based on the new information.\n\nEnrich, prune, and organize memories
      based on any new information. If an existing memory is incorrect or outdated,
      update it based on the new information. All operations must be done in single
      parallel call.\n\n<session_aca92eb1-8514-4ec7-85ba-e8394ca00304>\n================================
      Human Message =================================\n\nI like dogs. My dog''s name
      is Fido.\n\n================================== Ai Message ==================================\n\nThat''s
      nice! Dogs make wonderful companions. Fido is a classic dog name with a lot
      of history. What kind of dog is Fido?\n</session_aca92eb1-8514-4ec7-85ba-e8394ca00304>"}],"model":"claude-3-5-sonnet-latest","system":"You
      are a memory subroutine for an AI.\n\n","tool_choice":{"type":"any"},"tools":[{"name":"Memory","description":"Call
      this tool once for each new memory you want to record. Use multi-tool calling
      to record multiple new memories.","input_schema":{"description":"Call this tool
      once for each new memory you want to record. Use multi-tool calling to record
      multiple new memories.","properties":{"content":{"description":"The memory as
      a well-written, standalone episode/fact/note/preference/etc. Refer to the user''s
      instructions for more information the prefered memory organization.","title":"Content","type":"string"}},"required":["content"],"title":"Memory","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA5SRT0/CQBDFv0oz523SLSqyNzmYBsUQBNQY06zt2Ja2u2VnC8Gm390sxD/Eg/E4
        7828+U2mgyIFATVlccCH2S4Kxw9Pt1e83Azn7yuar5ccGNh9g64LiWSGwMDoygmSqCArlQUGtU6x
        AgFJJdsU/YF/7pNWCq0fBuEZD8IQGCRaWVQWxHP3GWq1ruKWXOoBxdVtHPClLvkdn7w+ym0Y3Sym
        u220TnNgoGTt5qZYa7N3U6ppLYjuOxzuG5QlGr8x+IYGVYLCW+To0VH3qqJE8lKdEfQ9+xNllRfv
        k9k0Ww3MOBqNZ/NmYjT/JwraU4Zckicdg+dSUu+6SDX0/QsDsrqJDUrS6hTqYBBuWncRCNVWFYP2
        8BLRHZfHVpeoCMTFKGCQyCTHODEobaFVfNrx5RuU6W9Pt/ancjnq+w8AAAD//wMAPA1Gpy0CAAA=
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90e739cbbe0908c6-LAX
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 07 Feb 2025 23:40:36 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-02-07T23:40:35Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-02-07T23:40:36Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-02-07T23:40:34Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-02-07T23:40:35Z'
      request-id:
      - req_0164D54Xgti9Wf2Te9N1coMw
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are tasked
      with extracting or upserting memories for all entities, concepts, etc.\n\nExtract
      all important facts or entities. If an existing MEMORY is incorrect or outdated,
      update it based on the new information.\n\nEnrich, prune, and organize memories
      based on any new information. If an existing memory is incorrect or outdated,
      update it based on the new information. All operations must be done in single
      parallel call.\n\n<session_497f9d38-c968-4462-ab0a-0c10664e1421>\n================================
      Human Message =================================\n\nI''m Alice from California\n</session_497f9d38-c968-4462-ab0a-0c10664e1421>"}],"model":"claude-3-5-sonnet-latest","system":"You
      are a memory subroutine for an AI.\n\n","tool_choice":{"type":"any"},"tools":[{"name":"UserProfile","description":"Represents
      the full representation of a user.","input_schema":{"description":"Represents
      the full representation of a user.","properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"language":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Language"},"timezone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Timezone"}},"title":"UserProfile","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAAwAAAP//ZJBLT8MwEIT/y54dkYSGh28FISrooYRHKyFkGWebGpx1mrUPEOW/owRV
        ouK438ysZrcHW4GEhmuVZnf7q3sq292yuFyVm9n8mhZmvQAB4avF0YXMukYQ0Hk3As1sOWgKIKDx
        FTqQYJyOFSanSZGwJ8KQ5Gk+y9I8BwHGU0AKIF/7w9LgvVORx61TlXGOKs0ey81Hsbx5eXrI7Pp2
        XW754j3uQQDpZsw9M3arzm+tm6LUxgCyP6hzZ83Ig23w29OEGuys0SdLz2pONTpkEOA01XE8SgIS
        DMObAA6+VR1q9nTcbxIY9xHJIEiKzgmI00tk/1tBBf+JxCDPZrkAo80OlelQB+tJHTvSg96hrv5r
        Poa/5LwYhh8AAAD//wMAtxHj4K0BAAA=
    headers:
      CF-RAY:
      - 90e73a5458fe2b95-LAX
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 07 Feb 2025 23:40:58 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-02-07T23:40:57Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-02-07T23:40:58Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-02-07T23:40:56Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-02-07T23:40:57Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_013txzopsGukMrJWG9Br8Rc8
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"You are tasked
      with extracting or upserting memories for all entities, concepts, etc.\n\nExtract
      all important facts or entities. If an existing MEMORY is incorrect or outdated,
      update it based on the new information.\n\nEnrich, prune, and organize memories
      based on any new information. If an existing memory is incorrect or outdated,
      update it based on the new information. All operations must be done in single
      parallel call.\n\n<session_9c196f65-0d0b-4b63-8687-dd3bad7cffcc>\n================================
      Human Message =================================\n\nI just passed the N1 exam!\n</session_9c196f65-0d0b-4b63-8687-dd3bad7cffcc>"}],"model":"claude-3-5-sonnet-latest","system":"You
      are a memory subroutine for an AI.\n\n\n\nGenerate JSONPatches to update the
      existing schema instances.\n<existing>\n<instance id=fa3888c4ab6954628d5b43db6f8a6d0f
      schema_type=\"UserProfile\">\n{''name'': ''Alice'', ''language'': ''en'', ''timezone'':
      ''America/Los_Angeles''}\n</instance>\n</existing>\n","tool_choice":{"type":"any"},"tools":[{"name":"PatchDoc","description":"Respond
      with JSONPatch operations to update the existing JSON document based on the
      provided text and schema.","input_schema":{"properties":{"json_doc_id":{"description":"The
      json_doc_id of the document you are patching.","type":"string"},"planned_edits":{"description":"Think
      step-by-step, reasoning over each required update and the corresponding JSONPatch
      operation to accomplish it. Cite the fields in the JSONSchema you referenced
      in developing this plan. Address each path as a group; don''t switch between
      paths.\n Plan your patches in the following order:1. replace - this keeps collection
      size the same.\n2. remove - BE CAREFUL ABOUT ORDER OF OPERATIONS. Each operation
      is applied sequentially. For arrays, remove the highest indexed value first
      to avoid shifting indices. This ensures subsequent remove operations remain
      valid.\n 3. add (for arrays, use /- to efficiently append to end).","type":"string"},"patches":{"description":"A
      list of JSONPatch operations to be applied to the previous tool call''s response
      arguments. If none are required, return an empty list. This field is REQUIRED.
      Multiple patches in the list are applied sequentially in the order provided,
      with each patch building upon the result of the previous one. Take care to respect
      array bounds. Order patches as follows:\n 1. replace - this keeps collection
      size the same\n 2. remove - BE CAREFUL about order of operations. For arrays,
      remove the highest indexed value first to avoid shifting indices.\n 3. add -
      for arrays, use /- to efficiently append to end.","items":{"description":"A
      JSON Patch document represents an operation to be performed on a JSON document.\n\nNote
      that the op and path are ALWAYS required. Value is required for ALL operations
      except ''remove''.","examples":[{"op":"replace","path":"/path/to/my_array/1","value":"the
      newer value to be patched"},{"op":"replace","path":"/path/to/broken_object","value":{"new":"object"}},{"op":"add","path":"/path/to/my_array/-","value":["some","values"]},{"op":"add","path":"/path/to/my_array/-","value":["newer"]},{"op":"remove","path":"/path/to/my_array/1"}],"properties":{"op":{"description":"The
      operation to be performed. Must be one of ''add'', ''remove'', ''replace''.","enum":["add","remove","replace"],"type":"string"},"path":{"description":"A
      JSON Pointer path that references a location within the target document where
      the operation is performed. Note: patches are applied sequentially. If you remove
      a value, the collection size changes before the next patch is applied.","type":"string"},"value":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"type":"null"}]},"type":"object"},{"type":"null"}],"description":"The
      value to be used within the operation. REQUIRED for ''add'', ''replace'', and
      ''test'' operations. Pay close attention to the json schema to ensure patched
      document will be valid."}},"required":["op","path","value"],"type":"object"},"type":"array"}},"required":["json_doc_id","planned_edits","patches"],"type":"object"}},{"name":"RemoveDoc","description":"Use
      this tool to remove (delete) a doc by its ID.","input_schema":{"properties":{"json_doc_id":{"description":"ID
      of the document to remove. Must be one of: (''fa3888c4ab6954628d5b43db6f8a6d0f'',)","type":"string"}},"required":["json_doc_id"],"type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2xSX2/TMBD/Kta9FKS0NFlbtXmbxASMUm3QF2BTdLUvsYdje7HdtVT97sgpZUzw
        ZPl+/86+O4ASUELrm2qcf3xfbL+q5eVSeCd+fuL7b8XtbAcZhL2jxCLvsSHIoLM6FdB75QOaABm0
        VpCGErjGKGh4MZwOvTWGwrAYF5N8XBSQAbcmkAlQfj+cTYO1uoo+ufatpHusxvnlysWrXbO6egyL
        hXtabdwjLVOQwTbpbjBw+dbypDMuBigP8OCtqYTlVe9U48V8PucT3MwW08msmIvpZnIhNrN6jjMx
        riEDp9EYEhUJFTyUsJbEoqeOtWSCsoYEc+mRpmFBElvljHbYZuxJKi6Z8n1VqkaSD0zTljSzdV+8
        RoeGPLElmiZiQ+yms7Xiigzfs3Xiv7pe3qxfj9haKs+UEYpjoJNl34NE/2yjzzbu2WbE3qktGRak
        8hn7wLy0UQsWncBAvc8fVa1IC1Z3tmUDMgMWLBs8YH92VGviIfFVxwS11vjQYSDxn3TcKK3CfnRn
        7syXQM6XdyYfsc/kNPJT5uBMHvxOfVJB9mnpw9PUyPcLYB2U0J2UJ0hCCW/OcshgizqmWT8gHO+P
        x/sMfLCu6gi9NS93pwc8PUYynKA0UesMYr+u5eG0IVWwP8h4KPNFMcuAI5dU8Y4wTbp6SRmf8Y5Q
        /IvZGP6uFPn0ePwFAAD//wMAsgTD2UsDAAA=
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 90e73a603a802b95-LAX
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 07 Feb 2025 23:41:02 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-02-07T23:40:59Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-02-07T23:41:02Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-02-07T23:40:58Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-02-07T23:40:59Z'
      request-id:
      - req_01HzSEhffgWLQPvyiLha8xPJ
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"Extract all user
      information and events as triples.\n\nEnrich, prune, and organize memories based
      on any new information. If an existing memory is incorrect or outdated, update
      it based on the new information. All operations must be done in single parallel
      call.\n\n<session_bc86ef88-92c9-402c-bdeb-942070b76005>\n================================
      Human Message =================================\n\nAlice manages the ML team
      and mentors Bob, who is also on the team.\n</session_bc86ef88-92c9-402c-bdeb-942070b76005>"}],"model":"claude-3-5-sonnet-latest","system":"You
      are a memory subroutine for an AI.\n\n","tool_choice":{"type":"any"},"tools":[{"name":"Triple","description":"Store
      all new facts, preferences, and relationships as triples.","input_schema":{"description":"Store
      all new facts, preferences, and relationships as triples.","properties":{"subject":{"title":"Subject","type":"string"},"predicate":{"title":"Predicate","type":"string"},"object":{"title":"Object","type":"string"},"context":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Context"}},"required":["subject","predicate","object"],"title":"Triple","type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA6SS3UrDQBCF32Wut5DEpra5s2IRq+K/FJFluxnjanY37sxWa+m7SyIFi4KCl3PO
        mZmPYVZgSijAUiWTNH97mhgacj47elkEXC7GU3t9BgJ42WCbQiJVIQgIvm4FRWSIlWMQYH2JNRSg
        axVL7O308h5555B7WZL10yTLQID2jtExFHerzVD2vpaR2qkdSltHmaQH4WwyuB0t3cjOpvvj89Hu
        seE25ZRt+66CaequyzWRoVgBxfkTaoYC9mqjW6sJWBqtuINXTlVIIMBvYifHklFZWK/FrzhHr409
        fJ6o1+lJdTOevS8WzbA6/AcOOvZhC2fs539COb3oDy5nj3ncOaDdyUU+TOn68o8o7Y5tEEPSop1j
        kP7h5+PcCyD2jQyoyLttsM4gfInoNELhYl0LiN2XFKtPAMn+GR1BMcgyAVrpR5Q6oGLjndxOJBs/
        oCq/ez7yVyVLh+v1BwAAAP//AwAhARUNwQIAAA==
    headers:
      CF-RAY:
      - 90e73ab869357d3f-LAX
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 07 Feb 2025 23:41:15 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-02-07T23:41:13Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-02-07T23:41:15Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-02-07T23:41:12Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-02-07T23:41:13Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01W7BdQvPDqXnujqhEn5LB3T
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"Extract all user
      information and events as triples.\n\nEnrich, prune, and organize memories based
      on any new information. If an existing memory is incorrect or outdated, update
      it based on the new information. All operations must be done in single parallel
      call.\n\n<session_75b0d634-0599-4456-ac26-95ec530320d4>\n================================
      Human Message =================================\n\nBob now leads the ML team
      and the NLP project.\n</session_75b0d634-0599-4456-ac26-95ec530320d4>"}],"model":"claude-3-5-sonnet-latest","system":"You
      are a memory subroutine for an AI.\n\n\n\nGenerate JSONPatches to update the
      existing schema instances. If you need to extract or insert *new* instances
      of the schemas, call the relevant function(s).\n<existing>\n<instance id=73ee4a51fb8451f8a9abdaddfd2cdfef
      schema_type=\"Triple\">\n{''subject'': ''Alice'', ''predicate'': ''manages'',
      ''object'': ''ML_team'', ''context'': None}\n</instance>\n<instance id=a3dd7e0dc0c654d59db78778c18db555
      schema_type=\"Triple\">\n{''subject'': ''Alice'', ''predicate'': ''mentors'',
      ''object'': ''Bob'', ''context'': None}\n</instance>\n<instance id=e34a006a4c7954618d3807d3dbedb95d
      schema_type=\"Triple\">\n{''subject'': ''Bob'', ''predicate'': ''is_member_of'',
      ''object'': ''ML_team'', ''context'': None}\n</instance>\n</existing>\n","tool_choice":{"type":"any"},"tools":[{"name":"PatchDoc","description":"Respond
      with JSONPatch operations to update the existing JSON document based on the
      provided text and schema.","input_schema":{"properties":{"json_doc_id":{"description":"The
      json_doc_id of the document you are patching.","type":"string"},"planned_edits":{"description":"Think
      step-by-step, reasoning over each required update and the corresponding JSONPatch
      operation to accomplish it. Cite the fields in the JSONSchema you referenced
      in developing this plan. Address each path as a group; don''t switch between
      paths.\n Plan your patches in the following order:1. replace - this keeps collection
      size the same.\n2. remove - BE CAREFUL ABOUT ORDER OF OPERATIONS. Each operation
      is applied sequentially. For arrays, remove the highest indexed value first
      to avoid shifting indices. This ensures subsequent remove operations remain
      valid.\n 3. add (for arrays, use /- to efficiently append to end).","type":"string"},"patches":{"description":"A
      list of JSONPatch operations to be applied to the previous tool call''s response
      arguments. If none are required, return an empty list. This field is REQUIRED.
      Multiple patches in the list are applied sequentially in the order provided,
      with each patch building upon the result of the previous one. Take care to respect
      array bounds. Order patches as follows:\n 1. replace - this keeps collection
      size the same\n 2. remove - BE CAREFUL about order of operations. For arrays,
      remove the highest indexed value first to avoid shifting indices.\n 3. add -
      for arrays, use /- to efficiently append to end.","items":{"description":"A
      JSON Patch document represents an operation to be performed on a JSON document.\n\nNote
      that the op and path are ALWAYS required. Value is required for ALL operations
      except ''remove''.","examples":[{"op":"replace","path":"/path/to/my_array/1","value":"the
      newer value to be patched"},{"op":"replace","path":"/path/to/broken_object","value":{"new":"object"}},{"op":"add","path":"/path/to/my_array/-","value":["some","values"]},{"op":"add","path":"/path/to/my_array/-","value":["newer"]},{"op":"remove","path":"/path/to/my_array/1"}],"properties":{"op":{"description":"The
      operation to be performed. Must be one of ''add'', ''remove'', ''replace''.","enum":["add","remove","replace"],"type":"string"},"path":{"description":"A
      JSON Pointer path that references a location within the target document where
      the operation is performed. Note: patches are applied sequentially. If you remove
      a value, the collection size changes before the next patch is applied.","type":"string"},"value":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"type":"null"}]},"type":"object"},{"type":"null"}],"description":"The
      value to be used within the operation. REQUIRED for ''add'', ''replace'', and
      ''test'' operations. Pay close attention to the json schema to ensure patched
      document will be valid."}},"required":["op","path","value"],"type":"object"},"type":"array"}},"required":["json_doc_id","planned_edits","patches"],"type":"object"}},{"name":"Triple","description":"Store
      all new facts, preferences, and relationships as triples.","input_schema":{"properties":{"subject":{"type":"string"},"predicate":{"type":"string"},"object":{"type":"string"},"context":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null}},"required":["subject","predicate","object"],"type":"object"}},{"name":"RemoveDoc","description":"Use
      this tool to remove (delete) a doc by its ID.","input_schema":{"properties":{"json_doc_id":{"description":"ID
      of the document to remove. Must be one of: (''73ee4a51fb8451f8a9abdaddfd2cdfef'',
      ''a3dd7e0dc0c654d59db78778c18db555'', ''e34a006a4c7954618d3807d3dbedb95d'')","type":"string"}},"required":["json_doc_id"],"type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA6ySTW/aQBCG/8ucF8lecADfoI0SIRIR0irQKFqtd8fEjr1jvLu0DvJ/r+wKJSiH
        5pDjzPsxz2GOkGmIobQ7EYTT8ez+9Xr5kF8d9O8wks3qkEQ/gYFrKuxcaK3cITCoqegW0trMOmkc
        MChJYwExqEJ6jYPhIBpYMgbdgAd8FAacAwNFxqFxED8eT6WOqBDedq09Sjd7EYQbPt9vsJ5uXobT
        WbVXSf5rM94CAyPLLrfGkg74nVQXNJV3EB8ht2SEJiX6qvEQcSSjME0moyhMJ3IqEy21TjVXOsUU
        2pb9l2O2OKyqNV8k+s9km2XrfHy33y7eOH7UWVXgewjrkxyVgxjmlACDqkadKek6d4FSW2BAJ8vN
        UjiU5adQovXDrrmZNdni9dtF0sxv84lvLr8M5Xa5ElVN/dS2Twyso0rUKC2Zc6pesLj3aBRCbHxR
        MPD9b8THf9eFoxc0FmLOg5CBkuoZhapRuoyMOLcEJ71GqT9q5N1ZYTBs278AAAD//wMAMkdjp7gC
        AAA=
    headers:
      CF-RAY:
      - 90e73acb0a947d3f-LAX
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 07 Feb 2025 23:41:19 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-02-07T23:41:16Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-02-07T23:41:19Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-02-07T23:41:15Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-02-07T23:41:16Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01Tf6NT89o9xjkNPw7xhN3G9
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":1024,"messages":[{"role":"user","content":"Extract all user
      information and events as triples.\n\nEnrich, prune, and organize memories based
      on any new information. If an existing memory is incorrect or outdated, update
      it based on the new information. All operations must be done in single parallel
      call.\n\n<session_7b9becdd-ed23-4be6-af68-f2a16a3d777d>\n================================
      Human Message =================================\n\nAlice left the company.\n</session_7b9becdd-ed23-4be6-af68-f2a16a3d777d>"}],"model":"claude-3-5-sonnet-latest","system":"You
      are a memory subroutine for an AI.\n\n\n\nGenerate JSONPatches to update the
      existing schema instances. If you need to extract or insert *new* instances
      of the schemas, call the relevant function(s).\n<existing>\n<instance id=a3dd7e0dc0c654d59db78778c18db555
      schema_type=\"Triple\">\n{''subject'': ''Alice'', ''predicate'': ''mentors'',
      ''object'': ''Bob'', ''context'': None}\n</instance>\n<instance id=e34a006a4c7954618d3807d3dbedb95d
      schema_type=\"Triple\">\n{''subject'': ''Bob'', ''predicate'': ''is_member_of'',
      ''object'': ''ML_team'', ''context'': None}\n</instance>\n<instance id=5680e20d97e1598f8f32905c27c45c81
      schema_type=\"Triple\">\n{''subject'': ''Bob'', ''predicate'': ''leads'', ''object'':
      ''ML_team'', ''context'': None}\n</instance>\n<instance id=2ec955a0d836529a9702e5722d21fbc3
      schema_type=\"Triple\">\n{''subject'': ''Bob'', ''predicate'': ''leads'', ''object'':
      ''NLP_project'', ''context'': None}\n</instance>\n</existing>\n","tool_choice":{"type":"any"},"tools":[{"name":"PatchDoc","description":"Respond
      with JSONPatch operations to update the existing JSON document based on the
      provided text and schema.","input_schema":{"properties":{"json_doc_id":{"description":"The
      json_doc_id of the document you are patching.","type":"string"},"planned_edits":{"description":"Think
      step-by-step, reasoning over each required update and the corresponding JSONPatch
      operation to accomplish it. Cite the fields in the JSONSchema you referenced
      in developing this plan. Address each path as a group; don''t switch between
      paths.\n Plan your patches in the following order:1. replace - this keeps collection
      size the same.\n2. remove - BE CAREFUL ABOUT ORDER OF OPERATIONS. Each operation
      is applied sequentially. For arrays, remove the highest indexed value first
      to avoid shifting indices. This ensures subsequent remove operations remain
      valid.\n 3. add (for arrays, use /- to efficiently append to end).","type":"string"},"patches":{"description":"A
      list of JSONPatch operations to be applied to the previous tool call''s response
      arguments. If none are required, return an empty list. This field is REQUIRED.
      Multiple patches in the list are applied sequentially in the order provided,
      with each patch building upon the result of the previous one. Take care to respect
      array bounds. Order patches as follows:\n 1. replace - this keeps collection
      size the same\n 2. remove - BE CAREFUL about order of operations. For arrays,
      remove the highest indexed value first to avoid shifting indices.\n 3. add -
      for arrays, use /- to efficiently append to end.","items":{"description":"A
      JSON Patch document represents an operation to be performed on a JSON document.\n\nNote
      that the op and path are ALWAYS required. Value is required for ALL operations
      except ''remove''.","examples":[{"op":"replace","path":"/path/to/my_array/1","value":"the
      newer value to be patched"},{"op":"replace","path":"/path/to/broken_object","value":{"new":"object"}},{"op":"add","path":"/path/to/my_array/-","value":["some","values"]},{"op":"add","path":"/path/to/my_array/-","value":["newer"]},{"op":"remove","path":"/path/to/my_array/1"}],"properties":{"op":{"description":"The
      operation to be performed. Must be one of ''add'', ''remove'', ''replace''.","enum":["add","remove","replace"],"type":"string"},"path":{"description":"A
      JSON Pointer path that references a location within the target document where
      the operation is performed. Note: patches are applied sequentially. If you remove
      a value, the collection size changes before the next patch is applied.","type":"string"},"value":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"boolean"},{"type":"number"},{"type":"null"}]},"type":"object"},{"type":"null"}]},"type":"object"},{"type":"null"}],"description":"The
      value to be used within the operation. REQUIRED for ''add'', ''replace'', and
      ''test'' operations. Pay close attention to the json schema to ensure patched
      document will be valid."}},"required":["op","path","value"],"type":"object"},"type":"array"}},"required":["json_doc_id","planned_edits","patches"],"type":"object"}},{"name":"Triple","description":"Store
      all new facts, preferences, and relationships as triples.","input_schema":{"properties":{"subject":{"type":"string"},"predicate":{"type":"string"},"object":{"type":"string"},"context":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null}},"required":["subject","predicate","object"],"type":"object"}},{"name":"RemoveDoc","description":"Use
      this tool to remove (delete) a doc by its ID.","input_schema":{"properties":{"json_doc_id":{"description":"ID
      of the document to remove. Must be one of: (''2ec955a0d836529a9702e5722d21fbc3'',
      ''5680e20d97e1598f8f32905c27c45c81'', ''a3dd7e0dc0c654d59db78778c18db555'',
      ''e34a006a4c7954618d3807d3dbedb95d'')","type":"string"}},"required":["json_doc_id"],"type":"object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA4SR0UvjQBDG/5d53kKSmjbNm5wYOL1DjwpaOZbt7FiT2+zE7GxVSv53SaSc4oOP
        833ffPODOUBtoYQ27HSS/q5+NKk0i+z6V7pf8aau8LGqQYG8djSmKASzI1DQsxsFE0IdxHgBBS1b
        clACOhMtzeazfBbYe5JZlmQnaZJloADZC3mB8v5wLBVmp2MYWyeUcY46Se8W+W2xumzkYn2x2fnn
        68vmpahAgTftuLfu685NW76LAuUBQtw2hAIlnLoaR6vrydZoZMw7ehCN3HbGv4ICPmaljwTDoL4F
        uqn2fo5P1aK4oYfz/dVPuXq+Xf8H+kMt7+mM8SNTE9hry6inKjO3dkmJxQQX+YnNV3a7LJbLAtPC
        bvM8h2H4qyAId7onE9h/xpmMQE+RPBKUPjqnIE4vKQ/vN7XwP/IByixb5QrQ4CNp7MlIzV5/jiRH
        vydjv3oc5aOSztNheAMAAP//AwCyqDD1LwIAAA==
    headers:
      CF-RAY:
      - 90e73ae3b8d37d3f-LAX
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 07 Feb 2025 23:41:21 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-02-07T23:41:20Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-02-07T23:41:21Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-02-07T23:41:19Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-02-07T23:41:20Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_01Xvu2mS2YWYewhNPws38EbM
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
version: 1
